(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bP={exports:{}},Fd={},xP={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lc=Symbol.for("react.element"),KM=Symbol.for("react.portal"),GM=Symbol.for("react.fragment"),XM=Symbol.for("react.strict_mode"),YM=Symbol.for("react.profiler"),QM=Symbol.for("react.provider"),JM=Symbol.for("react.context"),ZM=Symbol.for("react.forward_ref"),eD=Symbol.for("react.suspense"),tD=Symbol.for("react.memo"),nD=Symbol.for("react.lazy"),hx=Symbol.iterator;function rD(t){return t===null||typeof t!="object"?null:(t=hx&&t[hx]||t["@@iterator"],typeof t=="function"?t:null)}var EP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SP=Object.assign,TP={};function As(t,e,n){this.props=t,this.context=e,this.refs=TP,this.updater=n||EP}As.prototype.isReactComponent={};As.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};As.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function AP(){}AP.prototype=As.prototype;function T0(t,e,n){this.props=t,this.context=e,this.refs=TP,this.updater=n||EP}var A0=T0.prototype=new AP;A0.constructor=T0;SP(A0,As.prototype);A0.isPureReactComponent=!0;var dx=Array.isArray,PP=Object.prototype.hasOwnProperty,P0={current:null},IP={key:!0,ref:!0,__self:!0,__source:!0};function OP(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)PP.call(e,r)&&!IP.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:lc,type:t,key:o,ref:a,props:i,_owner:P0.current}}function iD(t,e){return{$$typeof:lc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function I0(t){return typeof t=="object"&&t!==null&&t.$$typeof===lc}function oD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var px=/\/+/g;function Om(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oD(""+t.key):e.toString(36)}function Df(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case lc:case KM:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Om(a,0):r,dx(i)?(n="",t!=null&&(n=t.replace(px,"$&/")+"/"),Df(i,e,n,"",function(u){return u})):i!=null&&(I0(i)&&(i=iD(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(px,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",dx(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Om(o,s);a+=Df(o,e,n,l,i)}else if(l=rD(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Om(o,s++),a+=Df(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Jc(t,e,n){if(t==null)return t;var r=[],i=0;return Df(t,r,"","",function(o){return e.call(n,o,i++)}),r}function aD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var on={current:null},jf={transition:null},sD={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:jf,ReactCurrentOwner:P0};function CP(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Jc,forEach:function(t,e,n){Jc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Jc(t,function(){e++}),e},toArray:function(t){return Jc(t,function(e){return e})||[]},only:function(t){if(!I0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=As;_e.Fragment=GM;_e.Profiler=YM;_e.PureComponent=T0;_e.StrictMode=XM;_e.Suspense=eD;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sD;_e.act=CP;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=SP({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=P0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)PP.call(e,l)&&!IP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:lc,type:t.type,key:i,ref:o,props:r,_owner:a}};_e.createContext=function(t){return t={$$typeof:JM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QM,_context:t},t.Consumer=t};_e.createElement=OP;_e.createFactory=function(t){var e=OP.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:ZM,render:t}};_e.isValidElement=I0;_e.lazy=function(t){return{$$typeof:nD,_payload:{_status:-1,_result:t},_init:aD}};_e.memo=function(t,e){return{$$typeof:tD,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=jf.transition;jf.transition={};try{t()}finally{jf.transition=e}};_e.unstable_act=CP;_e.useCallback=function(t,e){return on.current.useCallback(t,e)};_e.useContext=function(t){return on.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return on.current.useDeferredValue(t)};_e.useEffect=function(t,e){return on.current.useEffect(t,e)};_e.useId=function(){return on.current.useId()};_e.useImperativeHandle=function(t,e,n){return on.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return on.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return on.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return on.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return on.current.useReducer(t,e,n)};_e.useRef=function(t){return on.current.useRef(t)};_e.useState=function(t){return on.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return on.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return on.current.useTransition()};_e.version="18.3.1";xP.exports=_e;var U=xP.exports;const V=ze(U);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lD=U,uD=Symbol.for("react.element"),cD=Symbol.for("react.fragment"),fD=Object.prototype.hasOwnProperty,hD=lD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dD={key:!0,ref:!0,__self:!0,__source:!0};function kP(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)fD.call(e,r)&&!dD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:uD,type:t,key:o,ref:a,props:i,_owner:hD.current}}Fd.Fragment=cD;Fd.jsx=kP;Fd.jsxs=kP;bP.exports=Fd;var M=bP.exports,Fg={},RP={exports:{}},Tn={},NP={exports:{}},MP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,z){var G=D.length;D.push(z);e:for(;0<G;){var te=G-1>>>1,X=D[te];if(0<i(X,z))D[te]=z,D[G]=X,G=te;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var z=D[0],G=D.pop();if(G!==z){D[0]=G;e:for(var te=0,X=D.length,ne=X>>>1;te<ne;){var ye=2*(te+1)-1,Ee=D[ye],$e=ye+1,L=D[$e];if(0>i(Ee,G))$e<X&&0>i(L,Ee)?(D[te]=L,D[$e]=G,te=$e):(D[te]=Ee,D[ye]=G,te=ye);else if($e<X&&0>i(L,G))D[te]=L,D[$e]=G,te=$e;else break e}}return z}function i(D,z){var G=D.sortIndex-z.sortIndex;return G!==0?G:D.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],f=1,h=null,d=3,p=!1,v=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=D)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function I(D){if(g=!1,b(D),!v)if(n(l)!==null)v=!0,H(T);else{var z=n(u);z!==null&&q(I,z.startTime-D)}}function T(D,z){v=!1,g&&(g=!1,y(E),E=-1),p=!0;var G=d;try{for(b(z),h=n(l);h!==null&&(!(h.expirationTime>z)||D&&!O());){var te=h.callback;if(typeof te=="function"){h.callback=null,d=h.priorityLevel;var X=te(h.expirationTime<=z);z=t.unstable_now(),typeof X=="function"?h.callback=X:h===n(l)&&r(l),b(z)}else r(l);h=n(l)}if(h!==null)var ne=!0;else{var ye=n(u);ye!==null&&q(I,ye.startTime-z),ne=!1}return ne}finally{h=null,d=G,p=!1}}var A=!1,x=null,E=-1,P=5,C=-1;function O(){return!(t.unstable_now()-C<P)}function N(){if(x!==null){var D=t.unstable_now();C=D;var z=!0;try{z=x(!0,D)}finally{z?k():(A=!1,x=null)}}else A=!1}var k;if(typeof _=="function")k=function(){_(N)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,$=B.port2;B.port1.onmessage=N,k=function(){$.postMessage(null)}}else k=function(){w(N,0)};function H(D){x=D,A||(A=!0,k())}function q(D,z){E=w(function(){D(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,H(T))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var G=d;d=z;try{return D()}finally{d=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=d;d=D;try{return z()}finally{d=G}},t.unstable_scheduleCallback=function(D,z,G){var te=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?te+G:te):G=te,D){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=G+X,D={id:f++,callback:z,priorityLevel:D,startTime:G,expirationTime:X,sortIndex:-1},G>te?(D.sortIndex=G,e(u,D),n(l)===null&&D===n(u)&&(g?(y(E),E=-1):g=!0,q(I,G-te))):(D.sortIndex=X,e(l,D),v||p||(v=!0,H(T))),D},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(D){var z=d;return function(){var G=d;d=z;try{return D.apply(this,arguments)}finally{d=G}}}})(MP);NP.exports=MP;var pD=NP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mD=U,Sn=pD;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DP=new Set,tu={};function zo(t,e){za(t,e),za(t+"Capture",e)}function za(t,e){for(tu[t]=e,t=0;t<e.length;t++)DP.add(e[t])}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ug=Object.prototype.hasOwnProperty,gD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mx={},gx={};function vD(t){return Ug.call(gx,t)?!0:Ug.call(mx,t)?!1:gD.test(t)?gx[t]=!0:(mx[t]=!0,!1)}function yD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _D(t,e,n,r){if(e===null||typeof e>"u"||yD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function an(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$t[t]=new an(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$t[e]=new an(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$t[t]=new an(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$t[t]=new an(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$t[t]=new an(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$t[t]=new an(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$t[t]=new an(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$t[t]=new an(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$t[t]=new an(t,5,!1,t.toLowerCase(),null,!1,!1)});var O0=/[\-:]([a-z])/g;function C0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(O0,C0);$t[e]=new an(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(O0,C0);$t[e]=new an(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(O0,C0);$t[e]=new an(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$t[t]=new an(t,1,!1,t.toLowerCase(),null,!1,!1)});$t.xlinkHref=new an("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$t[t]=new an(t,1,!1,t.toLowerCase(),null,!0,!0)});function k0(t,e,n,r){var i=$t.hasOwnProperty(e)?$t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_D(e,n,i,r)&&(n=null),r||i===null?vD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ti=mD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zc=Symbol.for("react.element"),da=Symbol.for("react.portal"),pa=Symbol.for("react.fragment"),R0=Symbol.for("react.strict_mode"),Bg=Symbol.for("react.profiler"),jP=Symbol.for("react.provider"),$P=Symbol.for("react.context"),N0=Symbol.for("react.forward_ref"),zg=Symbol.for("react.suspense"),Wg=Symbol.for("react.suspense_list"),M0=Symbol.for("react.memo"),di=Symbol.for("react.lazy"),LP=Symbol.for("react.offscreen"),vx=Symbol.iterator;function sl(t){return t===null||typeof t!="object"?null:(t=vx&&t[vx]||t["@@iterator"],typeof t=="function"?t:null)}var nt=Object.assign,Cm;function Al(t){if(Cm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cm=e&&e[1]||""}return`
`+Cm+t}var km=!1;function Rm(t,e){if(!t||km)return"";km=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{km=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Al(t):""}function wD(t){switch(t.tag){case 5:return Al(t.type);case 16:return Al("Lazy");case 13:return Al("Suspense");case 19:return Al("SuspenseList");case 0:case 2:case 15:return t=Rm(t.type,!1),t;case 11:return t=Rm(t.type.render,!1),t;case 1:return t=Rm(t.type,!0),t;default:return""}}function Hg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pa:return"Fragment";case da:return"Portal";case Bg:return"Profiler";case R0:return"StrictMode";case zg:return"Suspense";case Wg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $P:return(t.displayName||"Context")+".Consumer";case jP:return(t._context.displayName||"Context")+".Provider";case N0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M0:return e=t.displayName||null,e!==null?e:Hg(t.type)||"Memo";case di:e=t._payload,t=t._init;try{return Hg(t(e))}catch{}}return null}function bD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hg(e);case 8:return e===R0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function VP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xD(t){var e=VP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ef(t){t._valueTracker||(t._valueTracker=xD(t))}function FP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=VP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qg(t,e){var n=e.checked;return nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function UP(t,e){e=e.checked,e!=null&&k0(t,"checked",e,!1)}function Kg(t,e){UP(t,e);var n=Vi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gg(t,e.type,Vi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _x(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gg(t,e,n){(e!=="number"||nh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Pl=Array.isArray;function Oa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Xg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Pl(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vi(n)}}function BP(t,e){var n=Vi(e.value),r=Vi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tf,WP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(tf=tf||document.createElement("div"),tf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $l={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ED=["Webkit","ms","Moz","O"];Object.keys($l).forEach(function(t){ED.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$l[e]=$l[t]})});function HP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$l.hasOwnProperty(t)&&$l[t]?(""+e).trim():e+"px"}function qP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=HP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var SD=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qg(t,e){if(e){if(SD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function Jg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zg=null;function D0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ev=null,Ca=null,ka=null;function xx(t){if(t=fc(t)){if(typeof ev!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Hd(e),ev(t.stateNode,t.type,e))}}function KP(t){Ca?ka?ka.push(t):ka=[t]:Ca=t}function GP(){if(Ca){var t=Ca,e=ka;if(ka=Ca=null,xx(t),e)for(t=0;t<e.length;t++)xx(e[t])}}function XP(t,e){return t(e)}function YP(){}var Nm=!1;function QP(t,e,n){if(Nm)return t(e,n);Nm=!0;try{return XP(t,e,n)}finally{Nm=!1,(Ca!==null||ka!==null)&&(YP(),GP())}}function ru(t,e){var n=t.stateNode;if(n===null)return null;var r=Hd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var tv=!1;if(Wr)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){tv=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{tv=!1}function TD(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Ll=!1,rh=null,ih=!1,nv=null,AD={onError:function(t){Ll=!0,rh=t}};function PD(t,e,n,r,i,o,a,s,l){Ll=!1,rh=null,TD.apply(AD,arguments)}function ID(t,e,n,r,i,o,a,s,l){if(PD.apply(this,arguments),Ll){if(Ll){var u=rh;Ll=!1,rh=null}else throw Error(J(198));ih||(ih=!0,nv=u)}}function Wo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function JP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ex(t){if(Wo(t)!==t)throw Error(J(188))}function OD(t){var e=t.alternate;if(!e){if(e=Wo(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ex(i),t;if(o===r)return Ex(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function ZP(t){return t=OD(t),t!==null?eI(t):null}function eI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=eI(t);if(e!==null)return e;t=t.sibling}return null}var tI=Sn.unstable_scheduleCallback,Sx=Sn.unstable_cancelCallback,CD=Sn.unstable_shouldYield,kD=Sn.unstable_requestPaint,ut=Sn.unstable_now,RD=Sn.unstable_getCurrentPriorityLevel,j0=Sn.unstable_ImmediatePriority,nI=Sn.unstable_UserBlockingPriority,oh=Sn.unstable_NormalPriority,ND=Sn.unstable_LowPriority,rI=Sn.unstable_IdlePriority,Ud=null,fr=null;function MD(t){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(Ud,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:$D,DD=Math.log,jD=Math.LN2;function $D(t){return t>>>=0,t===0?32:31-(DD(t)/jD|0)|0}var nf=64,rf=4194304;function Il(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ah(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Il(s):(o&=a,o!==0&&(r=Il(o)))}else a=n&~i,a!==0?r=Il(a):o!==0&&(r=Il(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yn(e),i=1<<n,r|=t[n],e&=~i;return r}function LD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Yn(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=LD(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function rv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iI(){var t=nf;return nf<<=1,!(nf&4194240)&&(nf=64),t}function Mm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yn(e),t[e]=n}function FD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function $0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Me=0;function oI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var aI,L0,sI,lI,uI,iv=!1,of=[],Ai=null,Pi=null,Ii=null,iu=new Map,ou=new Map,gi=[],UD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tx(t,e){switch(t){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Ii=null;break;case"pointerover":case"pointerout":iu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ou.delete(e.pointerId)}}function ul(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=fc(e),e!==null&&L0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function BD(t,e,n,r,i){switch(e){case"focusin":return Ai=ul(Ai,t,e,n,r,i),!0;case"dragenter":return Pi=ul(Pi,t,e,n,r,i),!0;case"mouseover":return Ii=ul(Ii,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return iu.set(o,ul(iu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ou.set(o,ul(ou.get(o)||null,t,e,n,r,i)),!0}return!1}function cI(t){var e=ho(t.target);if(e!==null){var n=Wo(e);if(n!==null){if(e=n.tag,e===13){if(e=JP(n),e!==null){t.blockedOn=e,uI(t.priority,function(){sI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $f(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ov(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Zg=r,n.target.dispatchEvent(r),Zg=null}else return e=fc(n),e!==null&&L0(e),t.blockedOn=n,!1;e.shift()}return!0}function Ax(t,e,n){$f(t)&&n.delete(e)}function zD(){iv=!1,Ai!==null&&$f(Ai)&&(Ai=null),Pi!==null&&$f(Pi)&&(Pi=null),Ii!==null&&$f(Ii)&&(Ii=null),iu.forEach(Ax),ou.forEach(Ax)}function cl(t,e){t.blockedOn===e&&(t.blockedOn=null,iv||(iv=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,zD)))}function au(t){function e(i){return cl(i,t)}if(0<of.length){cl(of[0],t);for(var n=1;n<of.length;n++){var r=of[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ai!==null&&cl(Ai,t),Pi!==null&&cl(Pi,t),Ii!==null&&cl(Ii,t),iu.forEach(e),ou.forEach(e),n=0;n<gi.length;n++)r=gi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gi.length&&(n=gi[0],n.blockedOn===null);)cI(n),n.blockedOn===null&&gi.shift()}var Ra=ti.ReactCurrentBatchConfig,sh=!0;function WD(t,e,n,r){var i=Me,o=Ra.transition;Ra.transition=null;try{Me=1,V0(t,e,n,r)}finally{Me=i,Ra.transition=o}}function HD(t,e,n,r){var i=Me,o=Ra.transition;Ra.transition=null;try{Me=4,V0(t,e,n,r)}finally{Me=i,Ra.transition=o}}function V0(t,e,n,r){if(sh){var i=ov(t,e,n,r);if(i===null)Wm(t,e,r,lh,n),Tx(t,r);else if(BD(i,t,e,n,r))r.stopPropagation();else if(Tx(t,r),e&4&&-1<UD.indexOf(t)){for(;i!==null;){var o=fc(i);if(o!==null&&aI(o),o=ov(t,e,n,r),o===null&&Wm(t,e,r,lh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Wm(t,e,r,null,n)}}var lh=null;function ov(t,e,n,r){if(lh=null,t=D0(r),t=ho(t),t!==null)if(e=Wo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=JP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lh=t,null}function fI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RD()){case j0:return 1;case nI:return 4;case oh:case ND:return 16;case rI:return 536870912;default:return 16}default:return 16}}var xi=null,F0=null,Lf=null;function hI(){if(Lf)return Lf;var t,e=F0,n=e.length,r,i="value"in xi?xi.value:xi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Lf=i.slice(t,1<r?1-r:void 0)}function Vf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function af(){return!0}function Px(){return!1}function An(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?af:Px,this.isPropagationStopped=Px,this}return nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=af)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=af)},persist:function(){},isPersistent:af}),e}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},U0=An(Ps),cc=nt({},Ps,{view:0,detail:0}),qD=An(cc),Dm,jm,fl,Bd=nt({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:B0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fl&&(fl&&t.type==="mousemove"?(Dm=t.screenX-fl.screenX,jm=t.screenY-fl.screenY):jm=Dm=0,fl=t),Dm)},movementY:function(t){return"movementY"in t?t.movementY:jm}}),Ix=An(Bd),KD=nt({},Bd,{dataTransfer:0}),GD=An(KD),XD=nt({},cc,{relatedTarget:0}),$m=An(XD),YD=nt({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),QD=An(YD),JD=nt({},Ps,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZD=An(JD),ej=nt({},Ps,{data:0}),Ox=An(ej),tj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ij(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rj[t])?!!e[t]:!1}function B0(){return ij}var oj=nt({},cc,{key:function(t){if(t.key){var e=tj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:B0,charCode:function(t){return t.type==="keypress"?Vf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aj=An(oj),sj=nt({},Bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cx=An(sj),lj=nt({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:B0}),uj=An(lj),cj=nt({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),fj=An(cj),hj=nt({},Bd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dj=An(hj),pj=[9,13,27,32],z0=Wr&&"CompositionEvent"in window,Vl=null;Wr&&"documentMode"in document&&(Vl=document.documentMode);var mj=Wr&&"TextEvent"in window&&!Vl,dI=Wr&&(!z0||Vl&&8<Vl&&11>=Vl),kx=" ",Rx=!1;function pI(t,e){switch(t){case"keyup":return pj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ma=!1;function gj(t,e){switch(t){case"compositionend":return mI(e);case"keypress":return e.which!==32?null:(Rx=!0,kx);case"textInput":return t=e.data,t===kx&&Rx?null:t;default:return null}}function vj(t,e){if(ma)return t==="compositionend"||!z0&&pI(t,e)?(t=hI(),Lf=F0=xi=null,ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dI&&e.locale!=="ko"?null:e.data;default:return null}}var yj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yj[t.type]:e==="textarea"}function gI(t,e,n,r){KP(r),e=uh(e,"onChange"),0<e.length&&(n=new U0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fl=null,su=null;function _j(t){PI(t,0)}function zd(t){var e=ya(t);if(FP(e))return t}function wj(t,e){if(t==="change")return e}var vI=!1;if(Wr){var Lm;if(Wr){var Vm="oninput"in document;if(!Vm){var Mx=document.createElement("div");Mx.setAttribute("oninput","return;"),Vm=typeof Mx.oninput=="function"}Lm=Vm}else Lm=!1;vI=Lm&&(!document.documentMode||9<document.documentMode)}function Dx(){Fl&&(Fl.detachEvent("onpropertychange",yI),su=Fl=null)}function yI(t){if(t.propertyName==="value"&&zd(su)){var e=[];gI(e,su,t,D0(t)),QP(_j,e)}}function bj(t,e,n){t==="focusin"?(Dx(),Fl=e,su=n,Fl.attachEvent("onpropertychange",yI)):t==="focusout"&&Dx()}function xj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zd(su)}function Ej(t,e){if(t==="click")return zd(e)}function Sj(t,e){if(t==="input"||t==="change")return zd(e)}function Tj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var er=typeof Object.is=="function"?Object.is:Tj;function lu(t,e){if(er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ug.call(e,i)||!er(t[i],e[i]))return!1}return!0}function jx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $x(t,e){var n=jx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jx(n)}}function _I(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_I(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wI(){for(var t=window,e=nh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nh(t.document)}return e}function W0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Aj(t){var e=wI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_I(n.ownerDocument.documentElement,n)){if(r!==null&&W0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=$x(n,o);var a=$x(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Pj=Wr&&"documentMode"in document&&11>=document.documentMode,ga=null,av=null,Ul=null,sv=!1;function Lx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sv||ga==null||ga!==nh(r)||(r=ga,"selectionStart"in r&&W0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ul&&lu(Ul,r)||(Ul=r,r=uh(av,"onSelect"),0<r.length&&(e=new U0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ga)))}function sf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var va={animationend:sf("Animation","AnimationEnd"),animationiteration:sf("Animation","AnimationIteration"),animationstart:sf("Animation","AnimationStart"),transitionend:sf("Transition","TransitionEnd")},Fm={},bI={};Wr&&(bI=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Wd(t){if(Fm[t])return Fm[t];if(!va[t])return t;var e=va[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bI)return Fm[t]=e[n];return t}var xI=Wd("animationend"),EI=Wd("animationiteration"),SI=Wd("animationstart"),TI=Wd("transitionend"),AI=new Map,Vx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hi(t,e){AI.set(t,e),zo(e,[t])}for(var Um=0;Um<Vx.length;Um++){var Bm=Vx[Um],Ij=Bm.toLowerCase(),Oj=Bm[0].toUpperCase()+Bm.slice(1);Hi(Ij,"on"+Oj)}Hi(xI,"onAnimationEnd");Hi(EI,"onAnimationIteration");Hi(SI,"onAnimationStart");Hi("dblclick","onDoubleClick");Hi("focusin","onFocus");Hi("focusout","onBlur");Hi(TI,"onTransitionEnd");za("onMouseEnter",["mouseout","mouseover"]);za("onMouseLeave",["mouseout","mouseover"]);za("onPointerEnter",["pointerout","pointerover"]);za("onPointerLeave",["pointerout","pointerover"]);zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ol));function Fx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ID(r,e,void 0,t),t.currentTarget=null}function PI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Fx(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Fx(i,s,u),o=l}}}if(ih)throw t=nv,ih=!1,nv=null,t}function He(t,e){var n=e[hv];n===void 0&&(n=e[hv]=new Set);var r=t+"__bubble";n.has(r)||(II(e,t,2,!1),n.add(r))}function zm(t,e,n){var r=0;e&&(r|=4),II(n,t,r,e)}var lf="_reactListening"+Math.random().toString(36).slice(2);function uu(t){if(!t[lf]){t[lf]=!0,DP.forEach(function(n){n!=="selectionchange"&&(Cj.has(n)||zm(n,!1,t),zm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lf]||(e[lf]=!0,zm("selectionchange",!1,e))}}function II(t,e,n,r){switch(fI(e)){case 1:var i=WD;break;case 4:i=HD;break;default:i=V0}n=i.bind(null,e,n,t),i=void 0,!tv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Wm(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=ho(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}QP(function(){var u=o,f=D0(n),h=[];e:{var d=AI.get(t);if(d!==void 0){var p=U0,v=t;switch(t){case"keypress":if(Vf(n)===0)break e;case"keydown":case"keyup":p=aj;break;case"focusin":v="focus",p=$m;break;case"focusout":v="blur",p=$m;break;case"beforeblur":case"afterblur":p=$m;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ix;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=GD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uj;break;case xI:case EI:case SI:p=QD;break;case TI:p=fj;break;case"scroll":p=qD;break;case"wheel":p=dj;break;case"copy":case"cut":case"paste":p=ZD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Cx}var g=(e&4)!==0,w=!g&&t==="scroll",y=g?d!==null?d+"Capture":null:d;g=[];for(var _=u,b;_!==null;){b=_;var I=b.stateNode;if(b.tag===5&&I!==null&&(b=I,y!==null&&(I=ru(_,y),I!=null&&g.push(cu(_,I,b)))),w)break;_=_.return}0<g.length&&(d=new p(d,v,null,n,f),h.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Zg&&(v=n.relatedTarget||n.fromElement)&&(ho(v)||v[Hr]))break e;if((p||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?ho(v):null,v!==null&&(w=Wo(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(g=Ix,I="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=Cx,I="onPointerLeave",y="onPointerEnter",_="pointer"),w=p==null?d:ya(p),b=v==null?d:ya(v),d=new g(I,_+"leave",p,n,f),d.target=w,d.relatedTarget=b,I=null,ho(f)===u&&(g=new g(y,_+"enter",v,n,f),g.target=b,g.relatedTarget=w,I=g),w=I,p&&v)t:{for(g=p,y=v,_=0,b=g;b;b=ia(b))_++;for(b=0,I=y;I;I=ia(I))b++;for(;0<_-b;)g=ia(g),_--;for(;0<b-_;)y=ia(y),b--;for(;_--;){if(g===y||y!==null&&g===y.alternate)break t;g=ia(g),y=ia(y)}g=null}else g=null;p!==null&&Ux(h,d,p,g,!1),v!==null&&w!==null&&Ux(h,w,v,g,!0)}}e:{if(d=u?ya(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var T=wj;else if(Nx(d))if(vI)T=Sj;else{T=xj;var A=bj}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=Ej);if(T&&(T=T(t,u))){gI(h,T,n,f);break e}A&&A(t,d,u),t==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&Gg(d,"number",d.value)}switch(A=u?ya(u):window,t){case"focusin":(Nx(A)||A.contentEditable==="true")&&(ga=A,av=u,Ul=null);break;case"focusout":Ul=av=ga=null;break;case"mousedown":sv=!0;break;case"contextmenu":case"mouseup":case"dragend":sv=!1,Lx(h,n,f);break;case"selectionchange":if(Pj)break;case"keydown":case"keyup":Lx(h,n,f)}var x;if(z0)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ma?pI(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(dI&&n.locale!=="ko"&&(ma||E!=="onCompositionStart"?E==="onCompositionEnd"&&ma&&(x=hI()):(xi=f,F0="value"in xi?xi.value:xi.textContent,ma=!0)),A=uh(u,E),0<A.length&&(E=new Ox(E,t,null,n,f),h.push({event:E,listeners:A}),x?E.data=x:(x=mI(n),x!==null&&(E.data=x)))),(x=mj?gj(t,n):vj(t,n))&&(u=uh(u,"onBeforeInput"),0<u.length&&(f=new Ox("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=x))}PI(h,e)})}function cu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function uh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ru(t,n),o!=null&&r.unshift(cu(t,o,i)),o=ru(t,e),o!=null&&r.push(cu(t,o,i))),t=t.return}return r}function ia(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ux(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=ru(n,o),l!=null&&a.unshift(cu(n,l,s))):i||(l=ru(n,o),l!=null&&a.push(cu(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var kj=/\r\n?/g,Rj=/\u0000|\uFFFD/g;function Bx(t){return(typeof t=="string"?t:""+t).replace(kj,`
`).replace(Rj,"")}function uf(t,e,n){if(e=Bx(e),Bx(t)!==e&&n)throw Error(J(425))}function ch(){}var lv=null,uv=null;function cv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fv=typeof setTimeout=="function"?setTimeout:void 0,Nj=typeof clearTimeout=="function"?clearTimeout:void 0,zx=typeof Promise=="function"?Promise:void 0,Mj=typeof queueMicrotask=="function"?queueMicrotask:typeof zx<"u"?function(t){return zx.resolve(null).then(t).catch(Dj)}:fv;function Dj(t){setTimeout(function(){throw t})}function Hm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),au(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);au(e)}function Oi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Is=Math.random().toString(36).slice(2),lr="__reactFiber$"+Is,fu="__reactProps$"+Is,Hr="__reactContainer$"+Is,hv="__reactEvents$"+Is,jj="__reactListeners$"+Is,$j="__reactHandles$"+Is;function ho(t){var e=t[lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hr]||n[lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wx(t);t!==null;){if(n=t[lr])return n;t=Wx(t)}return e}t=n,n=t.parentNode}return null}function fc(t){return t=t[lr]||t[Hr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ya(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Hd(t){return t[fu]||null}var dv=[],_a=-1;function qi(t){return{current:t}}function Ge(t){0>_a||(t.current=dv[_a],dv[_a]=null,_a--)}function Be(t,e){_a++,dv[_a]=t.current,t.current=e}var Fi={},Qt=qi(Fi),fn=qi(!1),Io=Fi;function Wa(t,e){var n=t.type.contextTypes;if(!n)return Fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function hn(t){return t=t.childContextTypes,t!=null}function fh(){Ge(fn),Ge(Qt)}function Hx(t,e,n){if(Qt.current!==Fi)throw Error(J(168));Be(Qt,e),Be(fn,n)}function OI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,bD(t)||"Unknown",i));return nt({},n,r)}function hh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fi,Io=Qt.current,Be(Qt,t),Be(fn,fn.current),!0}function qx(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=OI(t,e,Io),r.__reactInternalMemoizedMergedChildContext=t,Ge(fn),Ge(Qt),Be(Qt,t)):Ge(fn),Be(fn,n)}var kr=null,qd=!1,qm=!1;function CI(t){kr===null?kr=[t]:kr.push(t)}function Lj(t){qd=!0,CI(t)}function Ki(){if(!qm&&kr!==null){qm=!0;var t=0,e=Me;try{var n=kr;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}kr=null,qd=!1}catch(i){throw kr!==null&&(kr=kr.slice(t+1)),tI(j0,Ki),i}finally{Me=e,qm=!1}}return null}var wa=[],ba=0,dh=null,ph=0,Cn=[],kn=0,Oo=null,Rr=1,Nr="";function ao(t,e){wa[ba++]=ph,wa[ba++]=dh,dh=t,ph=e}function kI(t,e,n){Cn[kn++]=Rr,Cn[kn++]=Nr,Cn[kn++]=Oo,Oo=t;var r=Rr;t=Nr;var i=32-Yn(r)-1;r&=~(1<<i),n+=1;var o=32-Yn(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Rr=1<<32-Yn(e)+i|n<<i|r,Nr=o+t}else Rr=1<<o|n<<i|r,Nr=t}function H0(t){t.return!==null&&(ao(t,1),kI(t,1,0))}function q0(t){for(;t===dh;)dh=wa[--ba],wa[ba]=null,ph=wa[--ba],wa[ba]=null;for(;t===Oo;)Oo=Cn[--kn],Cn[kn]=null,Nr=Cn[--kn],Cn[kn]=null,Rr=Cn[--kn],Cn[kn]=null}var En=null,bn=null,Xe=!1,Kn=null;function RI(t,e){var n=Rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Kx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,En=t,bn=Oi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,En=t,bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oo!==null?{id:Rr,overflow:Nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,En=t,bn=null,!0):!1;default:return!1}}function pv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mv(t){if(Xe){var e=bn;if(e){var n=e;if(!Kx(t,e)){if(pv(t))throw Error(J(418));e=Oi(n.nextSibling);var r=En;e&&Kx(t,e)?RI(r,n):(t.flags=t.flags&-4097|2,Xe=!1,En=t)}}else{if(pv(t))throw Error(J(418));t.flags=t.flags&-4097|2,Xe=!1,En=t}}}function Gx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;En=t}function cf(t){if(t!==En)return!1;if(!Xe)return Gx(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!cv(t.type,t.memoizedProps)),e&&(e=bn)){if(pv(t))throw NI(),Error(J(418));for(;e;)RI(t,e),e=Oi(e.nextSibling)}if(Gx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){bn=Oi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}bn=null}}else bn=En?Oi(t.stateNode.nextSibling):null;return!0}function NI(){for(var t=bn;t;)t=Oi(t.nextSibling)}function Ha(){bn=En=null,Xe=!1}function K0(t){Kn===null?Kn=[t]:Kn.push(t)}var Vj=ti.ReactCurrentBatchConfig;function hl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function ff(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xx(t){var e=t._init;return e(t._payload)}function MI(t){function e(y,_){if(t){var b=y.deletions;b===null?(y.deletions=[_],y.flags|=16):b.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function r(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=Ni(y,_),y.index=0,y.sibling=null,y}function o(y,_,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<_?(y.flags|=2,_):b):(y.flags|=2,_)):(y.flags|=1048576,_)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function s(y,_,b,I){return _===null||_.tag!==6?(_=Zm(b,y.mode,I),_.return=y,_):(_=i(_,b),_.return=y,_)}function l(y,_,b,I){var T=b.type;return T===pa?f(y,_,b.props.children,I,b.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===di&&Xx(T)===_.type)?(I=i(_,b.props),I.ref=hl(y,_,b),I.return=y,I):(I=qf(b.type,b.key,b.props,null,y.mode,I),I.ref=hl(y,_,b),I.return=y,I)}function u(y,_,b,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=eg(b,y.mode,I),_.return=y,_):(_=i(_,b.children||[]),_.return=y,_)}function f(y,_,b,I,T){return _===null||_.tag!==7?(_=xo(b,y.mode,I,T),_.return=y,_):(_=i(_,b),_.return=y,_)}function h(y,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Zm(""+_,y.mode,b),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Zc:return b=qf(_.type,_.key,_.props,null,y.mode,b),b.ref=hl(y,null,_),b.return=y,b;case da:return _=eg(_,y.mode,b),_.return=y,_;case di:var I=_._init;return h(y,I(_._payload),b)}if(Pl(_)||sl(_))return _=xo(_,y.mode,b,null),_.return=y,_;ff(y,_)}return null}function d(y,_,b,I){var T=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return T!==null?null:s(y,_,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zc:return b.key===T?l(y,_,b,I):null;case da:return b.key===T?u(y,_,b,I):null;case di:return T=b._init,d(y,_,T(b._payload),I)}if(Pl(b)||sl(b))return T!==null?null:f(y,_,b,I,null);ff(y,b)}return null}function p(y,_,b,I,T){if(typeof I=="string"&&I!==""||typeof I=="number")return y=y.get(b)||null,s(_,y,""+I,T);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Zc:return y=y.get(I.key===null?b:I.key)||null,l(_,y,I,T);case da:return y=y.get(I.key===null?b:I.key)||null,u(_,y,I,T);case di:var A=I._init;return p(y,_,b,A(I._payload),T)}if(Pl(I)||sl(I))return y=y.get(b)||null,f(_,y,I,T,null);ff(_,I)}return null}function v(y,_,b,I){for(var T=null,A=null,x=_,E=_=0,P=null;x!==null&&E<b.length;E++){x.index>E?(P=x,x=null):P=x.sibling;var C=d(y,x,b[E],I);if(C===null){x===null&&(x=P);break}t&&x&&C.alternate===null&&e(y,x),_=o(C,_,E),A===null?T=C:A.sibling=C,A=C,x=P}if(E===b.length)return n(y,x),Xe&&ao(y,E),T;if(x===null){for(;E<b.length;E++)x=h(y,b[E],I),x!==null&&(_=o(x,_,E),A===null?T=x:A.sibling=x,A=x);return Xe&&ao(y,E),T}for(x=r(y,x);E<b.length;E++)P=p(x,y,E,b[E],I),P!==null&&(t&&P.alternate!==null&&x.delete(P.key===null?E:P.key),_=o(P,_,E),A===null?T=P:A.sibling=P,A=P);return t&&x.forEach(function(O){return e(y,O)}),Xe&&ao(y,E),T}function g(y,_,b,I){var T=sl(b);if(typeof T!="function")throw Error(J(150));if(b=T.call(b),b==null)throw Error(J(151));for(var A=T=null,x=_,E=_=0,P=null,C=b.next();x!==null&&!C.done;E++,C=b.next()){x.index>E?(P=x,x=null):P=x.sibling;var O=d(y,x,C.value,I);if(O===null){x===null&&(x=P);break}t&&x&&O.alternate===null&&e(y,x),_=o(O,_,E),A===null?T=O:A.sibling=O,A=O,x=P}if(C.done)return n(y,x),Xe&&ao(y,E),T;if(x===null){for(;!C.done;E++,C=b.next())C=h(y,C.value,I),C!==null&&(_=o(C,_,E),A===null?T=C:A.sibling=C,A=C);return Xe&&ao(y,E),T}for(x=r(y,x);!C.done;E++,C=b.next())C=p(x,y,E,C.value,I),C!==null&&(t&&C.alternate!==null&&x.delete(C.key===null?E:C.key),_=o(C,_,E),A===null?T=C:A.sibling=C,A=C);return t&&x.forEach(function(N){return e(y,N)}),Xe&&ao(y,E),T}function w(y,_,b,I){if(typeof b=="object"&&b!==null&&b.type===pa&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Zc:e:{for(var T=b.key,A=_;A!==null;){if(A.key===T){if(T=b.type,T===pa){if(A.tag===7){n(y,A.sibling),_=i(A,b.props.children),_.return=y,y=_;break e}}else if(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===di&&Xx(T)===A.type){n(y,A.sibling),_=i(A,b.props),_.ref=hl(y,A,b),_.return=y,y=_;break e}n(y,A);break}else e(y,A);A=A.sibling}b.type===pa?(_=xo(b.props.children,y.mode,I,b.key),_.return=y,y=_):(I=qf(b.type,b.key,b.props,null,y.mode,I),I.ref=hl(y,_,b),I.return=y,y=I)}return a(y);case da:e:{for(A=b.key;_!==null;){if(_.key===A)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(y,_.sibling),_=i(_,b.children||[]),_.return=y,y=_;break e}else{n(y,_);break}else e(y,_);_=_.sibling}_=eg(b,y.mode,I),_.return=y,y=_}return a(y);case di:return A=b._init,w(y,_,A(b._payload),I)}if(Pl(b))return v(y,_,b,I);if(sl(b))return g(y,_,b,I);ff(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(y,_.sibling),_=i(_,b),_.return=y,y=_):(n(y,_),_=Zm(b,y.mode,I),_.return=y,y=_),a(y)):n(y,_)}return w}var qa=MI(!0),DI=MI(!1),mh=qi(null),gh=null,xa=null,G0=null;function X0(){G0=xa=gh=null}function Y0(t){var e=mh.current;Ge(mh),t._currentValue=e}function gv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Na(t,e){gh=t,G0=xa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(un=!0),t.firstContext=null)}function jn(t){var e=t._currentValue;if(G0!==t)if(t={context:t,memoizedValue:e,next:null},xa===null){if(gh===null)throw Error(J(308));xa=t,gh.dependencies={lanes:0,firstContext:t}}else xa=xa.next=t;return e}var po=null;function Q0(t){po===null?po=[t]:po.push(t)}function jI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Q0(e)):(n.next=i.next,i.next=n),e.interleaved=n,qr(t,r)}function qr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pi=!1;function J0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $I(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ci(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,qr(t,n)}return i=r.interleaved,i===null?(e.next=e,Q0(r)):(e.next=i.next,i.next=e),r.interleaved=e,qr(t,n)}function Ff(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$0(t,n)}}function Yx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vh(t,e,n,r){var i=t.updateQueue;pi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var f=t.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==a&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;a=0,f=u=l=null,s=o;do{var d=s.lane,p=s.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,g=s;switch(d=e,p=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(p,h,d);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,d=typeof v=="function"?v.call(p,h,d):v,d==null)break e;h=nt({},h,d);break e;case 2:pi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=p,l=h):f=f.next=p,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(f===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ko|=a,t.lanes=a,t.memoizedState=h}}function Qx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var hc={},hr=qi(hc),hu=qi(hc),du=qi(hc);function mo(t){if(t===hc)throw Error(J(174));return t}function Z0(t,e){switch(Be(du,e),Be(hu,t),Be(hr,hc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yg(e,t)}Ge(hr),Be(hr,e)}function Ka(){Ge(hr),Ge(hu),Ge(du)}function LI(t){mo(du.current);var e=mo(hr.current),n=Yg(e,t.type);e!==n&&(Be(hu,t),Be(hr,n))}function e_(t){hu.current===t&&(Ge(hr),Ge(hu))}var et=qi(0);function yh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Km=[];function t_(){for(var t=0;t<Km.length;t++)Km[t]._workInProgressVersionPrimary=null;Km.length=0}var Uf=ti.ReactCurrentDispatcher,Gm=ti.ReactCurrentBatchConfig,Co=0,tt=null,gt=null,St=null,_h=!1,Bl=!1,pu=0,Fj=0;function zt(){throw Error(J(321))}function n_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!er(t[n],e[n]))return!1;return!0}function r_(t,e,n,r,i,o){if(Co=o,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Uf.current=t===null||t.memoizedState===null?Wj:Hj,t=n(r,i),Bl){o=0;do{if(Bl=!1,pu=0,25<=o)throw Error(J(301));o+=1,St=gt=null,e.updateQueue=null,Uf.current=qj,t=n(r,i)}while(Bl)}if(Uf.current=wh,e=gt!==null&&gt.next!==null,Co=0,St=gt=tt=null,_h=!1,e)throw Error(J(300));return t}function i_(){var t=pu!==0;return pu=0,t}function ar(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?tt.memoizedState=St=t:St=St.next=t,St}function $n(){if(gt===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=St===null?tt.memoizedState:St.next;if(e!==null)St=e,gt=t;else{if(t===null)throw Error(J(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},St===null?tt.memoizedState=St=t:St=St.next=t}return St}function mu(t,e){return typeof e=="function"?e(t):e}function Xm(t){var e=$n(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=gt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var f=u.lane;if((Co&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=h,a=r):l=l.next=h,tt.lanes|=f,ko|=f}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,er(r,e.memoizedState)||(un=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,tt.lanes|=o,ko|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ym(t){var e=$n(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);er(o,e.memoizedState)||(un=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function VI(){}function FI(t,e){var n=tt,r=$n(),i=e(),o=!er(r.memoizedState,i);if(o&&(r.memoizedState=i,un=!0),r=r.queue,o_(zI.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,gu(9,BI.bind(null,n,r,i,e),void 0,null),At===null)throw Error(J(349));Co&30||UI(n,e,i)}return i}function UI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function BI(t,e,n,r){e.value=n,e.getSnapshot=r,WI(e)&&HI(t)}function zI(t,e,n){return n(function(){WI(e)&&HI(t)})}function WI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!er(t,n)}catch{return!0}}function HI(t){var e=qr(t,1);e!==null&&Qn(e,t,1,-1)}function Jx(t){var e=ar();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mu,lastRenderedState:t},e.queue=t,t=t.dispatch=zj.bind(null,tt,t),[e.memoizedState,t]}function gu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qI(){return $n().memoizedState}function Bf(t,e,n,r){var i=ar();tt.flags|=t,i.memoizedState=gu(1|e,n,void 0,r===void 0?null:r)}function Kd(t,e,n,r){var i=$n();r=r===void 0?null:r;var o=void 0;if(gt!==null){var a=gt.memoizedState;if(o=a.destroy,r!==null&&n_(r,a.deps)){i.memoizedState=gu(e,n,o,r);return}}tt.flags|=t,i.memoizedState=gu(1|e,n,o,r)}function Zx(t,e){return Bf(8390656,8,t,e)}function o_(t,e){return Kd(2048,8,t,e)}function KI(t,e){return Kd(4,2,t,e)}function GI(t,e){return Kd(4,4,t,e)}function XI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YI(t,e,n){return n=n!=null?n.concat([t]):null,Kd(4,4,XI.bind(null,e,t),n)}function a_(){}function QI(t,e){var n=$n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&n_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function JI(t,e){var n=$n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&n_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ZI(t,e,n){return Co&21?(er(n,e)||(n=iI(),tt.lanes|=n,ko|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,un=!0),t.memoizedState=n)}function Uj(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=Gm.transition;Gm.transition={};try{t(!1),e()}finally{Me=n,Gm.transition=r}}function eO(){return $n().memoizedState}function Bj(t,e,n){var r=Ri(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tO(t))nO(e,n);else if(n=jI(t,e,n,r),n!==null){var i=rn();Qn(n,t,r,i),rO(n,e,r)}}function zj(t,e,n){var r=Ri(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tO(t))nO(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,er(s,a)){var l=e.interleaved;l===null?(i.next=i,Q0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=jI(t,e,i,r),n!==null&&(i=rn(),Qn(n,t,r,i),rO(n,e,r))}}function tO(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function nO(t,e){Bl=_h=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rO(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$0(t,n)}}var wh={readContext:jn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},Wj={readContext:jn,useCallback:function(t,e){return ar().memoizedState=[t,e===void 0?null:e],t},useContext:jn,useEffect:Zx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bf(4194308,4,XI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bf(4,2,t,e)},useMemo:function(t,e){var n=ar();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ar();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Bj.bind(null,tt,t),[r.memoizedState,t]},useRef:function(t){var e=ar();return t={current:t},e.memoizedState=t},useState:Jx,useDebugValue:a_,useDeferredValue:function(t){return ar().memoizedState=t},useTransition:function(){var t=Jx(!1),e=t[0];return t=Uj.bind(null,t[1]),ar().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tt,i=ar();if(Xe){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),At===null)throw Error(J(349));Co&30||UI(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Zx(zI.bind(null,r,o,t),[t]),r.flags|=2048,gu(9,BI.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ar(),e=At.identifierPrefix;if(Xe){var n=Nr,r=Rr;n=(r&~(1<<32-Yn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=pu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Fj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Hj={readContext:jn,useCallback:QI,useContext:jn,useEffect:o_,useImperativeHandle:YI,useInsertionEffect:KI,useLayoutEffect:GI,useMemo:JI,useReducer:Xm,useRef:qI,useState:function(){return Xm(mu)},useDebugValue:a_,useDeferredValue:function(t){var e=$n();return ZI(e,gt.memoizedState,t)},useTransition:function(){var t=Xm(mu)[0],e=$n().memoizedState;return[t,e]},useMutableSource:VI,useSyncExternalStore:FI,useId:eO,unstable_isNewReconciler:!1},qj={readContext:jn,useCallback:QI,useContext:jn,useEffect:o_,useImperativeHandle:YI,useInsertionEffect:KI,useLayoutEffect:GI,useMemo:JI,useReducer:Ym,useRef:qI,useState:function(){return Ym(mu)},useDebugValue:a_,useDeferredValue:function(t){var e=$n();return gt===null?e.memoizedState=t:ZI(e,gt.memoizedState,t)},useTransition:function(){var t=Ym(mu)[0],e=$n().memoizedState;return[t,e]},useMutableSource:VI,useSyncExternalStore:FI,useId:eO,unstable_isNewReconciler:!1};function Wn(t,e){if(t&&t.defaultProps){e=nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function vv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gd={isMounted:function(t){return(t=t._reactInternals)?Wo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rn(),i=Ri(t),o=Vr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ci(t,o,i),e!==null&&(Qn(e,t,i,r),Ff(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rn(),i=Ri(t),o=Vr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ci(t,o,i),e!==null&&(Qn(e,t,i,r),Ff(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rn(),r=Ri(t),i=Vr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ci(t,i,r),e!==null&&(Qn(e,t,r,n),Ff(e,t,r))}};function eE(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!lu(n,r)||!lu(i,o):!0}function iO(t,e,n){var r=!1,i=Fi,o=e.contextType;return typeof o=="object"&&o!==null?o=jn(o):(i=hn(e)?Io:Qt.current,r=e.contextTypes,o=(r=r!=null)?Wa(t,i):Fi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function tE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gd.enqueueReplaceState(e,e.state,null)}function yv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},J0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=jn(o):(o=hn(e)?Io:Qt.current,i.context=Wa(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(vv(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gd.enqueueReplaceState(i,i.state,null),vh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ga(t,e){try{var n="",r=e;do n+=wD(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Qm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _v(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Kj=typeof WeakMap=="function"?WeakMap:Map;function oO(t,e,n){n=Vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xh||(xh=!0,Ov=r),_v(t,e)},n}function aO(t,e,n){n=Vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){_v(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){_v(t,e),typeof r!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function nE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Kj;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=s$.bind(null,t,e,n),e.then(t,t))}function rE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vr(-1,1),e.tag=2,Ci(n,e,1))),n.lanes|=1),t)}var Gj=ti.ReactCurrentOwner,un=!1;function tn(t,e,n,r){e.child=t===null?DI(e,null,n,r):qa(e,t.child,n,r)}function oE(t,e,n,r,i){n=n.render;var o=e.ref;return Na(e,i),r=r_(t,e,n,r,o,i),n=i_(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kr(t,e,i)):(Xe&&n&&H0(e),e.flags|=1,tn(t,e,r,i),e.child)}function aE(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!p_(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,sO(t,e,o,r,i)):(t=qf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:lu,n(a,r)&&t.ref===e.ref)return Kr(t,e,i)}return e.flags|=1,t=Ni(o,r),t.ref=e.ref,t.return=e,e.child=t}function sO(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(lu(o,r)&&t.ref===e.ref)if(un=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(un=!0);else return e.lanes=t.lanes,Kr(t,e,i)}return wv(t,e,n,r,i)}function lO(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Sa,yn),yn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(Sa,yn),yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Be(Sa,yn),yn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Be(Sa,yn),yn|=r;return tn(t,e,i,n),e.child}function uO(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wv(t,e,n,r,i){var o=hn(n)?Io:Qt.current;return o=Wa(e,o),Na(e,i),n=r_(t,e,n,r,o,i),r=i_(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kr(t,e,i)):(Xe&&r&&H0(e),e.flags|=1,tn(t,e,n,i),e.child)}function sE(t,e,n,r,i){if(hn(n)){var o=!0;hh(e)}else o=!1;if(Na(e,i),e.stateNode===null)zf(t,e),iO(e,n,r),yv(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=jn(u):(u=hn(n)?Io:Qt.current,u=Wa(e,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&tE(e,a,r,u),pi=!1;var d=e.memoizedState;a.state=d,vh(e,r,a,i),l=e.memoizedState,s!==r||d!==l||fn.current||pi?(typeof f=="function"&&(vv(e,n,f,r),l=e.memoizedState),(s=pi||eE(e,n,s,r,d,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,$I(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Wn(e.type,s),a.props=u,h=e.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=jn(l):(l=hn(n)?Io:Qt.current,l=Wa(e,l));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==h||d!==l)&&tE(e,a,r,l),pi=!1,d=e.memoizedState,a.state=d,vh(e,r,a,i);var v=e.memoizedState;s!==h||d!==v||fn.current||pi?(typeof p=="function"&&(vv(e,n,p,r),v=e.memoizedState),(u=pi||eE(e,n,u,r,d,v,l)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return bv(t,e,n,r,o,i)}function bv(t,e,n,r,i,o){uO(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&qx(e,n,!1),Kr(t,e,o);r=e.stateNode,Gj.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=qa(e,t.child,null,o),e.child=qa(e,null,s,o)):tn(t,e,s,o),e.memoizedState=r.state,i&&qx(e,n,!0),e.child}function cO(t){var e=t.stateNode;e.pendingContext?Hx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Hx(t,e.context,!1),Z0(t,e.containerInfo)}function lE(t,e,n,r,i){return Ha(),K0(i),e.flags|=256,tn(t,e,n,r),e.child}var xv={dehydrated:null,treeContext:null,retryLane:0};function Ev(t){return{baseLanes:t,cachePool:null,transitions:null}}function fO(t,e,n){var r=e.pendingProps,i=et.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(et,i&1),t===null)return mv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Qd(a,r,0,null),t=xo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Ev(n),e.memoizedState=xv,t):s_(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Xj(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ni(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Ni(s,o):(o=xo(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Ev(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=xv,r}return o=t.child,t=o.sibling,r=Ni(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function s_(t,e){return e=Qd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hf(t,e,n,r){return r!==null&&K0(r),qa(e,t.child,null,n),t=s_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Xj(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Qm(Error(J(422))),hf(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Qd({mode:"visible",children:r.children},i,0,null),o=xo(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&qa(e,t.child,null,a),e.child.memoizedState=Ev(a),e.memoizedState=xv,o);if(!(e.mode&1))return hf(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(J(419)),r=Qm(o,r,void 0),hf(t,e,a,r)}if(s=(a&t.childLanes)!==0,un||s){if(r=At,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,qr(t,i),Qn(r,t,i,-1))}return d_(),r=Qm(Error(J(421))),hf(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=l$.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,bn=Oi(i.nextSibling),En=e,Xe=!0,Kn=null,t!==null&&(Cn[kn++]=Rr,Cn[kn++]=Nr,Cn[kn++]=Oo,Rr=t.id,Nr=t.overflow,Oo=e),e=s_(e,r.children),e.flags|=4096,e)}function uE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),gv(t.return,e,n)}function Jm(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function hO(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(tn(t,e,r.children,n),r=et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uE(t,n,e);else if(t.tag===19)uE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(et,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&yh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Jm(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&yh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Jm(e,!0,n,null,o);break;case"together":Jm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ko|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Ni(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ni(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Yj(t,e,n){switch(e.tag){case 3:cO(e),Ha();break;case 5:LI(e);break;case 1:hn(e.type)&&hh(e);break;case 4:Z0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Be(mh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(et,et.current&1),e.flags|=128,null):n&e.child.childLanes?fO(t,e,n):(Be(et,et.current&1),t=Kr(t,e,n),t!==null?t.sibling:null);Be(et,et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hO(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(et,et.current),r)break;return null;case 22:case 23:return e.lanes=0,lO(t,e,n)}return Kr(t,e,n)}var dO,Sv,pO,mO;dO=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sv=function(){};pO=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,mo(hr.current);var o=null;switch(n){case"input":i=qg(t,i),r=qg(t,r),o=[];break;case"select":i=nt({},i,{value:void 0}),r=nt({},r,{value:void 0}),o=[];break;case"textarea":i=Xg(t,i),r=Xg(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ch)}Qg(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(tu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(tu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&He("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};mO=function(t,e,n,r){n!==r&&(e.flags|=4)};function dl(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Qj(t,e,n){var r=e.pendingProps;switch(q0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return hn(e.type)&&fh(),Wt(e),null;case 3:return r=e.stateNode,Ka(),Ge(fn),Ge(Qt),t_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kn!==null&&(Rv(Kn),Kn=null))),Sv(t,e),Wt(e),null;case 5:e_(e);var i=mo(du.current);if(n=e.type,t!==null&&e.stateNode!=null)pO(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Wt(e),null}if(t=mo(hr.current),cf(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[lr]=e,r[fu]=o,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<Ol.length;i++)He(Ol[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":yx(r,o),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},He("invalid",r);break;case"textarea":wx(r,o),He("invalid",r)}Qg(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&uf(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&uf(r.textContent,s,t),i=["children",""+s]):tu.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&He("scroll",r)}switch(n){case"input":ef(r),_x(r,o,!0);break;case"textarea":ef(r),bx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ch)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[lr]=e,t[fu]=r,dO(t,e,!1,!1),e.stateNode=t;e:{switch(a=Jg(n,r),n){case"dialog":He("cancel",t),He("close",t),i=r;break;case"iframe":case"object":case"embed":He("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ol.length;i++)He(Ol[i],t);i=r;break;case"source":He("error",t),i=r;break;case"img":case"image":case"link":He("error",t),He("load",t),i=r;break;case"details":He("toggle",t),i=r;break;case"input":yx(t,r),i=qg(t,r),He("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=nt({},r,{value:void 0}),He("invalid",t);break;case"textarea":wx(t,r),i=Xg(t,r),He("invalid",t);break;default:i=r}Qg(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?qP(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&WP(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&nu(t,l):typeof l=="number"&&nu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(tu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&He("scroll",t):l!=null&&k0(t,o,l,a))}switch(n){case"input":ef(t),_x(t,r,!1);break;case"textarea":ef(t),bx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Oa(t,!!r.multiple,o,!1):r.defaultValue!=null&&Oa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ch)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)mO(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=mo(du.current),mo(hr.current),cf(e)){if(r=e.stateNode,n=e.memoizedProps,r[lr]=e,(o=r.nodeValue!==n)&&(t=En,t!==null))switch(t.tag){case 3:uf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&uf(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=e,e.stateNode=r}return Wt(e),null;case 13:if(Ge(et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&bn!==null&&e.mode&1&&!(e.flags&128))NI(),Ha(),e.flags|=98560,o=!1;else if(o=cf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[lr]=e}else Ha(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),o=!1}else Kn!==null&&(Rv(Kn),Kn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||et.current&1?yt===0&&(yt=3):d_())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return Ka(),Sv(t,e),t===null&&uu(e.stateNode.containerInfo),Wt(e),null;case 10:return Y0(e.type._context),Wt(e),null;case 17:return hn(e.type)&&fh(),Wt(e),null;case 19:if(Ge(et),o=e.memoizedState,o===null)return Wt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)dl(o,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=yh(t),a!==null){for(e.flags|=128,dl(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(et,et.current&1|2),e.child}t=t.sibling}o.tail!==null&&ut()>Xa&&(e.flags|=128,r=!0,dl(o,!1),e.lanes=4194304)}else{if(!r)if(t=yh(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),dl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Xe)return Wt(e),null}else 2*ut()-o.renderingStartTime>Xa&&n!==1073741824&&(e.flags|=128,r=!0,dl(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ut(),e.sibling=null,n=et.current,Be(et,r?n&1|2:n&1),e):(Wt(e),null);case 22:case 23:return h_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yn&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function Jj(t,e){switch(q0(e),e.tag){case 1:return hn(e.type)&&fh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ka(),Ge(fn),Ge(Qt),t_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return e_(e),null;case 13:if(Ge(et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Ha()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(et),null;case 4:return Ka(),null;case 10:return Y0(e.type._context),null;case 22:case 23:return h_(),null;case 24:return null;default:return null}}var df=!1,Gt=!1,Zj=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Ea(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function Tv(t,e,n){try{n()}catch(r){at(t,e,r)}}var cE=!1;function e$(t,e){if(lv=sh,t=wI(),W0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,f=0,h=t,d=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(s=a+i),h!==o||r!==0&&h.nodeType!==3||(l=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++u===i&&(s=a),d===o&&++f===r&&(l=a),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(uv={focusedElem:t,selectionRange:n},sh=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,w=v.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Wn(e.type,g),w);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(I){at(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return v=cE,cE=!1,v}function zl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Tv(e,n,o)}i=i.next}while(i!==r)}}function Xd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Av(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gO(t){var e=t.alternate;e!==null&&(t.alternate=null,gO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lr],delete e[fu],delete e[hv],delete e[jj],delete e[$j])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vO(t){return t.tag===5||t.tag===3||t.tag===4}function fE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ch));else if(r!==4&&(t=t.child,t!==null))for(Pv(t,e,n),t=t.sibling;t!==null;)Pv(t,e,n),t=t.sibling}function Iv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Iv(t,e,n),t=t.sibling;t!==null;)Iv(t,e,n),t=t.sibling}var kt=null,Hn=!1;function fi(t,e,n){for(n=n.child;n!==null;)yO(t,e,n),n=n.sibling}function yO(t,e,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(Ud,n)}catch{}switch(n.tag){case 5:Gt||Ea(n,e);case 6:var r=kt,i=Hn;kt=null,fi(t,e,n),kt=r,Hn=i,kt!==null&&(Hn?(t=kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(Hn?(t=kt,n=n.stateNode,t.nodeType===8?Hm(t.parentNode,n):t.nodeType===1&&Hm(t,n),au(t)):Hm(kt,n.stateNode));break;case 4:r=kt,i=Hn,kt=n.stateNode.containerInfo,Hn=!0,fi(t,e,n),kt=r,Hn=i;break;case 0:case 11:case 14:case 15:if(!Gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Tv(n,e,a),i=i.next}while(i!==r)}fi(t,e,n);break;case 1:if(!Gt&&(Ea(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){at(n,e,s)}fi(t,e,n);break;case 21:fi(t,e,n);break;case 22:n.mode&1?(Gt=(r=Gt)||n.memoizedState!==null,fi(t,e,n),Gt=r):fi(t,e,n);break;default:fi(t,e,n)}}function hE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Zj),e.forEach(function(r){var i=u$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:kt=s.stateNode,Hn=!1;break e;case 3:kt=s.stateNode.containerInfo,Hn=!0;break e;case 4:kt=s.stateNode.containerInfo,Hn=!0;break e}s=s.return}if(kt===null)throw Error(J(160));yO(o,a,i),kt=null,Hn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){at(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_O(e,t),e=e.sibling}function _O(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bn(e,t),or(t),r&4){try{zl(3,t,t.return),Xd(3,t)}catch(g){at(t,t.return,g)}try{zl(5,t,t.return)}catch(g){at(t,t.return,g)}}break;case 1:Bn(e,t),or(t),r&512&&n!==null&&Ea(n,n.return);break;case 5:if(Bn(e,t),or(t),r&512&&n!==null&&Ea(n,n.return),t.flags&32){var i=t.stateNode;try{nu(i,"")}catch(g){at(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&UP(i,o),Jg(s,a);var u=Jg(s,o);for(a=0;a<l.length;a+=2){var f=l[a],h=l[a+1];f==="style"?qP(i,h):f==="dangerouslySetInnerHTML"?WP(i,h):f==="children"?nu(i,h):k0(i,f,h,u)}switch(s){case"input":Kg(i,o);break;case"textarea":BP(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Oa(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?Oa(i,!!o.multiple,o.defaultValue,!0):Oa(i,!!o.multiple,o.multiple?[]:"",!1))}i[fu]=o}catch(g){at(t,t.return,g)}}break;case 6:if(Bn(e,t),or(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){at(t,t.return,g)}}break;case 3:if(Bn(e,t),or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{au(e.containerInfo)}catch(g){at(t,t.return,g)}break;case 4:Bn(e,t),or(t);break;case 13:Bn(e,t),or(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(c_=ut())),r&4&&hE(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Gt=(u=Gt)||f,Bn(e,t),Gt=u):Bn(e,t),or(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(ie=t,f=t.child;f!==null;){for(h=ie=f;ie!==null;){switch(d=ie,p=d.child,d.tag){case 0:case 11:case 14:case 15:zl(4,d,d.return);break;case 1:Ea(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){at(r,n,g)}}break;case 5:Ea(d,d.return);break;case 22:if(d.memoizedState!==null){pE(h);continue}}p!==null?(p.return=d,ie=p):pE(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=HP("display",a))}catch(g){at(t,t.return,g)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){at(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Bn(e,t),or(t),r&4&&hE(t);break;case 21:break;default:Bn(e,t),or(t)}}function or(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vO(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(nu(i,""),r.flags&=-33);var o=fE(t);Iv(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=fE(t);Pv(t,s,a);break;default:throw Error(J(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function t$(t,e,n){ie=t,wO(t)}function wO(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||df;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Gt;s=df;var u=Gt;if(df=a,(Gt=l)&&!u)for(ie=i;ie!==null;)a=ie,l=a.child,a.tag===22&&a.memoizedState!==null?mE(i):l!==null?(l.return=a,ie=l):mE(i);for(;o!==null;)ie=o,wO(o),o=o.sibling;ie=i,df=s,Gt=u}dE(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ie=o):dE(t)}}function dE(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gt||Xd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Gt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Qx(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qx(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&au(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Gt||e.flags&512&&Av(e)}catch(d){at(e,e.return,d)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function pE(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function mE(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xd(4,e)}catch(l){at(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){at(e,i,l)}}var o=e.return;try{Av(e)}catch(l){at(e,o,l)}break;case 5:var a=e.return;try{Av(e)}catch(l){at(e,a,l)}}}catch(l){at(e,e.return,l)}if(e===t){ie=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ie=s;break}ie=e.return}}var n$=Math.ceil,bh=ti.ReactCurrentDispatcher,l_=ti.ReactCurrentOwner,Mn=ti.ReactCurrentBatchConfig,Te=0,At=null,ht=null,Dt=0,yn=0,Sa=qi(0),yt=0,vu=null,ko=0,Yd=0,u_=0,Wl=null,sn=null,c_=0,Xa=1/0,Cr=null,xh=!1,Ov=null,ki=null,pf=!1,Ei=null,Eh=0,Hl=0,Cv=null,Wf=-1,Hf=0;function rn(){return Te&6?ut():Wf!==-1?Wf:Wf=ut()}function Ri(t){return t.mode&1?Te&2&&Dt!==0?Dt&-Dt:Vj.transition!==null?(Hf===0&&(Hf=iI()),Hf):(t=Me,t!==0||(t=window.event,t=t===void 0?16:fI(t.type)),t):1}function Qn(t,e,n,r){if(50<Hl)throw Hl=0,Cv=null,Error(J(185));uc(t,n,r),(!(Te&2)||t!==At)&&(t===At&&(!(Te&2)&&(Yd|=n),yt===4&&vi(t,Dt)),dn(t,r),n===1&&Te===0&&!(e.mode&1)&&(Xa=ut()+500,qd&&Ki()))}function dn(t,e){var n=t.callbackNode;VD(t,e);var r=ah(t,t===At?Dt:0);if(r===0)n!==null&&Sx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Sx(n),e===1)t.tag===0?Lj(gE.bind(null,t)):CI(gE.bind(null,t)),Mj(function(){!(Te&6)&&Ki()}),n=null;else{switch(oI(r)){case 1:n=j0;break;case 4:n=nI;break;case 16:n=oh;break;case 536870912:n=rI;break;default:n=oh}n=IO(n,bO.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bO(t,e){if(Wf=-1,Hf=0,Te&6)throw Error(J(327));var n=t.callbackNode;if(Ma()&&t.callbackNode!==n)return null;var r=ah(t,t===At?Dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Sh(t,r);else{e=r;var i=Te;Te|=2;var o=EO();(At!==t||Dt!==e)&&(Cr=null,Xa=ut()+500,bo(t,e));do try{o$();break}catch(s){xO(t,s)}while(!0);X0(),bh.current=o,Te=i,ht!==null?e=0:(At=null,Dt=0,e=yt)}if(e!==0){if(e===2&&(i=rv(t),i!==0&&(r=i,e=kv(t,i))),e===1)throw n=vu,bo(t,0),vi(t,r),dn(t,ut()),n;if(e===6)vi(t,r);else{if(i=t.current.alternate,!(r&30)&&!r$(i)&&(e=Sh(t,r),e===2&&(o=rv(t),o!==0&&(r=o,e=kv(t,o))),e===1))throw n=vu,bo(t,0),vi(t,r),dn(t,ut()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:so(t,sn,Cr);break;case 3:if(vi(t,r),(r&130023424)===r&&(e=c_+500-ut(),10<e)){if(ah(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=fv(so.bind(null,t,sn,Cr),e);break}so(t,sn,Cr);break;case 4:if(vi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Yn(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*n$(r/1960))-r,10<r){t.timeoutHandle=fv(so.bind(null,t,sn,Cr),r);break}so(t,sn,Cr);break;case 5:so(t,sn,Cr);break;default:throw Error(J(329))}}}return dn(t,ut()),t.callbackNode===n?bO.bind(null,t):null}function kv(t,e){var n=Wl;return t.current.memoizedState.isDehydrated&&(bo(t,e).flags|=256),t=Sh(t,e),t!==2&&(e=sn,sn=n,e!==null&&Rv(e)),t}function Rv(t){sn===null?sn=t:sn.push.apply(sn,t)}function r$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!er(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vi(t,e){for(e&=~u_,e&=~Yd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yn(e),r=1<<n;t[n]=-1,e&=~r}}function gE(t){if(Te&6)throw Error(J(327));Ma();var e=ah(t,0);if(!(e&1))return dn(t,ut()),null;var n=Sh(t,e);if(t.tag!==0&&n===2){var r=rv(t);r!==0&&(e=r,n=kv(t,r))}if(n===1)throw n=vu,bo(t,0),vi(t,e),dn(t,ut()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,so(t,sn,Cr),dn(t,ut()),null}function f_(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(Xa=ut()+500,qd&&Ki())}}function Ro(t){Ei!==null&&Ei.tag===0&&!(Te&6)&&Ma();var e=Te;Te|=1;var n=Mn.transition,r=Me;try{if(Mn.transition=null,Me=1,t)return t()}finally{Me=r,Mn.transition=n,Te=e,!(Te&6)&&Ki()}}function h_(){yn=Sa.current,Ge(Sa)}function bo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Nj(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(q0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fh();break;case 3:Ka(),Ge(fn),Ge(Qt),t_();break;case 5:e_(r);break;case 4:Ka();break;case 13:Ge(et);break;case 19:Ge(et);break;case 10:Y0(r.type._context);break;case 22:case 23:h_()}n=n.return}if(At=t,ht=t=Ni(t.current,null),Dt=yn=e,yt=0,vu=null,u_=Yd=ko=0,sn=Wl=null,po!==null){for(e=0;e<po.length;e++)if(n=po[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}po=null}return t}function xO(t,e){do{var n=ht;try{if(X0(),Uf.current=wh,_h){for(var r=tt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_h=!1}if(Co=0,St=gt=tt=null,Bl=!1,pu=0,l_.current=null,n===null||n.return===null){yt=1,vu=e,ht=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Dt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=s,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=rE(a);if(p!==null){p.flags&=-257,iE(p,a,s,o,e),p.mode&1&&nE(o,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){nE(o,u,e),d_();break e}l=Error(J(426))}}else if(Xe&&s.mode&1){var w=rE(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),iE(w,a,s,o,e),K0(Ga(l,s));break e}}o=l=Ga(l,s),yt!==4&&(yt=2),Wl===null?Wl=[o]:Wl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=oO(o,l,e);Yx(o,y);break e;case 1:s=l;var _=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ki===null||!ki.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var I=aO(o,s,e);Yx(o,I);break e}}o=o.return}while(o!==null)}TO(n)}catch(T){e=T,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function EO(){var t=bh.current;return bh.current=wh,t===null?wh:t}function d_(){(yt===0||yt===3||yt===2)&&(yt=4),At===null||!(ko&268435455)&&!(Yd&268435455)||vi(At,Dt)}function Sh(t,e){var n=Te;Te|=2;var r=EO();(At!==t||Dt!==e)&&(Cr=null,bo(t,e));do try{i$();break}catch(i){xO(t,i)}while(!0);if(X0(),Te=n,bh.current=r,ht!==null)throw Error(J(261));return At=null,Dt=0,yt}function i$(){for(;ht!==null;)SO(ht)}function o$(){for(;ht!==null&&!CD();)SO(ht)}function SO(t){var e=PO(t.alternate,t,yn);t.memoizedProps=t.pendingProps,e===null?TO(t):ht=e,l_.current=null}function TO(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Jj(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,ht=null;return}}else if(n=Qj(n,e,yn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);yt===0&&(yt=5)}function so(t,e,n){var r=Me,i=Mn.transition;try{Mn.transition=null,Me=1,a$(t,e,n,r)}finally{Mn.transition=i,Me=r}return null}function a$(t,e,n,r){do Ma();while(Ei!==null);if(Te&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(FD(t,o),t===At&&(ht=At=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pf||(pf=!0,IO(oh,function(){return Ma(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Mn.transition,Mn.transition=null;var a=Me;Me=1;var s=Te;Te|=4,l_.current=null,e$(t,n),_O(n,t),Aj(uv),sh=!!lv,uv=lv=null,t.current=n,t$(n),kD(),Te=s,Me=a,Mn.transition=o}else t.current=n;if(pf&&(pf=!1,Ei=t,Eh=i),o=t.pendingLanes,o===0&&(ki=null),MD(n.stateNode),dn(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xh)throw xh=!1,t=Ov,Ov=null,t;return Eh&1&&t.tag!==0&&Ma(),o=t.pendingLanes,o&1?t===Cv?Hl++:(Hl=0,Cv=t):Hl=0,Ki(),null}function Ma(){if(Ei!==null){var t=oI(Eh),e=Mn.transition,n=Me;try{if(Mn.transition=null,Me=16>t?16:t,Ei===null)var r=!1;else{if(t=Ei,Ei=null,Eh=0,Te&6)throw Error(J(331));var i=Te;for(Te|=4,ie=t.current;ie!==null;){var o=ie,a=o.child;if(ie.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ie=u;ie!==null;){var f=ie;switch(f.tag){case 0:case 11:case 15:zl(8,f,o)}var h=f.child;if(h!==null)h.return=f,ie=h;else for(;ie!==null;){f=ie;var d=f.sibling,p=f.return;if(gO(f),f===u){ie=null;break}if(d!==null){d.return=p,ie=d;break}ie=p}}}var v=o.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}ie=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ie=a;else e:for(;ie!==null;){if(o=ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:zl(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,ie=y;break e}ie=o.return}}var _=t.current;for(ie=_;ie!==null;){a=ie;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ie=b;else e:for(a=_;ie!==null;){if(s=ie,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Xd(9,s)}}catch(T){at(s,s.return,T)}if(s===a){ie=null;break e}var I=s.sibling;if(I!==null){I.return=s.return,ie=I;break e}ie=s.return}}if(Te=i,Ki(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(Ud,t)}catch{}r=!0}return r}finally{Me=n,Mn.transition=e}}return!1}function vE(t,e,n){e=Ga(n,e),e=oO(t,e,1),t=Ci(t,e,1),e=rn(),t!==null&&(uc(t,1,e),dn(t,e))}function at(t,e,n){if(t.tag===3)vE(t,t,n);else for(;e!==null;){if(e.tag===3){vE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ki===null||!ki.has(r))){t=Ga(n,t),t=aO(e,t,1),e=Ci(e,t,1),t=rn(),e!==null&&(uc(e,1,t),dn(e,t));break}}e=e.return}}function s$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rn(),t.pingedLanes|=t.suspendedLanes&n,At===t&&(Dt&n)===n&&(yt===4||yt===3&&(Dt&130023424)===Dt&&500>ut()-c_?bo(t,0):u_|=n),dn(t,e)}function AO(t,e){e===0&&(t.mode&1?(e=rf,rf<<=1,!(rf&130023424)&&(rf=4194304)):e=1);var n=rn();t=qr(t,e),t!==null&&(uc(t,e,n),dn(t,n))}function l$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),AO(t,n)}function u$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),AO(t,n)}var PO;PO=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fn.current)un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return un=!1,Yj(t,e,n);un=!!(t.flags&131072)}else un=!1,Xe&&e.flags&1048576&&kI(e,ph,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zf(t,e),t=e.pendingProps;var i=Wa(e,Qt.current);Na(e,n),i=r_(null,e,r,t,i,n);var o=i_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hn(r)?(o=!0,hh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,J0(e),i.updater=Gd,e.stateNode=i,i._reactInternals=e,yv(e,r,t,n),e=bv(null,e,r,!0,o,n)):(e.tag=0,Xe&&o&&H0(e),tn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=f$(r),t=Wn(r,t),i){case 0:e=wv(null,e,r,t,n);break e;case 1:e=sE(null,e,r,t,n);break e;case 11:e=oE(null,e,r,t,n);break e;case 14:e=aE(null,e,r,Wn(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),wv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),sE(t,e,r,i,n);case 3:e:{if(cO(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,$I(t,e),vh(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ga(Error(J(423)),e),e=lE(t,e,r,n,i);break e}else if(r!==i){i=Ga(Error(J(424)),e),e=lE(t,e,r,n,i);break e}else for(bn=Oi(e.stateNode.containerInfo.firstChild),En=e,Xe=!0,Kn=null,n=DI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ha(),r===i){e=Kr(t,e,n);break e}tn(t,e,r,n)}e=e.child}return e;case 5:return LI(e),t===null&&mv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,cv(r,i)?a=null:o!==null&&cv(r,o)&&(e.flags|=32),uO(t,e),tn(t,e,a,n),e.child;case 6:return t===null&&mv(e),null;case 13:return fO(t,e,n);case 4:return Z0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qa(e,null,r,n):tn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),oE(t,e,r,i,n);case 7:return tn(t,e,e.pendingProps,n),e.child;case 8:return tn(t,e,e.pendingProps.children,n),e.child;case 12:return tn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Be(mh,r._currentValue),r._currentValue=a,o!==null)if(er(o.value,a)){if(o.children===i.children&&!fn.current){e=Kr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Vr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),gv(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(J(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),gv(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}tn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Na(e,n),i=jn(i),r=r(i),e.flags|=1,tn(t,e,r,n),e.child;case 14:return r=e.type,i=Wn(r,e.pendingProps),i=Wn(r.type,i),aE(t,e,r,i,n);case 15:return sO(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),zf(t,e),e.tag=1,hn(r)?(t=!0,hh(e)):t=!1,Na(e,n),iO(e,r,i),yv(e,r,i,n),bv(null,e,r,!0,t,n);case 19:return hO(t,e,n);case 22:return lO(t,e,n)}throw Error(J(156,e.tag))};function IO(t,e){return tI(t,e)}function c$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,e,n,r){return new c$(t,e,n,r)}function p_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function f$(t){if(typeof t=="function")return p_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===N0)return 11;if(t===M0)return 14}return 2}function Ni(t,e){var n=t.alternate;return n===null?(n=Rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qf(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")p_(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case pa:return xo(n.children,i,o,e);case R0:a=8,i|=8;break;case Bg:return t=Rn(12,n,e,i|2),t.elementType=Bg,t.lanes=o,t;case zg:return t=Rn(13,n,e,i),t.elementType=zg,t.lanes=o,t;case Wg:return t=Rn(19,n,e,i),t.elementType=Wg,t.lanes=o,t;case LP:return Qd(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jP:a=10;break e;case $P:a=9;break e;case N0:a=11;break e;case M0:a=14;break e;case di:a=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Rn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function xo(t,e,n,r){return t=Rn(7,t,r,e),t.lanes=n,t}function Qd(t,e,n,r){return t=Rn(22,t,r,e),t.elementType=LP,t.lanes=n,t.stateNode={isHidden:!1},t}function Zm(t,e,n){return t=Rn(6,t,null,e),t.lanes=n,t}function eg(t,e,n){return e=Rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function h$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mm(0),this.expirationTimes=Mm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function m_(t,e,n,r,i,o,a,s,l){return t=new h$(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Rn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},J0(o),t}function d$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:da,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function OO(t){if(!t)return Fi;t=t._reactInternals;e:{if(Wo(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(hn(n))return OI(t,n,e)}return e}function CO(t,e,n,r,i,o,a,s,l){return t=m_(n,r,!0,t,i,o,a,s,l),t.context=OO(null),n=t.current,r=rn(),i=Ri(n),o=Vr(r,i),o.callback=e??null,Ci(n,o,i),t.current.lanes=i,uc(t,i,r),dn(t,r),t}function Jd(t,e,n,r){var i=e.current,o=rn(),a=Ri(i);return n=OO(n),e.context===null?e.context=n:e.pendingContext=n,e=Vr(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ci(i,e,a),t!==null&&(Qn(t,i,a,o),Ff(t,i,a)),a}function Th(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function g_(t,e){yE(t,e),(t=t.alternate)&&yE(t,e)}function p$(){return null}var kO=typeof reportError=="function"?reportError:function(t){console.error(t)};function v_(t){this._internalRoot=t}Zd.prototype.render=v_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Jd(t,e,null,null)};Zd.prototype.unmount=v_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ro(function(){Jd(null,t,null,null)}),e[Hr]=null}};function Zd(t){this._internalRoot=t}Zd.prototype.unstable_scheduleHydration=function(t){if(t){var e=lI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gi.length&&e!==0&&e<gi[n].priority;n++);gi.splice(n,0,t),n===0&&cI(t)}};function y_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ep(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _E(){}function m$(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Th(a);o.call(u)}}var a=CO(e,r,t,0,null,!1,!1,"",_E);return t._reactRootContainer=a,t[Hr]=a.current,uu(t.nodeType===8?t.parentNode:t),Ro(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Th(l);s.call(u)}}var l=m_(t,0,!1,null,null,!1,!1,"",_E);return t._reactRootContainer=l,t[Hr]=l.current,uu(t.nodeType===8?t.parentNode:t),Ro(function(){Jd(e,l,n,r)}),l}function tp(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Th(a);s.call(l)}}Jd(e,a,t,i)}else a=m$(n,e,t,i,r);return Th(a)}aI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Il(e.pendingLanes);n!==0&&($0(e,n|1),dn(e,ut()),!(Te&6)&&(Xa=ut()+500,Ki()))}break;case 13:Ro(function(){var r=qr(t,1);if(r!==null){var i=rn();Qn(r,t,1,i)}}),g_(t,1)}};L0=function(t){if(t.tag===13){var e=qr(t,134217728);if(e!==null){var n=rn();Qn(e,t,134217728,n)}g_(t,134217728)}};sI=function(t){if(t.tag===13){var e=Ri(t),n=qr(t,e);if(n!==null){var r=rn();Qn(n,t,e,r)}g_(t,e)}};lI=function(){return Me};uI=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};ev=function(t,e,n){switch(e){case"input":if(Kg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hd(r);if(!i)throw Error(J(90));FP(r),Kg(r,i)}}}break;case"textarea":BP(t,n);break;case"select":e=n.value,e!=null&&Oa(t,!!n.multiple,e,!1)}};XP=f_;YP=Ro;var g$={usingClientEntryPoint:!1,Events:[fc,ya,Hd,KP,GP,f_]},pl={findFiberByHostInstance:ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v$={bundleType:pl.bundleType,version:pl.version,rendererPackageName:pl.rendererPackageName,rendererConfig:pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ZP(t),t===null?null:t.stateNode},findFiberByHostInstance:pl.findFiberByHostInstance||p$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mf.isDisabled&&mf.supportsFiber)try{Ud=mf.inject(v$),fr=mf}catch{}}Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g$;Tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y_(e))throw Error(J(200));return d$(t,e,null,n)};Tn.createRoot=function(t,e){if(!y_(t))throw Error(J(299));var n=!1,r="",i=kO;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=m_(t,1,!1,null,null,n,!1,r,i),t[Hr]=e.current,uu(t.nodeType===8?t.parentNode:t),new v_(e)};Tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=ZP(e),t=t===null?null:t.stateNode,t};Tn.flushSync=function(t){return Ro(t)};Tn.hydrate=function(t,e,n){if(!ep(e))throw Error(J(200));return tp(null,t,e,!0,n)};Tn.hydrateRoot=function(t,e,n){if(!y_(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=kO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=CO(e,null,t,1,n??null,i,!1,o,a),t[Hr]=e.current,uu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zd(e)};Tn.render=function(t,e,n){if(!ep(e))throw Error(J(200));return tp(null,t,e,!1,n)};Tn.unmountComponentAtNode=function(t){if(!ep(t))throw Error(J(40));return t._reactRootContainer?(Ro(function(){tp(null,null,t,!1,function(){t._reactRootContainer=null,t[Hr]=null})}),!0):!1};Tn.unstable_batchedUpdates=f_;Tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ep(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return tp(t,e,n,!1,r)};Tn.version="18.3.1-next-f1338f8080-20240426";function RO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RO)}catch(t){console.error(t)}}RO(),RP.exports=Tn;var y$=RP.exports,wE=y$;Fg.createRoot=wE.createRoot,Fg.hydrateRoot=wE.hydrateRoot;const _$=({children:t,user:e,onLogin:n,onLogout:r,currentPage:i,onNavigate:o})=>{const a="px-3 py-2 rounded-md text-sm font-medium transition-colors",s="bg-amber-600 text-white",l="text-neutral-300 hover:bg-neutral-700 hover:text-white";return M.jsxs("div",{className:"min-h-screen bg-neutral-900 text-neutral-200",children:[M.jsx("nav",{className:"bg-neutral-800/80 backdrop-blur-lg border-b border-neutral-700 sticky top-0 z-40",children:M.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:M.jsxs("div",{className:"flex items-center justify-between h-16",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx("div",{className:"flex-shrink-0",children:M.jsx("div",{className:"flex items-center gap-3",children:M.jsx("span",{className:"text-2xl font-bold text-amber-500",children:"Axes & Ales"})})}),M.jsx("div",{className:"hidden md:block",children:M.jsxs("div",{className:"ml-10 flex items-baseline space-x-4",children:[M.jsx("button",{onClick:()=>o("home"),className:`${i==="home"?s:l} ${a}`,children:"Dashboard"}),M.jsx("button",{onClick:()=>o("stats"),className:`${i==="stats"?s:l} ${a}`,children:"Club Stats"}),(e==null?void 0:e.isAdmin)&&M.jsx("button",{onClick:()=>o("admin"),className:`${i==="admin"?s:l} ${a}`,children:"Admin Panel"}),e&&!e.isAdmin&&M.jsx("button",{onClick:()=>o("profile"),className:`${i==="profile"?s:l} ${a}`,children:"My Profile"})]})})]}),M.jsx("div",{className:"hidden md:block",children:e?M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsxs("span",{className:"text-neutral-300 text-sm",children:["Welcome, ",M.jsx("span",{className:"font-bold",children:e.name})]}),M.jsx("button",{onClick:r,className:"bg-red-800/50 hover:bg-red-800/80 text-red-200 px-3 py-2 rounded-md text-sm font-medium border border-red-700/50 transition-colors",children:"Logout"})]}):M.jsx("button",{onClick:n,className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-md text-sm font-medium",children:"Member Login"})})]})})}),M.jsx("main",{children:M.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:M.jsx("div",{className:"px-4 py-6 sm:px-0",children:t})})})]})};var yu=(t=>(t.LARGE="6x4",t.SMALL="3x4",t))(yu||{}),Ze=(t=>(t.SCIFI="Sci-Fi",t.HISTORICAL="Historical",t.FANTASY="Fantasy",t.AOS="Age of Sigmar",t.WARHAMMER_40K="Warhammer 40k",t.HILLS="Hills",t.MODERN="Modern",t))(Ze||{});const w$=[...Array.from({length:16},(t,e)=>({id:`L${e+1}`,name:`Large Table ${e+1}`,size:yu.LARGE})),...Array.from({length:6},(t,e)=>({id:`S${e+1}`,name:`Small Table ${e+1}`,size:yu.SMALL}))],oa=t=>{const n={[Ze.SCIFI]:{color:"1e293b",text:"Sci-Fi+Set"},[Ze.HISTORICAL]:{color:"3f2c22",text:"Historical+Set"},[Ze.FANTASY]:{color:"064e3b",text:"Fantasy+Set"},[Ze.AOS]:{color:"450a0a",text:"AoS+Realm"},[Ze.WARHAMMER_40K]:{color:"172554",text:"40k+Ruins"},[Ze.HILLS]:{color:"365314",text:"Hills+Pack"},[Ze.MODERN]:{color:"4b5563",text:"Modern+Set"}}[t];return`https://placehold.co/400x300/${n.color}/e2e8f0/png?text=${n.text}`},b$=[...Array.from({length:10},(t,e)=>({id:`SCIFI-${e+1}`,category:Ze.SCIFI,name:`Sci-Fi Box ${e+1}`,imageUrl:oa(Ze.SCIFI)})),...Array.from({length:4},(t,e)=>({id:`HIST-${e+1}`,category:Ze.HISTORICAL,name:`Historical Box ${e+1}`,imageUrl:oa(Ze.HISTORICAL)})),...Array.from({length:2},(t,e)=>({id:`FANT-${e+1}`,category:Ze.FANTASY,name:`Fantasy Box ${e+1}`,imageUrl:oa(Ze.FANTASY)})),...Array.from({length:2},(t,e)=>({id:`AOS-${e+1}`,category:Ze.AOS,name:`AoS Box ${e+1}`,imageUrl:oa(Ze.AOS)})),...Array.from({length:2},(t,e)=>({id:`40K-${e+1}`,category:Ze.WARHAMMER_40K,name:`40k Box ${e+1}`,imageUrl:oa(Ze.WARHAMMER_40K)})),{id:"HILLS-1",category:Ze.HILLS,name:"Hills Box 1",imageUrl:oa(Ze.HILLS)}],NO=()=>{const t=[];let e=new Date;for(;e.getDay()!==2;)e.setDate(e.getDate()+1);for(let n=0;n<8;n++)t.push(e.toISOString().split("T")[0]),e.setDate(e.getDate()+7);return t},x$=(t,e,n)=>{const r=new Set(NO()),i=new Set(t),o=new Set(e.map(l=>l.date)),a=Array.from(new Set([...r,...i,...o])).sort(),s=new Date().toISOString().split("T")[0];return a.filter(l=>l>=s||e.some(u=>u.date===l)).map(l=>({value:l,isCancelled:n.includes(l)}))},__="axes_ales_bookings_v2",w_="axes_ales_tables_v1",b_="axes_ales_terrain_v1",MO="axes_ales_cancelled_dates_v1",DO="axes_ales_special_events_v1",dc=()=>{const t=localStorage.getItem(__);return t?JSON.parse(t):[]},E$=t=>{const e=dc(),n=e.findIndex(r=>r.id===t.id);n>=0?e[n]=t:e.push(t),localStorage.setItem(__,JSON.stringify(e))},S$=t=>{const n=dc().filter(r=>r.id!==t);localStorage.setItem(__,JSON.stringify(n))},T$=()=>{const t=localStorage.getItem(w_);return t?JSON.parse(t):[]},jO=t=>{localStorage.setItem(w_,JSON.stringify(t))},A$=()=>{const t=localStorage.getItem(b_);return t?JSON.parse(t):[]},$O=t=>{localStorage.setItem(b_,JSON.stringify(t))},P$=()=>{const t=localStorage.getItem(MO);return t?JSON.parse(t):[]},I$=t=>{localStorage.setItem(MO,JSON.stringify(t))},O$=()=>{const t=localStorage.getItem(DO);return t?JSON.parse(t):[]},C$=t=>{localStorage.setItem(DO,JSON.stringify(t))},k$=()=>{localStorage.getItem(w_)||jO(w$),localStorage.getItem(b_)||$O(b$)},R$=({isOpen:t,onClose:e,onSave:n,user:r,editingBooking:i,tables:o,terrainBoxes:a,cancelledDates:s,bookableDates:l,initialDate:u})=>{const[f,h]=U.useState((i==null?void 0:i.date)||u||l[0]),[d,p]=U.useState(""),[v,g]=U.useState(""),[w,y]=U.useState(""),[_,b]=U.useState(2),[I,T]=U.useState(""),[A,x]=U.useState("All"),[E,P]=U.useState(new Map),[C,O]=U.useState(new Map);U.useEffect(()=>{t&&(i?(h(i.date),p(i.tableId),g(i.terrainBoxId||""),y(i.gameSystem),b(i.playerCount)):(y(""),p(""),g(""),b(2),h(l.includes(u)?u:l[0])),x("All"),T(""))},[t,i,u,l]),U.useEffect(()=>{const $=dc().filter(D=>D.date===f),H=new Map,q=new Map;$.forEach(D=>{i&&D.id===i.id||(H.set(D.tableId,D.memberName),D.terrainBoxId&&q.set(D.terrainBoxId,D.memberName))}),P(H),O(q)},[f,i,t]);const N=()=>{if(s.includes(f)){T("This date has been cancelled. Bookings are not allowed.");return}if(!r.isMember){T("Your membership is not active. Please contact an admin.");return}if(!d||!w){T("Please select a table and enter a game system.");return}const $={id:i?i.id:crypto.randomUUID(),date:f,tableId:d,terrainBoxId:v||null,memberName:r.name,memberId:r.id,gameSystem:w,playerCount:_,timestamp:Date.now()};n($),e()};if(!t)return null;const k=A==="All"?a:a.filter($=>$.category===A),B=$=>{h($),p(""),g("")};return M.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:M.jsxs("div",{className:"bg-neutral-800 rounded-xl shadow-2xl max-w-5xl w-full border border-neutral-700 overflow-hidden flex flex-col max-h-[95vh]",children:[M.jsxs("div",{className:"p-6 border-b border-neutral-700 flex justify-between items-center bg-neutral-800 shrink-0",children:[M.jsx("h2",{className:"text-xl font-bold text-white",children:i?"Edit Booking":"New Reservation"}),M.jsx("button",{onClick:e,className:"text-neutral-400 hover:text-white",children:M.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),M.jsx("div",{className:"p-6 overflow-y-auto flex-grow",children:M.jsxs("div",{className:"space-y-8",children:[M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[M.jsx("div",{className:"md:col-span-4 space-y-4",children:M.jsxs("div",{className:"bg-neutral-900/50 p-4 rounded-lg border border-neutral-700",children:[M.jsx("h3",{className:"text-sm font-bold text-amber-500 uppercase tracking-wider mb-3",children:"1. Event Details"}),M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs text-neutral-400 mb-1",children:"Date"}),M.jsx("select",{value:f,onChange:$=>B($.target.value),className:"w-full bg-neutral-800 border border-neutral-600 rounded px-3 py-2 text-white focus:ring-1 focus:ring-amber-500 focus:outline-none text-sm",children:l.map($=>M.jsx("option",{value:$,children:new Date($+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric"})},$))})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs text-neutral-400 mb-1",children:"Game System"}),M.jsx("input",{type:"text",placeholder:"e.g. Warhammer 40k",value:w,onChange:$=>y($.target.value),className:"w-full bg-neutral-800 border border-neutral-600 rounded px-3 py-2 text-white mb-3 focus:ring-1 focus:ring-amber-500 focus:outline-none text-sm"}),M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("span",{className:"text-xs text-neutral-400",children:"Players:"}),M.jsx("input",{type:"number",min:"1",max:"10",value:_,onChange:$=>b(parseInt($.target.value)),className:"w-20 bg-neutral-800 border border-neutral-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-amber-500 focus:outline-none text-sm"})]})]})]})]})}),M.jsx("div",{className:"md:col-span-8",children:M.jsxs("div",{className:"bg-neutral-900/50 p-4 rounded-lg border border-neutral-700 h-full",children:[M.jsxs("div",{className:"flex justify-between items-center mb-3",children:[M.jsx("h3",{className:"text-sm font-bold text-amber-500 uppercase tracking-wider",children:"2. Select Table"}),M.jsxs("div",{className:"text-xs text-neutral-400",children:[M.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-amber-600 mr-1"}),"Selected",M.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-red-900/50 ml-3 mr-1"}),"Taken"]})]}),M.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-5 gap-2 max-h-60 overflow-y-auto pr-1",children:o.map($=>{const H=E.get($.id),q=!!H,D=d===$.id;return M.jsxs("button",{disabled:q,onClick:()=>p($.id),className:`p-2 rounded border text-left transition-all relative group ${D?"bg-amber-600 border-amber-500 text-white ring-1 ring-amber-400":""} ${q?"bg-neutral-800 border-neutral-700 opacity-60 cursor-not-allowed":"bg-neutral-800 border-neutral-600 hover:border-amber-500/50 hover:bg-neutral-700"}`,children:[M.jsx("div",{className:"font-bold text-sm",children:$.name.replace("Table ","")}),M.jsx("div",{className:"text-[10px] opacity-70",children:$.size}),q&&M.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center rounded backdrop-blur-[1px]",children:M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"text-[10px] text-neutral-400 leading-tight",children:"Booked by"}),M.jsx("div",{className:"text-[10px] text-red-400 font-semibold truncate px-1 max-w-[80px]",children:H})]})})]},$.id)})})]})})]}),M.jsxs("div",{className:"bg-neutral-900/50 p-4 rounded-lg border border-neutral-700",children:[M.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-4",children:[M.jsx("h3",{className:"text-sm font-bold text-amber-500 uppercase tracking-wider",children:"3. Select Terrain (Optional)"}),M.jsx("div",{className:"flex flex-wrap gap-2",children:["All",...Object.values(Ze)].map($=>M.jsx("button",{onClick:()=>x($),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${A===$?"bg-amber-600 text-white":"bg-neutral-800 text-neutral-400 hover:text-white hover:bg-neutral-700 border border-neutral-700"}`,children:$},$))})]}),M.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 max-h-80 overflow-y-auto pr-2",children:[A==="All"&&M.jsxs("button",{onClick:()=>g(""),className:`relative rounded-lg border-2 overflow-hidden h-36 flex flex-col items-center justify-center transition-all group ${v===""?"border-amber-500 bg-neutral-700 shadow-lg shadow-amber-900/20":"border-neutral-700 bg-neutral-800 hover:bg-neutral-700"}`,children:[M.jsx("span",{className:"text-2xl mb-2 opacity-70 group-hover:opacity-100 transition-opacity",children:""}),M.jsx("span",{className:`text-xs font-bold ${v===""?"text-amber-500":"text-neutral-400"}`,children:"No Box Needed"})]}),k.map($=>{const H=C.get($.id),q=!!H,D=v===$.id;return M.jsxs("button",{disabled:q,onClick:()=>g($.id),className:`relative rounded-lg border-2 overflow-hidden h-36 text-left transition-all group ${D?"border-amber-500 ring-2 ring-amber-500/50 transform scale-[1.02] z-10":"border-neutral-700 hover:border-neutral-500"} ${q?"opacity-75 cursor-not-allowed":""}`,children:[M.jsx("img",{src:$.imageUrl,alt:$.name,className:`absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110 ${q?"grayscale":""}`}),M.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${D?"from-amber-900/90":"from-black/90"} via-black/10 to-transparent`}),M.jsxs("div",{className:"absolute bottom-0 left-0 p-3 w-full",children:[M.jsx("div",{className:`font-bold text-xs leading-tight ${D?"text-amber-400":"text-white"}`,children:$.name}),M.jsx("div",{className:"text-[10px] text-neutral-400 uppercase tracking-wider mt-0.5",children:$.category})]}),D&&M.jsx("div",{className:"absolute top-2 right-2 bg-amber-500 rounded-full p-1 shadow-lg",children:M.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),q&&M.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/70 backdrop-blur-sm p-2 text-center",children:[M.jsx("span",{className:"text-red-500 text-[10px] font-bold border border-red-500/50 px-2 py-0.5 rounded bg-black/50 mb-1",children:"IN USE"}),M.jsx("span",{className:"text-neutral-300 text-[10px] font-medium truncate w-full",children:H})]})]},$.id)})]})]})]})}),I&&M.jsxs("div",{className:"px-6 py-3 bg-red-900/20 border-t border-red-900/50 flex items-center gap-3 shrink-0",children:[M.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),M.jsx("span",{className:"text-red-200 text-sm font-medium",children:I})]}),M.jsxs("div",{className:"p-6 border-t border-neutral-700 bg-neutral-800 flex justify-end gap-3 z-20 shrink-0",children:[M.jsx("button",{onClick:e,className:"px-5 py-2.5 rounded-lg text-neutral-300 hover:text-white hover:bg-neutral-700 transition-colors font-medium text-sm",children:"Cancel"}),M.jsx("button",{onClick:N,disabled:!d||!w||s.includes(f),className:"px-8 py-2.5 bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-500 hover:to-amber-600 disabled:from-neutral-700 disabled:to-neutral-700 disabled:text-neutral-500 disabled:cursor-not-allowed text-white rounded-lg font-bold shadow-lg shadow-amber-900/20 transition-all hover:translate-y-px text-sm",children:"Confirm Booking"})]})]})})};var bE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},N$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},VO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=o>>2,h=(o&3)<<4|s>>4;let d=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(d=64)),r.push(n[f],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):N$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||h==null)throw new M$;const d=o<<2|s>>4;if(r.push(d),u!==64){const p=s<<4&240|u>>2;if(r.push(p),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class M$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D$=function(t){const e=LO(t);return VO.encodeByteArray(e,!0)},Ah=function(t){return D$(t).replace(/\./g,"")},FO=function(t){try{return VO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$=()=>j$().__FIREBASE_DEFAULTS__,L$=()=>{if(typeof process>"u"||typeof bE>"u")return;const t=bE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},V$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FO(t[1]);return e&&JSON.parse(e)},np=()=>{try{return $$()||L$()||V$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UO=t=>{var e,n;return(n=(e=np())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},F$=t=>{const e=UO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},BO=()=>{var t;return(t=np())===null||t===void 0?void 0:t.config},zO=t=>{var e;return(e=np())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ah(JSON.stringify(n)),Ah(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function W$(){var t;const e=(t=np())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function q$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function K$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G$(){const t=Jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function X$(){return!W$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y$(){try{return typeof indexedDB=="object"}catch{return!1}}function Q$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$="FirebaseError";class ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=J$,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pc.prototype.create)}}class pc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?Z$(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new ni(i,s,r)}}function Z$(t,e){return t.replace(eL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const eL=/\{\$([^}]+)}/g;function tL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ph(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(xE(o)&&xE(a)){if(!Ph(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function kl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function nL(t,e){const n=new rL(t,e);return n.subscribe.bind(n)}class rL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");iL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=tg),i.error===void 0&&(i.error=tg),i.complete===void 0&&(i.complete=tg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class No{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new U$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sL(e))try{this.getOrInitializeService({instanceIdentifier:lo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lo){return this.instances.has(e)}getOptions(e=lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lo){return this.component?this.component.multipleInstances?e:lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aL(t){return t===lo?void 0:t}function sL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(be||(be={}));const uL={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},cL=be.INFO,fL={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},hL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=fL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class x_{constructor(e){this.name=e,this._logLevel=cL,this._logHandler=hL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const dL=(t,e)=>e.some(n=>t instanceof n);let EE,SE;function pL(){return EE||(EE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mL(){return SE||(SE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WO=new WeakMap,Nv=new WeakMap,HO=new WeakMap,ng=new WeakMap,E_=new WeakMap;function gL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Mi(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&WO.set(n,t)}).catch(()=>{}),E_.set(e,t),e}function vL(t){if(Nv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});Nv.set(t,e)}let Mv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yL(t){Mv=t(Mv)}function _L(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(rg(this),e,...n);return HO.set(r,e.sort?e.sort():[e]),Mi(r)}:mL().includes(t)?function(...e){return t.apply(rg(this),e),Mi(WO.get(this))}:function(...e){return Mi(t.apply(rg(this),e))}}function wL(t){return typeof t=="function"?_L(t):(t instanceof IDBTransaction&&vL(t),dL(t,pL())?new Proxy(t,Mv):t)}function Mi(t){if(t instanceof IDBRequest)return gL(t);if(ng.has(t))return ng.get(t);const e=wL(t);return e!==t&&(ng.set(t,e),E_.set(e,t)),e}const rg=t=>E_.get(t);function bL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=Mi(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Mi(a.result),l.oldVersion,l.newVersion,Mi(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const xL=["get","getKey","getAll","getAllKeys","count"],EL=["put","add","delete","clear"],ig=new Map;function TE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ig.get(e))return ig.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=EL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xL.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return ig.set(e,o),o}yL(t=>({...t,get:(e,n,r)=>TE(e,n)||t.get(e,n,r),has:(e,n)=>!!TE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dv="@firebase/app",AE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new x_("@firebase/app"),AL="@firebase/app-compat",PL="@firebase/analytics-compat",IL="@firebase/analytics",OL="@firebase/app-check-compat",CL="@firebase/app-check",kL="@firebase/auth",RL="@firebase/auth-compat",NL="@firebase/database",ML="@firebase/data-connect",DL="@firebase/database-compat",jL="@firebase/functions",$L="@firebase/functions-compat",LL="@firebase/installations",VL="@firebase/installations-compat",FL="@firebase/messaging",UL="@firebase/messaging-compat",BL="@firebase/performance",zL="@firebase/performance-compat",WL="@firebase/remote-config",HL="@firebase/remote-config-compat",qL="@firebase/storage",KL="@firebase/storage-compat",GL="@firebase/firestore",XL="@firebase/vertexai-preview",YL="@firebase/firestore-compat",QL="firebase",JL="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="[DEFAULT]",ZL={[Dv]:"fire-core",[AL]:"fire-core-compat",[IL]:"fire-analytics",[PL]:"fire-analytics-compat",[CL]:"fire-app-check",[OL]:"fire-app-check-compat",[kL]:"fire-auth",[RL]:"fire-auth-compat",[NL]:"fire-rtdb",[ML]:"fire-data-connect",[DL]:"fire-rtdb-compat",[jL]:"fire-fn",[$L]:"fire-fn-compat",[LL]:"fire-iid",[VL]:"fire-iid-compat",[FL]:"fire-fcm",[UL]:"fire-fcm-compat",[BL]:"fire-perf",[zL]:"fire-perf-compat",[WL]:"fire-rc",[HL]:"fire-rc-compat",[qL]:"fire-gcs",[KL]:"fire-gcs-compat",[GL]:"fire-fst",[YL]:"fire-fst-compat",[XL]:"fire-vertex","fire-js":"fire-js",[QL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Map,eV=new Map,$v=new Map;function PE(t,e){try{t.container.addComponent(e)}catch(n){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ya(t){const e=t.name;if($v.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;$v.set(e,t);for(const n of Ih.values())PE(n,t);for(const n of eV.values())PE(n,t);return!0}function S_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ur(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Di=new pc("app","Firebase",tV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new No("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=JL;function qO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Di.create("bad-app-name",{appName:String(i)});if(n||(n=BO()),!n)throw Di.create("no-options");const o=Ih.get(i);if(o){if(Ph(n,o.options)&&Ph(r,o.config))return o;throw Di.create("duplicate-app",{appName:i})}const a=new lL(i);for(const l of $v.values())a.addComponent(l);const s=new nV(n,r,a);return Ih.set(i,s),s}function KO(t=jv){const e=Ih.get(t);if(!e&&t===jv&&BO())return qO();if(!e)throw Di.create("no-app",{appName:t});return e}function ji(t,e,n){var r;let i=(r=ZL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(s.join(" "));return}Ya(new No(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV="firebase-heartbeat-database",iV=1,_u="firebase-heartbeat-store";let og=null;function GO(){return og||(og=bL(rV,iV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_u)}catch(n){console.warn(n)}}}}).catch(t=>{throw Di.create("idb-open",{originalErrorMessage:t.message})})),og}async function oV(t){try{const n=(await GO()).transaction(_u),r=await n.objectStore(_u).get(XO(t));return await n.done,r}catch(e){if(e instanceof ni)Gr.warn(e.message);else{const n=Di.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gr.warn(n.message)}}}async function IE(t,e){try{const r=(await GO()).transaction(_u,"readwrite");await r.objectStore(_u).put(e,XO(t)),await r.done}catch(n){if(n instanceof ni)Gr.warn(n.message);else{const r=Di.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gr.warn(r.message)}}}function XO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=1024,sV=30*24*60*60*1e3;class lV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=OE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=sV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Gr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=OE(),{heartbeatsToSend:r,unsentEntries:i}=uV(this._heartbeatsCache.heartbeats),o=Ah(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Gr.warn(n),""}}}function OE(){return new Date().toISOString().substring(0,10)}function uV(t,e=aV){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),CE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y$()?Q$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return IE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return IE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function CE(t){return Ah(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t){Ya(new No("platform-logger",e=>new SL(e),"PRIVATE")),Ya(new No("heartbeat",e=>new lV(e),"PRIVATE")),ji(Dv,AE,t),ji(Dv,AE,"esm2017"),ji("fire-js","")}fV("");function T_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function YO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hV=YO,QO=new pc("auth","Firebase",YO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new x_("@firebase/auth");function dV(t,...e){Oh.logLevel<=be.WARN&&Oh.warn(`Auth (${Os}): ${t}`,...e)}function Kf(t,...e){Oh.logLevel<=be.ERROR&&Oh.error(`Auth (${Os}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t,...e){throw A_(t,...e)}function dr(t,...e){return A_(t,...e)}function JO(t,e,n){const r=Object.assign(Object.assign({},hV()),{[e]:n});return new pc("auth","Firebase",r).create(e,{appName:t.name})}function Fr(t){return JO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function A_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return QO.create(t,...e)}function de(t,e,...n){if(!t)throw A_(e,...n)}function Mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kf(e),new Error(e)}function Xr(t,e){t||Mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pV(){return kE()==="http:"||kE()==="https:"}function kE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pV()||q$()||"connection"in navigator)?navigator.onLine:!0}function gV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xr(n>e,"Short delay should be less than long delay!"),this.isMobile=z$()||K$()}get(){return mV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t,e){Xr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=new gc(3e4,6e4);function Gi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ri(t,e,n,r,i={}){return eC(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=mc(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return H$()||(u.referrerPolicy="no-referrer"),ZO.fetch()(tC(t,t.config.apiHost,n,s),u)})}async function eC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},vV),e);try{const i=new wV(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw gf(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw gf(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw gf(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw gf(t,"user-disabled",a);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw JO(t,f,u);tr(t,f)}}catch(i){if(i instanceof ni)throw i;tr(t,"network-request-failed",{message:String(i)})}}async function vc(t,e,n,r,i={}){const o=await ri(t,e,n,r,i);return"mfaPendingCredential"in o&&tr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function tC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?P_(t.config,i):`${t.config.apiScheme}://${i}`}function _V(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(dr(this.auth,"network-request-failed")),yV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=dr(t,e,r);return i.customData._tokenResponse=n,i}function RE(t){return t!==void 0&&t.enterprise!==void 0}class bV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _V(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function xV(t,e){return ri(t,"GET","/v2/recaptchaConfig",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(t,e){return ri(t,"POST","/v1/accounts:delete",e)}async function nC(t,e){return ri(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SV(t,e=!1){const n=Pt(t),r=await n.getIdToken(e),i=I_(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:ql(ag(i.auth_time)),issuedAtTime:ql(ag(i.iat)),expirationTime:ql(ag(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ag(t){return Number(t)*1e3}function I_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kf("JWT malformed, contained fewer than 3 sections"),null;try{const i=FO(n);return i?JSON.parse(i):(Kf("Failed to decode base64 JWT payload"),null)}catch(i){return Kf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function NE(t){const e=I_(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ni&&TV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function TV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ql(this.lastLoginAt),this.creationTime=ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Qa(t,nC(n,{idToken:r}));de(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?rC(o.providerUserInfo):[],s=IV(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),f=l?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Vv(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function PV(t){const e=Pt(t);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rC(t){return t.map(e=>{var{providerId:n}=e,r=T_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(t,e){const n=await eC(t,{},async()=>{const r=mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=tC(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",ZO.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CV(t,e){return ri(t,"POST","/v2/accounts:revokeToken",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=NE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await OV(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Da;return r&&(de(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(de(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Da,this.toJSON())}_performRefresh(){return Mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=T_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Qa(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SV(this,e)}reload(){return PV(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(Fr(this.auth));const e=await this.getIdToken();return await Qa(this,EV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,l,u,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(a=n.photoURL)!==null&&a!==void 0?a:void 0,g=(s=n.tenantId)!==null&&s!==void 0?s:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:b,emailVerified:I,isAnonymous:T,providerData:A,stsTokenManager:x}=n;de(b&&x,e,"internal-error");const E=Da.fromJSON(this.name,x);de(typeof b=="string",e,"internal-error"),hi(h,e.name),hi(d,e.name),de(typeof I=="boolean",e,"internal-error"),de(typeof T=="boolean",e,"internal-error"),hi(p,e.name),hi(v,e.name),hi(g,e.name),hi(w,e.name),hi(y,e.name),hi(_,e.name);const P=new Dr({uid:b,auth:e,email:d,emailVerified:I,displayName:h,isAnonymous:T,photoURL:v,phoneNumber:p,tenantId:g,stsTokenManager:E,createdAt:y,lastLoginAt:_});return A&&Array.isArray(A)&&(P.providerData=A.map(C=>Object.assign({},C))),w&&(P._redirectEventId=w),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Da;i.updateFromServerResponse(n);const o=new Dr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ch(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];de(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?rC(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new Da;s.updateFromIdToken(r);const l=new Dr({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Vv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map;function jr(t){Xr(t instanceof Function,"Expected a class definition");let e=ME.get(t);return e?(Xr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ME.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iC.type="NONE";const DE=iC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t,e,n){return`firebase:${t}:${e}:${n}`}class ja{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Gf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Gf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ja(jr(DE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||jr(DE);const a=Gf(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const f=await u._get(a);if(f){const h=Dr._fromJSON(e,f);u!==o&&(s=h),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ja(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new ja(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cC(e))return"Blackberry";if(fC(e))return"Webos";if(aC(e))return"Safari";if((e.includes("chrome/")||sC(e))&&!e.includes("edge/"))return"Chrome";if(uC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oC(t=Jt()){return/firefox\//i.test(t)}function aC(t=Jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sC(t=Jt()){return/crios\//i.test(t)}function lC(t=Jt()){return/iemobile/i.test(t)}function uC(t=Jt()){return/android/i.test(t)}function cC(t=Jt()){return/blackberry/i.test(t)}function fC(t=Jt()){return/webos/i.test(t)}function O_(t=Jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kV(t=Jt()){var e;return O_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RV(){return G$()&&document.documentMode===10}function hC(t=Jt()){return O_(t)||uC(t)||fC(t)||cC(t)||/windows phone/i.test(t)||lC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(t,e=[]){let n;switch(t){case"Browser":n=jE(Jt());break;case"Worker":n=`${jE(Jt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Os}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(t,e={}){return ri(t,"GET","/v2/passwordPolicy",Gi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=6;class jV{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:DV,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $E(this),this.idTokenSubscription=new $E(this),this.beforeStateQueue=new NV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ja.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nC(this,{idToken:e}),r=await Dr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ur(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(Fr(this));const n=e?Pt(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MV(this),n=new jV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await CV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&jr(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await ja.create(this,[jr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&dV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ho(t){return Pt(t)}class $E{constructor(e){this.auth=e,this.observer=null,this.addObserver=nL(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LV(t){rp=t}function pC(t){return rp.loadJS(t)}function VV(){return rp.recaptchaEnterpriseScript}function FV(){return rp.gapiScript}function UV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const BV="recaptcha-enterprise",zV="NO_RECAPTCHA";class WV{constructor(e){this.type=BV,this.auth=Ho(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{xV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new bV(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;RE(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{a(u)}).catch(()=>{a(zV)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&RE(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=VV();l.length!==0&&(l+=s),pC(l).then(()=>{i(s,o,a)}).catch(u=>{a(u)})}}).catch(s=>{a(s)})})}}async function LE(t,e,n,r=!1){const i=new WV(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Fv(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await LE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await LE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t,e){const n=S_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Ph(o,e??{}))return i;tr(i,"already-initialized")}return n.initialize({options:e})}function qV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(jr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function KV(t,e,n){const r=Ho(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=mC(e),{host:a,port:s}=GV(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),XV()}function mC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function GV(t){const e=mC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:VE(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:VE(a)}}}function VE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function XV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mr("not implemented")}_getIdTokenResponse(e){return Mr("not implemented")}_linkToIdToken(e,n){return Mr("not implemented")}_getReauthenticationResolver(e){return Mr("not implemented")}}async function YV(t,e){return ri(t,"POST","/v1/accounts:update",e)}async function QV(t,e){return ri(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(t,e){return vc(t,"POST","/v1/accounts:signInWithPassword",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZV(t,e){return vc(t,"POST","/v1/accounts:signInWithEmailLink",Gi(t,e))}async function e4(t,e){return vc(t,"POST","/v1/accounts:signInWithEmailLink",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends C_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new wu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new wu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fv(e,n,"signInWithPassword",JV);case"emailLink":return ZV(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fv(e,r,"signUpPassword",QV);case"emailLink":return e4(e,{idToken:n,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(t,e){return vc(t,"POST","/v1/accounts:signInWithIdp",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="http://localhost";class Mo extends C_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=T_(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Mo(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return $a(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$a(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$a(e,n)}buildRequest(){const e={requestUri:t4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function r4(t){const e=Cl(kl(t)).link,n=e?Cl(kl(e)).deep_link_id:null,r=Cl(kl(t)).deep_link_id;return(r?Cl(kl(r)).link:null)||r||n||e||t}class k_{constructor(e){var n,r,i,o,a,s;const l=Cl(kl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,h=n4((i=l.mode)!==null&&i!==void 0?i:null);de(u&&f&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=f,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=r4(e);try{return new k_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(){this.providerId=Cs.PROVIDER_ID}static credential(e,n){return wu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=k_.parseLink(n);return de(r,"argument-error"),wu._fromEmailAndCode(e,r.code,r.tenantId)}}Cs.PROVIDER_ID="password";Cs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends gC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends yc{constructor(){super("facebook.com")}static credential(e){return Mo._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Mo._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _i.credential(n,r)}catch{return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com";_i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends yc{constructor(){super("github.com")}static credential(e){return Mo._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.GITHUB_SIGN_IN_METHOD="github.com";wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends yc{constructor(){super("twitter.com")}static credential(e,n){return Mo._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return bi.credential(n,r)}catch{return null}}}bi.TWITTER_SIGN_IN_METHOD="twitter.com";bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(t,e){return vc(t,"POST","/v1/accounts:signUp",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Dr._fromIdTokenResponse(e,r,i),a=FE(r);return new Do({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=FE(r);return new Do({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function FE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh extends ni{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new kh(e,n,r,i)}}function vC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?kh._fromErrorAndOperation(t,o,e,r):o})}async function o4(t,e,n=!1){const r=await Qa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Do._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(t,e,n=!1){const{auth:r}=t;if(ur(r.app))return Promise.reject(Fr(r));const i="reauthenticate";try{const o=await Qa(t,vC(r,i,e,t),n);de(o.idToken,r,"internal-error");const a=I_(o.idToken);de(a,r,"internal-error");const{sub:s}=a;return de(t.uid===s,r,"user-mismatch"),Do._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&tr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(t,e,n=!1){if(ur(t.app))return Promise.reject(Fr(t));const r="signIn",i=await vC(t,r,e),o=await Do._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function s4(t,e){return yC(Ho(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(t){const e=Ho(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function l4(t,e,n){if(ur(t.app))return Promise.reject(Fr(t));const r=Ho(t),a=await Fv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",i4).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&_C(t),l}),s=await Do._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}function u4(t,e,n){return ur(t.app)?Promise.reject(Fr(t)):s4(Pt(t),Cs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_C(t),r})}function c4(t,e){return f4(Pt(t),null,e)}async function f4(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(o.password=n);const a=await Qa(t,YV(r,o));await t._updateTokensIfNecessary(a,!0)}function h4(t,e,n,r){return Pt(t).onIdTokenChanged(e,n,r)}function d4(t,e,n){return Pt(t).beforeAuthStateChanged(e,n)}function p4(t,e,n,r){return Pt(t).onAuthStateChanged(e,n,r)}function m4(t){return Pt(t).signOut()}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=1e3,v4=10;class bC extends wC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);RV()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,v4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},g4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bC.type="LOCAL";const y4=bC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC extends wC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xC.type="SESSION";const EC=xC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ip(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await _4(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ip.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=R_("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(d.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function b4(t){pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function x4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function S4(){return SC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="firebaseLocalStorageDb",T4=1,Nh="firebaseLocalStorage",AC="fbase_key";class _c{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function op(t,e){return t.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function A4(){const t=indexedDB.deleteDatabase(TC);return new _c(t).toPromise()}function Uv(){const t=indexedDB.open(TC,T4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Nh,{keyPath:AC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Nh)?e(r):(r.close(),await A4(),e(await Uv()))})})}async function UE(t,e,n){const r=op(t,!0).put({[AC]:e,value:n});return new _c(r).toPromise()}async function P4(t,e){const n=op(t,!1).get(e),r=await new _c(n).toPromise();return r===void 0?null:r.value}function BE(t,e){const n=op(t,!0).delete(e);return new _c(n).toPromise()}const I4=800,O4=3;class PC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>O4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ip._getInstance(S4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await x4(),!this.activeServiceWorker)return;this.sender=new w4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||E4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Uv();return await UE(e,Rh,"1"),await BE(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>UE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>P4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>BE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=op(i,!1).getAll();return new _c(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),I4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PC.type="LOCAL";const C4=PC;new gc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(t,e){return e?jr(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_ extends C_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $a(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $a(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $a(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function R4(t){return yC(t.auth,new N_(t),t.bypassAuthState)}function N4(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),a4(n,new N_(t),t.bypassAuthState)}async function M4(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),o4(n,new N_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return R4;case"linkViaPopup":case"linkViaRedirect":return M4;case"reauthViaPopup":case"reauthViaRedirect":return N4;default:tr(this.auth,"internal-error")}}resolve(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=new gc(2e3,1e4);class Ta extends IC{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ta.currentPopupAction&&Ta.currentPopupAction.cancel(),Ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const e=R_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,D4.get())};e()}}Ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="pendingRedirect",Xf=new Map;class $4 extends IC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xf.get(this.auth._key());if(!e){try{const r=await L4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xf.set(this.auth._key(),e)}return this.bypassAuthState||Xf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L4(t,e){const n=U4(e),r=F4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function V4(t,e){Xf.set(t._key(),e)}function F4(t){return jr(t._redirectPersistence)}function U4(t){return Gf(j4,t.config.apiKey,t.name)}async function B4(t,e,n=!1){if(ur(t.app))return Promise.reject(Fr(t));const r=Ho(t),i=k4(r,e),a=await new $4(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=10*60*1e3;class W4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!H4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!OC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(dr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=z4&&this.cachedEventUids.clear(),this.cachedEventUids.has(zE(e))}saveEventToCache(e){this.cachedEventUids.add(zE(e)),this.lastProcessedEventTime=Date.now()}}function zE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function H4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q4(t,e={}){return ri(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G4=/^https?/;async function X4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await q4(t);for(const n of e)try{if(Y4(n))return}catch{}tr(t,"unauthorized-domain")}function Y4(t){const e=Lv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!G4.test(n))return!1;if(K4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=new gc(3e4,6e4);function WE(){const t=pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function J4(t){return new Promise((e,n)=>{var r,i,o;function a(){WE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WE(),n(dr(t,"network-request-failed"))},timeout:Q4.get()})}if(!((i=(r=pr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=pr().gapi)===null||o===void 0)&&o.load)a();else{const s=UV("iframefcb");return pr()[s]=()=>{gapi.load?a():n(dr(t,"network-request-failed"))},pC(`${FV()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Yf=null,e})}let Yf=null;function Z4(t){return Yf=Yf||J4(t),Yf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF=new gc(5e3,15e3),tF="__/auth/iframe",nF="emulator/auth/iframe",rF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oF(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?P_(e,nF):`https://${t.config.authDomain}/${tF}`,r={apiKey:e.apiKey,appName:t.name,v:Os},i=iF.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${mc(r).slice(1)}`}async function aF(t){const e=await Z4(t),n=pr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:oF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rF,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=dr(t,"network-request-failed"),s=pr().setTimeout(()=>{o(a)},eF.get());function l(){pr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lF=500,uF=600,cF="_blank",fF="http://localhost";class HE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hF(t,e,n,r=lF,i=uF){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},sF),{width:r.toString(),height:i.toString(),top:o,left:a}),u=Jt().toLowerCase();n&&(s=sC(u)?cF:n),oC(u)&&(e=e||fF,l.scrollbars="yes");const f=Object.entries(l).reduce((d,[p,v])=>`${d}${p}=${v},`,"");if(kV(u)&&s!=="_self")return dF(e||"",s),new HE(null);const h=window.open(e||"",s,f);de(h,t,"popup-blocked");try{h.focus()}catch{}return new HE(h)}function dF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF="__/auth/handler",mF="emulator/auth/handler",gF=encodeURIComponent("fac");async function qE(t,e,n,r,i,o){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Os,eventId:i};if(e instanceof gC){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",tL(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))a[f]=h}if(e instanceof yc){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const f of Object.keys(s))s[f]===void 0&&delete s[f];const l=await t._getAppCheckToken(),u=l?`#${gF}=${encodeURIComponent(l)}`:"";return`${vF(t)}?${mc(s).slice(1)}${u}`}function vF({config:t}){return t.emulator?P_(t,mF):`https://${t.authDomain}/${pF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="webStorageSupport";class yF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EC,this._completeRedirectFn=B4,this._overrideRedirectResult=V4}async _openPopup(e,n,r,i){var o;Xr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await qE(e,n,r,Lv(),i);return hF(e,a,R_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await qE(e,n,r,Lv(),i);return b4(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Xr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await aF(e),r=new W4(e);return n.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sg,{type:sg},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[sg];a!==void 0&&n(!!a),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=X4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hC()||aC()||O_()}}const _F=yF;var KE="@firebase/auth",GE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xF(t){Ya(new No("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;de(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dC(t)},u=new $V(r,i,o,l);return qV(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ya(new No("auth-internal",e=>{const n=Ho(e.getProvider("auth").getImmediate());return(r=>new wF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ji(KE,GE,bF(t)),ji(KE,GE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=5*60,SF=zO("authIdTokenMaxAge")||EF;let XE=null;const TF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SF)return;const i=n==null?void 0:n.token;XE!==i&&(XE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function AF(t=KO()){const e=S_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=HV(t,{popupRedirectResolver:_F,persistence:[C4,y4,EC]}),r=zO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=TF(o.toString());d4(n,a,()=>a(n.currentUser)),h4(n,s=>a(s))}}const i=UO("auth");return i&&KV(n,`http://${i}`),n}function PF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}LV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=dr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",PF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xF("Browser");var YE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Eo,CC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,E){function P(){}P.prototype=E.prototype,x.D=E.prototype,x.prototype=new P,x.prototype.constructor=x,x.C=function(C,O,N){for(var k=Array(arguments.length-2),B=2;B<arguments.length;B++)k[B-2]=arguments[B];return E.prototype[O].apply(C,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,E,P){P||(P=0);var C=Array(16);if(typeof E=="string")for(var O=0;16>O;++O)C[O]=E.charCodeAt(P++)|E.charCodeAt(P++)<<8|E.charCodeAt(P++)<<16|E.charCodeAt(P++)<<24;else for(O=0;16>O;++O)C[O]=E[P++]|E[P++]<<8|E[P++]<<16|E[P++]<<24;E=x.g[0],P=x.g[1],O=x.g[2];var N=x.g[3],k=E+(N^P&(O^N))+C[0]+3614090360&4294967295;E=P+(k<<7&4294967295|k>>>25),k=N+(O^E&(P^O))+C[1]+3905402710&4294967295,N=E+(k<<12&4294967295|k>>>20),k=O+(P^N&(E^P))+C[2]+606105819&4294967295,O=N+(k<<17&4294967295|k>>>15),k=P+(E^O&(N^E))+C[3]+3250441966&4294967295,P=O+(k<<22&4294967295|k>>>10),k=E+(N^P&(O^N))+C[4]+4118548399&4294967295,E=P+(k<<7&4294967295|k>>>25),k=N+(O^E&(P^O))+C[5]+1200080426&4294967295,N=E+(k<<12&4294967295|k>>>20),k=O+(P^N&(E^P))+C[6]+2821735955&4294967295,O=N+(k<<17&4294967295|k>>>15),k=P+(E^O&(N^E))+C[7]+4249261313&4294967295,P=O+(k<<22&4294967295|k>>>10),k=E+(N^P&(O^N))+C[8]+1770035416&4294967295,E=P+(k<<7&4294967295|k>>>25),k=N+(O^E&(P^O))+C[9]+2336552879&4294967295,N=E+(k<<12&4294967295|k>>>20),k=O+(P^N&(E^P))+C[10]+4294925233&4294967295,O=N+(k<<17&4294967295|k>>>15),k=P+(E^O&(N^E))+C[11]+2304563134&4294967295,P=O+(k<<22&4294967295|k>>>10),k=E+(N^P&(O^N))+C[12]+1804603682&4294967295,E=P+(k<<7&4294967295|k>>>25),k=N+(O^E&(P^O))+C[13]+4254626195&4294967295,N=E+(k<<12&4294967295|k>>>20),k=O+(P^N&(E^P))+C[14]+2792965006&4294967295,O=N+(k<<17&4294967295|k>>>15),k=P+(E^O&(N^E))+C[15]+1236535329&4294967295,P=O+(k<<22&4294967295|k>>>10),k=E+(O^N&(P^O))+C[1]+4129170786&4294967295,E=P+(k<<5&4294967295|k>>>27),k=N+(P^O&(E^P))+C[6]+3225465664&4294967295,N=E+(k<<9&4294967295|k>>>23),k=O+(E^P&(N^E))+C[11]+643717713&4294967295,O=N+(k<<14&4294967295|k>>>18),k=P+(N^E&(O^N))+C[0]+3921069994&4294967295,P=O+(k<<20&4294967295|k>>>12),k=E+(O^N&(P^O))+C[5]+3593408605&4294967295,E=P+(k<<5&4294967295|k>>>27),k=N+(P^O&(E^P))+C[10]+38016083&4294967295,N=E+(k<<9&4294967295|k>>>23),k=O+(E^P&(N^E))+C[15]+3634488961&4294967295,O=N+(k<<14&4294967295|k>>>18),k=P+(N^E&(O^N))+C[4]+3889429448&4294967295,P=O+(k<<20&4294967295|k>>>12),k=E+(O^N&(P^O))+C[9]+568446438&4294967295,E=P+(k<<5&4294967295|k>>>27),k=N+(P^O&(E^P))+C[14]+3275163606&4294967295,N=E+(k<<9&4294967295|k>>>23),k=O+(E^P&(N^E))+C[3]+4107603335&4294967295,O=N+(k<<14&4294967295|k>>>18),k=P+(N^E&(O^N))+C[8]+1163531501&4294967295,P=O+(k<<20&4294967295|k>>>12),k=E+(O^N&(P^O))+C[13]+2850285829&4294967295,E=P+(k<<5&4294967295|k>>>27),k=N+(P^O&(E^P))+C[2]+4243563512&4294967295,N=E+(k<<9&4294967295|k>>>23),k=O+(E^P&(N^E))+C[7]+1735328473&4294967295,O=N+(k<<14&4294967295|k>>>18),k=P+(N^E&(O^N))+C[12]+2368359562&4294967295,P=O+(k<<20&4294967295|k>>>12),k=E+(P^O^N)+C[5]+4294588738&4294967295,E=P+(k<<4&4294967295|k>>>28),k=N+(E^P^O)+C[8]+2272392833&4294967295,N=E+(k<<11&4294967295|k>>>21),k=O+(N^E^P)+C[11]+1839030562&4294967295,O=N+(k<<16&4294967295|k>>>16),k=P+(O^N^E)+C[14]+4259657740&4294967295,P=O+(k<<23&4294967295|k>>>9),k=E+(P^O^N)+C[1]+2763975236&4294967295,E=P+(k<<4&4294967295|k>>>28),k=N+(E^P^O)+C[4]+1272893353&4294967295,N=E+(k<<11&4294967295|k>>>21),k=O+(N^E^P)+C[7]+4139469664&4294967295,O=N+(k<<16&4294967295|k>>>16),k=P+(O^N^E)+C[10]+3200236656&4294967295,P=O+(k<<23&4294967295|k>>>9),k=E+(P^O^N)+C[13]+681279174&4294967295,E=P+(k<<4&4294967295|k>>>28),k=N+(E^P^O)+C[0]+3936430074&4294967295,N=E+(k<<11&4294967295|k>>>21),k=O+(N^E^P)+C[3]+3572445317&4294967295,O=N+(k<<16&4294967295|k>>>16),k=P+(O^N^E)+C[6]+76029189&4294967295,P=O+(k<<23&4294967295|k>>>9),k=E+(P^O^N)+C[9]+3654602809&4294967295,E=P+(k<<4&4294967295|k>>>28),k=N+(E^P^O)+C[12]+3873151461&4294967295,N=E+(k<<11&4294967295|k>>>21),k=O+(N^E^P)+C[15]+530742520&4294967295,O=N+(k<<16&4294967295|k>>>16),k=P+(O^N^E)+C[2]+3299628645&4294967295,P=O+(k<<23&4294967295|k>>>9),k=E+(O^(P|~N))+C[0]+4096336452&4294967295,E=P+(k<<6&4294967295|k>>>26),k=N+(P^(E|~O))+C[7]+1126891415&4294967295,N=E+(k<<10&4294967295|k>>>22),k=O+(E^(N|~P))+C[14]+2878612391&4294967295,O=N+(k<<15&4294967295|k>>>17),k=P+(N^(O|~E))+C[5]+4237533241&4294967295,P=O+(k<<21&4294967295|k>>>11),k=E+(O^(P|~N))+C[12]+1700485571&4294967295,E=P+(k<<6&4294967295|k>>>26),k=N+(P^(E|~O))+C[3]+2399980690&4294967295,N=E+(k<<10&4294967295|k>>>22),k=O+(E^(N|~P))+C[10]+4293915773&4294967295,O=N+(k<<15&4294967295|k>>>17),k=P+(N^(O|~E))+C[1]+2240044497&4294967295,P=O+(k<<21&4294967295|k>>>11),k=E+(O^(P|~N))+C[8]+1873313359&4294967295,E=P+(k<<6&4294967295|k>>>26),k=N+(P^(E|~O))+C[15]+4264355552&4294967295,N=E+(k<<10&4294967295|k>>>22),k=O+(E^(N|~P))+C[6]+2734768916&4294967295,O=N+(k<<15&4294967295|k>>>17),k=P+(N^(O|~E))+C[13]+1309151649&4294967295,P=O+(k<<21&4294967295|k>>>11),k=E+(O^(P|~N))+C[4]+4149444226&4294967295,E=P+(k<<6&4294967295|k>>>26),k=N+(P^(E|~O))+C[11]+3174756917&4294967295,N=E+(k<<10&4294967295|k>>>22),k=O+(E^(N|~P))+C[2]+718787259&4294967295,O=N+(k<<15&4294967295|k>>>17),k=P+(N^(O|~E))+C[9]+3951481745&4294967295,x.g[0]=x.g[0]+E&4294967295,x.g[1]=x.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+N&4294967295}r.prototype.u=function(x,E){E===void 0&&(E=x.length);for(var P=E-this.blockSize,C=this.B,O=this.h,N=0;N<E;){if(O==0)for(;N<=P;)i(this,x,N),N+=this.blockSize;if(typeof x=="string"){for(;N<E;)if(C[O++]=x.charCodeAt(N++),O==this.blockSize){i(this,C),O=0;break}}else for(;N<E;)if(C[O++]=x[N++],O==this.blockSize){i(this,C),O=0;break}}this.h=O,this.o+=E},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var E=1;E<x.length-8;++E)x[E]=0;var P=8*this.o;for(E=x.length-8;E<x.length;++E)x[E]=P&255,P/=256;for(this.u(x),x=Array(16),E=P=0;4>E;++E)for(var C=0;32>C;C+=8)x[P++]=this.g[E]>>>C&255;return x};function o(x,E){var P=s;return Object.prototype.hasOwnProperty.call(P,x)?P[x]:P[x]=E(x)}function a(x,E){this.h=E;for(var P=[],C=!0,O=x.length-1;0<=O;O--){var N=x[O]|0;C&&N==E||(P[O]=N,C=!1)}this.g=P}var s={};function l(x){return-128<=x&&128>x?o(x,function(E){return new a([E|0],0>E?-1:0)}):new a([x|0],0>x?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return h;if(0>x)return w(u(-x));for(var E=[],P=1,C=0;x>=P;C++)E[C]=x/P|0,P*=4294967296;return new a(E,0)}function f(x,E){if(x.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(x.charAt(0)=="-")return w(f(x.substring(1),E));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(E,8)),C=h,O=0;O<x.length;O+=8){var N=Math.min(8,x.length-O),k=parseInt(x.substring(O,O+N),E);8>N?(N=u(Math.pow(E,N)),C=C.j(N).add(u(k))):(C=C.j(P),C=C.add(u(k)))}return C}var h=l(0),d=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-w(this).m();for(var x=0,E=1,P=0;P<this.g.length;P++){var C=this.i(P);x+=(0<=C?C:4294967296+C)*E,E*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(v(this))return"0";if(g(this))return"-"+w(this).toString(x);for(var E=u(Math.pow(x,6)),P=this,C="";;){var O=I(P,E).g;P=y(P,O.j(E));var N=((0<P.g.length?P.g[0]:P.h)>>>0).toString(x);if(P=O,v(P))return N+C;for(;6>N.length;)N="0"+N;C=N+C}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function v(x){if(x.h!=0)return!1;for(var E=0;E<x.g.length;E++)if(x.g[E]!=0)return!1;return!0}function g(x){return x.h==-1}t.l=function(x){return x=y(this,x),g(x)?-1:v(x)?0:1};function w(x){for(var E=x.g.length,P=[],C=0;C<E;C++)P[C]=~x.g[C];return new a(P,~x.h).add(d)}t.abs=function(){return g(this)?w(this):this},t.add=function(x){for(var E=Math.max(this.g.length,x.g.length),P=[],C=0,O=0;O<=E;O++){var N=C+(this.i(O)&65535)+(x.i(O)&65535),k=(N>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);C=k>>>16,N&=65535,k&=65535,P[O]=k<<16|N}return new a(P,P[P.length-1]&-2147483648?-1:0)};function y(x,E){return x.add(w(E))}t.j=function(x){if(v(this)||v(x))return h;if(g(this))return g(x)?w(this).j(w(x)):w(w(this).j(x));if(g(x))return w(this.j(w(x)));if(0>this.l(p)&&0>x.l(p))return u(this.m()*x.m());for(var E=this.g.length+x.g.length,P=[],C=0;C<2*E;C++)P[C]=0;for(C=0;C<this.g.length;C++)for(var O=0;O<x.g.length;O++){var N=this.i(C)>>>16,k=this.i(C)&65535,B=x.i(O)>>>16,$=x.i(O)&65535;P[2*C+2*O]+=k*$,_(P,2*C+2*O),P[2*C+2*O+1]+=N*$,_(P,2*C+2*O+1),P[2*C+2*O+1]+=k*B,_(P,2*C+2*O+1),P[2*C+2*O+2]+=N*B,_(P,2*C+2*O+2)}for(C=0;C<E;C++)P[C]=P[2*C+1]<<16|P[2*C];for(C=E;C<2*E;C++)P[C]=0;return new a(P,0)};function _(x,E){for(;(x[E]&65535)!=x[E];)x[E+1]+=x[E]>>>16,x[E]&=65535,E++}function b(x,E){this.g=x,this.h=E}function I(x,E){if(v(E))throw Error("division by zero");if(v(x))return new b(h,h);if(g(x))return E=I(w(x),E),new b(w(E.g),w(E.h));if(g(E))return E=I(x,w(E)),new b(w(E.g),E.h);if(30<x.g.length){if(g(x)||g(E))throw Error("slowDivide_ only works with positive integers.");for(var P=d,C=E;0>=C.l(x);)P=T(P),C=T(C);var O=A(P,1),N=A(C,1);for(C=A(C,2),P=A(P,2);!v(C);){var k=N.add(C);0>=k.l(x)&&(O=O.add(P),N=k),C=A(C,1),P=A(P,1)}return E=y(x,O.j(E)),new b(O,E)}for(O=h;0<=x.l(E);){for(P=Math.max(1,Math.floor(x.m()/E.m())),C=Math.ceil(Math.log(P)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),N=u(P),k=N.j(E);g(k)||0<k.l(x);)P-=C,N=u(P),k=N.j(E);v(N)&&(N=d),O=O.add(N),x=y(x,k)}return new b(O,x)}t.A=function(x){return I(this,x).h},t.and=function(x){for(var E=Math.max(this.g.length,x.g.length),P=[],C=0;C<E;C++)P[C]=this.i(C)&x.i(C);return new a(P,this.h&x.h)},t.or=function(x){for(var E=Math.max(this.g.length,x.g.length),P=[],C=0;C<E;C++)P[C]=this.i(C)|x.i(C);return new a(P,this.h|x.h)},t.xor=function(x){for(var E=Math.max(this.g.length,x.g.length),P=[],C=0;C<E;C++)P[C]=this.i(C)^x.i(C);return new a(P,this.h^x.h)};function T(x){for(var E=x.g.length+1,P=[],C=0;C<E;C++)P[C]=x.i(C)<<1|x.i(C-1)>>>31;return new a(P,x.h)}function A(x,E){var P=E>>5;E%=32;for(var C=x.g.length-P,O=[],N=0;N<C;N++)O[N]=0<E?x.i(N+P)>>>E|x.i(N+P+1)<<32-E:x.i(N+P);return new a(O,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,CC=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=f,Eo=a}).apply(typeof YE<"u"?YE:typeof self<"u"?self:typeof window<"u"?window:{});var vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kC,Rl,RC,Qf,Bv,NC,MC,DC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,S){return c==Array.prototype||c==Object.prototype||(c[m]=S.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vf=="object"&&vf];for(var m=0;m<c.length;++m){var S=c[m];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function i(c,m){if(m)e:{var S=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var j=c[R];if(!(j in S))break e;S=S[j]}c=c[c.length-1],R=S[c],m=m(R),m!=R&&m!=null&&e(S,c,{configurable:!0,writable:!0,value:m})}}function o(c,m){c instanceof String&&(c+="");var S=0,R=!1,j={next:function(){if(!R&&S<c.length){var F=S++;return{value:m(F,c[F]),done:!1}}return R=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(c){return c||function(){return o(this,function(m,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function f(c,m,S){return c.call.apply(c.bind,arguments)}function h(c,m,S){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,R),c.apply(m,j)}}return function(){return c.apply(m,arguments)}}function d(c,m,S){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,d.apply(null,arguments)}function p(c,m){var S=Array.prototype.slice.call(arguments,1);return function(){var R=S.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function v(c,m){function S(){}S.prototype=m.prototype,c.aa=m.prototype,c.prototype=new S,c.prototype.constructor=c,c.Qb=function(R,j,F){for(var ee=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ee[Ve-2]=arguments[Ve];return m.prototype[j].apply(R,ee)}}function g(c){const m=c.length;if(0<m){const S=Array(m);for(let R=0;R<m;R++)S[R]=c[R];return S}return[]}function w(c,m){for(let S=1;S<arguments.length;S++){const R=arguments[S];if(l(R)){const j=c.length||0,F=R.length||0;c.length=j+F;for(let ee=0;ee<F;ee++)c[j+ee]=R[ee]}else c.push(R)}}class y{constructor(m,S){this.i=m,this.j=S,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function _(c){return/^[\s\xa0]*$/.test(c)}function b(){var c=s.navigator;return c&&(c=c.userAgent)?c:""}function I(c){return I[" "](c),c}I[" "]=function(){};var T=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function A(c,m,S){for(const R in c)m.call(S,c[R],R,c)}function x(c,m){for(const S in c)m.call(void 0,c[S],S,c)}function E(c){const m={};for(const S in c)m[S]=c[S];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,m){let S,R;for(let j=1;j<arguments.length;j++){R=arguments[j];for(S in R)c[S]=R[S];for(let F=0;F<P.length;F++)S=P[F],Object.prototype.hasOwnProperty.call(R,S)&&(c[S]=R[S])}}function O(c){var m=1;c=c.split(":");const S=[];for(;0<m&&c.length;)S.push(c.shift()),m--;return c.length&&S.push(c.join(":")),S}function N(c){s.setTimeout(()=>{throw c},0)}function k(){var c=z;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class B{constructor(){this.h=this.g=null}add(m,S){const R=$.get();R.set(m,S),this.h?this.h.next=R:this.g=R,this.h=R}}var $=new y(()=>new H,c=>c.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,S){this.h=m,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let q,D=!1,z=new B,G=()=>{const c=s.Promise.resolve(void 0);q=()=>{c.then(te)}};var te=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(S){N(S)}var m=$;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}D=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const S=()=>{};s.addEventListener("test",S,m),s.removeEventListener("test",S,m)}catch{}return c}();function Ee(c,m){if(ne.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var S=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(T){e:{try{I(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else S=="mouseover"?m=c.fromElement:S=="mouseout"&&(m=c.toElement);this.relatedTarget=m,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$e[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ee.aa.h.call(this)}}v(Ee,ne);var $e={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),le=0;function Z(c,m,S,R,j){this.listener=c,this.proxy=null,this.src=m,this.type=S,this.capture=!!R,this.ha=j,this.key=++le,this.da=this.fa=!1}function ae(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,m,S,R,j){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var ee=ke(c,m,R,j);return-1<ee?(m=c[ee],S||(m.fa=!1)):(m=new Z(m,this.src,F,!!R,j),m.fa=S,c.push(m)),m};function K(c,m){var S=m.type;if(S in c.g){var R=c.g[S],j=Array.prototype.indexOf.call(R,m,void 0),F;(F=0<=j)&&Array.prototype.splice.call(R,j,1),F&&(ae(m),c.g[S].length==0&&(delete c.g[S],c.h--))}}function ke(c,m,S,R){for(var j=0;j<c.length;++j){var F=c[j];if(!F.da&&F.listener==m&&F.capture==!!S&&F.ha==R)return j}return-1}var me="closure_lm_"+(1e6*Math.random()|0),Je={};function it(c,m,S,R,j){if(Array.isArray(m)){for(var F=0;F<m.length;F++)it(c,m[F],S,R,j);return null}return S=Ks(S),c&&c[L]?c.K(m,S,u(R)?!!R.capture:!1,j):Vt(c,m,S,!1,R,j)}function Vt(c,m,S,R,j,F){if(!m)throw Error("Invalid event type");var ee=u(j)?!!j.capture:!!j,Ve=eo(c);if(Ve||(c[me]=Ve=new ce(c)),S=Ve.add(m,S,R,ee,F),S.proxy)return S;if(R=rr(),S.proxy=R,R.src=c,R.listener=S,c.addEventListener)ye||(j=ee),j===void 0&&(j=!1),c.addEventListener(m.toString(),R,j);else if(c.attachEvent)c.attachEvent(ir(m.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return S}function rr(){function c(S){return m.call(c.src,c.listener,S)}const m=Ar;return c}function Tr(c,m,S,R,j){if(Array.isArray(m))for(var F=0;F<m.length;F++)Tr(c,m[F],S,R,j);else R=u(R)?!!R.capture:!!R,S=Ks(S),c&&c[L]?(c=c.i,m=String(m).toString(),m in c.g&&(F=c.g[m],S=ke(F,S,R,j),-1<S&&(ae(F[S]),Array.prototype.splice.call(F,S,1),F.length==0&&(delete c.g[m],c.h--)))):c&&(c=eo(c))&&(m=c.g[m.toString()],c=-1,m&&(c=ke(m,S,R,j)),(S=-1<c?m[c]:null)&&si(S))}function si(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[L])K(m.i,c);else{var S=c.type,R=c.proxy;m.removeEventListener?m.removeEventListener(S,R,c.capture):m.detachEvent?m.detachEvent(ir(S),R):m.addListener&&m.removeListener&&m.removeListener(R),(S=eo(m))?(K(S,c),S.h==0&&(S.src=null,m[me]=null)):ae(c)}}}function ir(c){return c in Je?Je[c]:Je[c]="on"+c}function Ar(c,m){if(c.da)c=!0;else{m=new Ee(m,this);var S=c.listener,R=c.ha||c.src;c.fa&&si(c),c=S.call(R,m)}return c}function eo(c){return c=c[me],c instanceof ce?c:null}var Zo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ks(c){return typeof c=="function"?c:(c[Zo]||(c[Zo]=function(m){return c.handleEvent(m)}),c[Zo])}function Ft(){X.call(this),this.i=new ce(this),this.M=this,this.F=null}v(Ft,X),Ft.prototype[L]=!0,Ft.prototype.removeEventListener=function(c,m,S,R){Tr(this,c,m,S,R)};function Zt(c,m){var S,R=c.F;if(R)for(S=[];R;R=R.F)S.push(R);if(c=c.M,R=m.type||m,typeof m=="string")m=new ne(m,c);else if(m instanceof ne)m.target=m.target||c;else{var j=m;m=new ne(R,c),C(m,j)}if(j=!0,S)for(var F=S.length-1;0<=F;F--){var ee=m.g=S[F];j=Dc(ee,R,!0,m)&&j}if(ee=m.g=c,j=Dc(ee,R,!0,m)&&j,j=Dc(ee,R,!1,m)&&j,S)for(F=0;F<S.length;F++)ee=m.g=S[F],j=Dc(ee,R,!1,m)&&j}Ft.prototype.N=function(){if(Ft.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var S=c.g[m],R=0;R<S.length;R++)ae(S[R]);delete c.g[m],c.h--}}this.F=null},Ft.prototype.K=function(c,m,S,R){return this.i.add(String(c),m,!1,S,R)},Ft.prototype.L=function(c,m,S,R){return this.i.add(String(c),m,!0,S,R)};function Dc(c,m,S,R){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,F=0;F<m.length;++F){var ee=m[F];if(ee&&!ee.da&&ee.capture==S){var Ve=ee.listener,Ot=ee.ha||ee.src;ee.fa&&K(c.i,ee),j=Ve.call(Ot,R)!==!1&&j}}return j&&!R.defaultPrevented}function vb(c,m,S){if(typeof c=="function")S&&(c=d(c,S));else if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:s.setTimeout(c,m||0)}function yb(c){c.g=vb(()=>{c.g=null,c.i&&(c.i=!1,yb(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class bM extends X{constructor(m,S){super(),this.m=m,this.l=S,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:yb(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gs(c){X.call(this),this.h=c,this.g={}}v(Gs,X);var _b=[];function wb(c){A(c.g,function(m,S){this.g.hasOwnProperty(S)&&si(m)},c),c.g={}}Gs.prototype.N=function(){Gs.aa.N.call(this),wb(this)},Gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dm=s.JSON.stringify,xM=s.JSON.parse,EM=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function pm(){}pm.prototype.h=null;function bb(c){return c.h||(c.h=c.i())}function xb(){}var Xs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mm(){ne.call(this,"d")}v(mm,ne);function gm(){ne.call(this,"c")}v(gm,ne);var to={},Eb=null;function jc(){return Eb=Eb||new Ft}to.La="serverreachability";function Sb(c){ne.call(this,to.La,c)}v(Sb,ne);function Ys(c){const m=jc();Zt(m,new Sb(m))}to.STAT_EVENT="statevent";function Tb(c,m){ne.call(this,to.STAT_EVENT,c),this.stat=m}v(Tb,ne);function en(c){const m=jc();Zt(m,new Tb(m,c))}to.Ma="timingevent";function Ab(c,m){ne.call(this,to.Ma,c),this.size=m}v(Ab,ne);function Qs(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},m)}function Js(){this.g=!0}Js.prototype.xa=function(){this.g=!1};function SM(c,m,S,R,j,F){c.info(function(){if(c.g)if(F)for(var ee="",Ve=F.split("&"),Ot=0;Ot<Ve.length;Ot++){var Ae=Ve[Ot].split("=");if(1<Ae.length){var Ut=Ae[0];Ae=Ae[1];var Bt=Ut.split("_");ee=2<=Bt.length&&Bt[1]=="type"?ee+(Ut+"="+Ae+"&"):ee+(Ut+"=redacted&")}}else ee=null;else ee=F;return"XMLHTTP REQ ("+R+") [attempt "+j+"]: "+m+`
`+S+`
`+ee})}function TM(c,m,S,R,j,F,ee){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+j+"]: "+m+`
`+S+`
`+F+" "+ee})}function ea(c,m,S,R){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+PM(c,S)+(R?" "+R:"")})}function AM(c,m){c.info(function(){return"TIMEOUT: "+m})}Js.prototype.info=function(){};function PM(c,m){if(!c.g)return m;if(!m)return null;try{var S=JSON.parse(m);if(S){for(c=0;c<S.length;c++)if(Array.isArray(S[c])){var R=S[c];if(!(2>R.length)){var j=R[1];if(Array.isArray(j)&&!(1>j.length)){var F=j[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ee=1;ee<j.length;ee++)j[ee]=""}}}}return dm(S)}catch{return m}}var $c={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vm;function Lc(){}v(Lc,pm),Lc.prototype.g=function(){return new XMLHttpRequest},Lc.prototype.i=function(){return{}},vm=new Lc;function li(c,m,S,R){this.j=c,this.i=m,this.l=S,this.R=R||1,this.U=new Gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ib}function Ib(){this.i=null,this.g="",this.h=!1}var Ob={},ym={};function _m(c,m,S){c.L=1,c.v=Bc(Pr(m)),c.m=S,c.P=!0,Cb(c,null)}function Cb(c,m){c.F=Date.now(),Vc(c),c.A=Pr(c.v);var S=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),Wb(S.i,"t",R),c.C=0,S=c.j.J,c.h=new Ib,c.g=lx(c.j,S?m:null,!c.m),0<c.O&&(c.M=new bM(d(c.Y,c,c.g),c.O)),m=c.U,S=c.g,R=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(_b[0]=j.toString()),j=_b);for(var F=0;F<j.length;F++){var ee=it(S,j[F],R||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Ys(),SM(c.i,c.u,c.A,c.l,c.R,c.m)}li.prototype.ca=function(c){c=c.target;const m=this.M;m&&Ir(c)==3?m.j():this.Y(c)},li.prototype.Y=function(c){try{if(c==this.g)e:{const Bt=Ir(this.g);var m=this.g.Ba();const ra=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||Qb(this.g)))){this.J||Bt!=4||m==7||(m==8||0>=ra?Ys(3):Ys(2)),wm(this);var S=this.g.Z();this.X=S;t:if(kb(this)){var R=Qb(this.g);c="";var j=R.length,F=Ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){no(this),Zs(this);var ee="";break t}this.h.i=new s.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,c+=this.h.i.decode(R[m],{stream:!(F&&m==j-1)});R.length=0,this.h.g+=c,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=S==200,TM(this.i,this.u,this.A,this.l,this.R,Bt,S),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Ot=this.g;if((Ve=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ve)){var Ae=Ve;break t}}Ae=null}if(S=Ae)ea(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bm(this,S);else{this.o=!1,this.s=3,en(12),no(this),Zs(this);break e}}if(this.P){S=!0;let Un;for(;!this.J&&this.C<ee.length;)if(Un=IM(this,ee),Un==ym){Bt==4&&(this.s=4,en(14),S=!1),ea(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==Ob){this.s=4,en(15),ea(this.i,this.l,ee,"[Invalid Chunk]"),S=!1;break}else ea(this.i,this.l,Un,null),bm(this,Un);if(kb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||ee.length!=0||this.h.h||(this.s=1,en(16),S=!1),this.o=this.o&&S,!S)ea(this.i,this.l,ee,"[Invalid Chunked Response]"),no(this),Zs(this);else if(0<ee.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),Pm(Ut),Ut.M=!0,en(11))}}else ea(this.i,this.l,ee,null),bm(this,ee);Bt==4&&no(this),this.o&&!this.J&&(Bt==4?ix(this.j,this):(this.o=!1,Vc(this)))}else HM(this.g),S==400&&0<ee.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),no(this),Zs(this)}}}catch{}finally{}};function kb(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function IM(c,m){var S=c.C,R=m.indexOf(`
`,S);return R==-1?ym:(S=Number(m.substring(S,R)),isNaN(S)?Ob:(R+=1,R+S>m.length?ym:(m=m.slice(R,R+S),c.C=R+S,m)))}li.prototype.cancel=function(){this.J=!0,no(this)};function Vc(c){c.S=Date.now()+c.I,Rb(c,c.I)}function Rb(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Qs(d(c.ba,c),m)}function wm(c){c.B&&(s.clearTimeout(c.B),c.B=null)}li.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(AM(this.i,this.A),this.L!=2&&(Ys(),en(17)),no(this),this.s=2,Zs(this)):Rb(this,this.S-c)};function Zs(c){c.j.G==0||c.J||ix(c.j,c)}function no(c){wm(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,wb(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function bm(c,m){try{var S=c.j;if(S.G!=0&&(S.g==c||xm(S.h,c))){if(!c.K&&xm(S.h,c)&&S.G==3){try{var R=S.Da.g.parse(m)}catch{R=null}if(Array.isArray(R)&&R.length==3){var j=R;if(j[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<c.F)Gc(S),qc(S);else break e;Am(S),en(18)}}else S.za=j[1],0<S.za-S.T&&37500>j[2]&&S.F&&S.v==0&&!S.C&&(S.C=Qs(d(S.Za,S),6e3));if(1>=Db(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else io(S,11)}else if((c.K||S.g==c)&&Gc(S),!_(m))for(j=S.Da.g.parse(m),m=0;m<j.length;m++){let Ae=j[m];if(S.T=Ae[0],Ae=Ae[1],S.G==2)if(Ae[0]=="c"){S.K=Ae[1],S.ia=Ae[2];const Ut=Ae[3];Ut!=null&&(S.la=Ut,S.j.info("VER="+S.la));const Bt=Ae[4];Bt!=null&&(S.Aa=Bt,S.j.info("SVER="+S.Aa));const ra=Ae[5];ra!=null&&typeof ra=="number"&&0<ra&&(R=1.5*ra,S.L=R,S.j.info("backChannelRequestTimeoutMs_="+R)),R=S;const Un=c.g;if(Un){const Yc=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yc){var F=R.h;F.g||Yc.indexOf("spdy")==-1&&Yc.indexOf("quic")==-1&&Yc.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Em(F,F.h),F.h=null))}if(R.D){const Im=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;Im&&(R.ya=Im,We(R.I,R.D,Im))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-c.F,S.j.info("Handshake RTT: "+S.R+"ms")),R=S;var ee=c;if(R.qa=sx(R,R.J?R.ia:null,R.W),ee.K){jb(R.h,ee);var Ve=ee,Ot=R.L;Ot&&(Ve.I=Ot),Ve.B&&(wm(Ve),Vc(Ve)),R.g=ee}else nx(R);0<S.i.length&&Kc(S)}else Ae[0]!="stop"&&Ae[0]!="close"||io(S,7);else S.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?io(S,7):Tm(S):Ae[0]!="noop"&&S.l&&S.l.ta(Ae),S.v=0)}}Ys(4)}catch{}}var OM=class{constructor(c,m){this.g=c,this.map=m}};function Nb(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mb(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Db(c){return c.h?1:c.g?c.g.size:0}function xm(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Em(c,m){c.g?c.g.add(m):c.h=m}function jb(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Nb.prototype.cancel=function(){if(this.i=$b(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function $b(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const S of c.g.values())m=m.concat(S.D);return m}return g(c.i)}function CM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],S=c.length,R=0;R<S;R++)m.push(c[R]);return m}m=[],S=0;for(R in c)m[S++]=c[R];return m}function kM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var S=0;S<c;S++)m.push(S);return m}m=[],S=0;for(const R in c)m[S++]=R;return m}}}function Lb(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var S=kM(c),R=CM(c),j=R.length,F=0;F<j;F++)m.call(void 0,R[F],S&&S[F],c)}var Vb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RM(c,m){if(c){c=c.split("&");for(var S=0;S<c.length;S++){var R=c[S].indexOf("="),j=null;if(0<=R){var F=c[S].substring(0,R);j=c[S].substring(R+1)}else F=c[S];m(F,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ro(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ro){this.h=c.h,Fc(this,c.j),this.o=c.o,this.g=c.g,Uc(this,c.s),this.l=c.l;var m=c.i,S=new nl;S.i=m.i,m.g&&(S.g=new Map(m.g),S.h=m.h),Fb(this,S),this.m=c.m}else c&&(m=String(c).match(Vb))?(this.h=!1,Fc(this,m[1]||"",!0),this.o=el(m[2]||""),this.g=el(m[3]||"",!0),Uc(this,m[4]),this.l=el(m[5]||"",!0),Fb(this,m[6]||"",!0),this.m=el(m[7]||"")):(this.h=!1,this.i=new nl(null,this.h))}ro.prototype.toString=function(){var c=[],m=this.j;m&&c.push(tl(m,Ub,!0),":");var S=this.g;return(S||m=="file")&&(c.push("//"),(m=this.o)&&c.push(tl(m,Ub,!0),"@"),c.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&c.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&c.push("/"),c.push(tl(S,S.charAt(0)=="/"?DM:MM,!0))),(S=this.i.toString())&&c.push("?",S),(S=this.m)&&c.push("#",tl(S,$M)),c.join("")};function Pr(c){return new ro(c)}function Fc(c,m,S){c.j=S?el(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Uc(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Fb(c,m,S){m instanceof nl?(c.i=m,LM(c.i,c.h)):(S||(m=tl(m,jM)),c.i=new nl(m,c.h))}function We(c,m,S){c.i.set(m,S)}function Bc(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function el(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function tl(c,m,S){return typeof c=="string"?(c=encodeURI(c).replace(m,NM),S&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function NM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ub=/[#\/\?@]/g,MM=/[#\?:]/g,DM=/[#\?]/g,jM=/[#\?@]/g,$M=/#/g;function nl(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function ui(c){c.g||(c.g=new Map,c.h=0,c.i&&RM(c.i,function(m,S){c.add(decodeURIComponent(m.replace(/\+/g," ")),S)}))}t=nl.prototype,t.add=function(c,m){ui(this),this.i=null,c=ta(this,c);var S=this.g.get(c);return S||this.g.set(c,S=[]),S.push(m),this.h+=1,this};function Bb(c,m){ui(c),m=ta(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function zb(c,m){return ui(c),m=ta(c,m),c.g.has(m)}t.forEach=function(c,m){ui(this),this.g.forEach(function(S,R){S.forEach(function(j){c.call(m,j,R,this)},this)},this)},t.na=function(){ui(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),S=[];for(let R=0;R<m.length;R++){const j=c[R];for(let F=0;F<j.length;F++)S.push(m[R])}return S},t.V=function(c){ui(this);let m=[];if(typeof c=="string")zb(this,c)&&(m=m.concat(this.g.get(ta(this,c))));else{c=Array.from(this.g.values());for(let S=0;S<c.length;S++)m=m.concat(c[S])}return m},t.set=function(c,m){return ui(this),this.i=null,c=ta(this,c),zb(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Wb(c,m,S){Bb(c,m),0<S.length&&(c.i=null,c.g.set(ta(c,m),g(S)),c.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var S=0;S<m.length;S++){var R=m[S];const F=encodeURIComponent(String(R)),ee=this.V(R);for(R=0;R<ee.length;R++){var j=F;ee[R]!==""&&(j+="="+encodeURIComponent(String(ee[R]))),c.push(j)}}return this.i=c.join("&")};function ta(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function LM(c,m){m&&!c.j&&(ui(c),c.i=null,c.g.forEach(function(S,R){var j=R.toLowerCase();R!=j&&(Bb(this,R),Wb(this,j,S))},c)),c.j=m}function VM(c,m){const S=new Js;if(s.Image){const R=new Image;R.onload=p(ci,S,"TestLoadImage: loaded",!0,m,R),R.onerror=p(ci,S,"TestLoadImage: error",!1,m,R),R.onabort=p(ci,S,"TestLoadImage: abort",!1,m,R),R.ontimeout=p(ci,S,"TestLoadImage: timeout",!1,m,R),s.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else m(!1)}function FM(c,m){const S=new Js,R=new AbortController,j=setTimeout(()=>{R.abort(),ci(S,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:R.signal}).then(F=>{clearTimeout(j),F.ok?ci(S,"TestPingServer: ok",!0,m):ci(S,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),ci(S,"TestPingServer: error",!1,m)})}function ci(c,m,S,R,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),R(S)}catch{}}function UM(){this.g=new EM}function BM(c,m,S){const R=S||"";try{Lb(c,function(j,F){let ee=j;u(j)&&(ee=dm(j)),m.push(R+F+"="+encodeURIComponent(ee))})}catch(j){throw m.push(R+"type="+encodeURIComponent("_badmap")),j}}function zc(c){this.l=c.Ub||null,this.j=c.eb||!1}v(zc,pm),zc.prototype.g=function(){return new Wc(this.l,this.j)},zc.prototype.i=function(c){return function(){return c}}({});function Wc(c,m){Ft.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Wc,Ft),t=Wc.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,il(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||s).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rl(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,il(this)),this.g&&(this.readyState=3,il(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hb(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hb(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?rl(this):il(this),this.readyState==3&&Hb(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,rl(this))},t.Qa=function(c){this.g&&(this.response=c,rl(this))},t.ga=function(){this.g&&rl(this)};function rl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,il(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var S=m.next();!S.done;)S=S.value,c.push(S[0]+": "+S[1]),S=m.next();return c.join(`\r
`)};function il(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Wc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qb(c){let m="";return A(c,function(S,R){m+=R,m+=":",m+=S,m+=`\r
`}),m}function Sm(c,m,S){e:{for(R in S){var R=!1;break e}R=!0}R||(S=qb(S),typeof c=="string"?S!=null&&encodeURIComponent(String(S)):We(c,m,S))}function ot(c){Ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(ot,Ft);var zM=/^https?$/i,WM=["POST","PUT"];t=ot.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,S,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vm.g(),this.v=this.o?bb(this.o):bb(vm),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(F){Kb(this,F);return}if(c=S||"",S=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var j in R)S.set(j,R[j]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const F of R.keys())S.set(F,R.get(F));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(S.keys()).find(F=>F.toLowerCase()=="content-type"),j=s.FormData&&c instanceof s.FormData,!(0<=Array.prototype.indexOf.call(WM,m,void 0))||R||j||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ee]of S)this.g.setRequestHeader(F,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yb(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){Kb(this,F)}};function Kb(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,Gb(c),Hc(c)}function Gb(c){c.A||(c.A=!0,Zt(c,"complete"),Zt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Zt(this,"complete"),Zt(this,"abort"),Hc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hc(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xb(this):this.bb())},t.bb=function(){Xb(this)};function Xb(c){if(c.h&&typeof a<"u"&&(!c.v[1]||Ir(c)!=4||c.Z()!=2)){if(c.u&&Ir(c)==4)vb(c.Ea,0,c);else if(Zt(c,"readystatechange"),Ir(c)==4){c.h=!1;try{const ee=c.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var S;if(!(S=m)){var R;if(R=ee===0){var j=String(c.D).match(Vb)[1]||null;!j&&s.self&&s.self.location&&(j=s.self.location.protocol.slice(0,-1)),R=!zM.test(j?j.toLowerCase():"")}S=R}if(S)Zt(c,"complete"),Zt(c,"success");else{c.m=6;try{var F=2<Ir(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",Gb(c)}}finally{Hc(c)}}}}function Hc(c,m){if(c.g){Yb(c);const S=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Zt(c,"ready");try{S.onreadystatechange=R}catch{}}}function Yb(c){c.I&&(s.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Ir(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),xM(m)}};function Qb(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function HM(c){const m={};c=(c.g&&2<=Ir(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(_(c[R]))continue;var S=O(c[R]);const j=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const F=m[j]||[];m[j]=F,F.push(S)}x(m,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ol(c,m,S){return S&&S.internalChannelParams&&S.internalChannelParams[c]||m}function Jb(c){this.Aa=0,this.i=[],this.j=new Js,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ol("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ol("baseRetryDelayMs",5e3,c),this.cb=ol("retryDelaySeedMs",1e4,c),this.Wa=ol("forwardChannelMaxRetries",2,c),this.wa=ol("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Nb(c&&c.concurrentRequestLimit),this.Da=new UM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Jb.prototype,t.la=8,t.G=1,t.connect=function(c,m,S,R){en(0),this.W=c,this.H=m||{},S&&R!==void 0&&(this.H.OSID=S,this.H.OAID=R),this.F=this.X,this.I=sx(this,null,this.W),Kc(this)};function Tm(c){if(Zb(c),c.G==3){var m=c.U++,S=Pr(c.I);if(We(S,"SID",c.K),We(S,"RID",m),We(S,"TYPE","terminate"),al(c,S),m=new li(c,c.j,m),m.L=2,m.v=Bc(Pr(S)),S=!1,s.navigator&&s.navigator.sendBeacon)try{S=s.navigator.sendBeacon(m.v.toString(),"")}catch{}!S&&s.Image&&(new Image().src=m.v,S=!0),S||(m.g=lx(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Vc(m)}ax(c)}function qc(c){c.g&&(Pm(c),c.g.cancel(),c.g=null)}function Zb(c){qc(c),c.u&&(s.clearTimeout(c.u),c.u=null),Gc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&s.clearTimeout(c.s),c.s=null)}function Kc(c){if(!Mb(c.h)&&!c.s){c.s=!0;var m=c.Ga;q||G(),D||(q(),D=!0),z.add(m,c),c.B=0}}function qM(c,m){return Db(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Qs(d(c.Ga,c,m),ox(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new li(this,this.j,c);let F=this.o;if(this.S&&(F?(F=E(F),C(F,this.S)):F=this.S),this.m!==null||this.O||(j.H=F,F=null),this.P)e:{for(var m=0,S=0;S<this.i.length;S++){t:{var R=this.i[S];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(m+=R,4096<m){m=S;break e}if(m===4096||S===this.i.length-1){m=S+1;break e}}m=1e3}else m=1e3;m=tx(this,j,m),S=Pr(this.I),We(S,"RID",c),We(S,"CVER",22),this.D&&We(S,"X-HTTP-Session-Id",this.D),al(this,S),F&&(this.O?m="headers="+encodeURIComponent(String(qb(F)))+"&"+m:this.m&&Sm(S,this.m,F)),Em(this.h,j),this.Ua&&We(S,"TYPE","init"),this.P?(We(S,"$req",m),We(S,"SID","null"),j.T=!0,_m(j,S,null)):_m(j,S,m),this.G=2}}else this.G==3&&(c?ex(this,c):this.i.length==0||Mb(this.h)||ex(this))};function ex(c,m){var S;m?S=m.l:S=c.U++;const R=Pr(c.I);We(R,"SID",c.K),We(R,"RID",S),We(R,"AID",c.T),al(c,R),c.m&&c.o&&Sm(R,c.m,c.o),S=new li(c,c.j,S,c.B+1),c.m===null&&(S.H=c.o),m&&(c.i=m.D.concat(c.i)),m=tx(c,S,1e3),S.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Em(c.h,S),_m(S,R,m)}function al(c,m){c.H&&A(c.H,function(S,R){We(m,R,S)}),c.l&&Lb({},function(S,R){We(m,R,S)})}function tx(c,m,S){S=Math.min(c.i.length,S);var R=c.l?d(c.l.Na,c.l,c):null;e:{var j=c.i;let F=-1;for(;;){const ee=["count="+S];F==-1?0<S?(F=j[0].g,ee.push("ofs="+F)):F=0:ee.push("ofs="+F);let Ve=!0;for(let Ot=0;Ot<S;Ot++){let Ae=j[Ot].g;const Ut=j[Ot].map;if(Ae-=F,0>Ae)F=Math.max(0,j[Ot].g-100),Ve=!1;else try{BM(Ut,ee,"req"+Ae+"_")}catch{R&&R(Ut)}}if(Ve){R=ee.join("&");break e}}}return c=c.i.splice(0,S),m.D=c,R}function nx(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;q||G(),D||(q(),D=!0),z.add(m,c),c.v=0}}function Am(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Qs(d(c.Fa,c),ox(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,rx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Qs(d(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,en(10),qc(this),rx(this))};function Pm(c){c.A!=null&&(s.clearTimeout(c.A),c.A=null)}function rx(c){c.g=new li(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Pr(c.qa);We(m,"RID","rpc"),We(m,"SID",c.K),We(m,"AID",c.T),We(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(m,"TO",c.ja),We(m,"TYPE","xmlhttp"),al(c,m),c.m&&c.o&&Sm(m,c.m,c.o),c.L&&(c.g.I=c.L);var S=c.g;c=c.ia,S.L=1,S.v=Bc(Pr(m)),S.m=null,S.P=!0,Cb(S,c)}t.Za=function(){this.C!=null&&(this.C=null,qc(this),Am(this),en(19))};function Gc(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function ix(c,m){var S=null;if(c.g==m){Gc(c),Pm(c),c.g=null;var R=2}else if(xm(c.h,m))S=m.D,jb(c.h,m),R=1;else return;if(c.G!=0){if(m.o)if(R==1){S=m.m?m.m.length:0,m=Date.now()-m.F;var j=c.B;R=jc(),Zt(R,new Ab(R,S)),Kc(c)}else nx(c);else if(j=m.s,j==3||j==0&&0<m.X||!(R==1&&qM(c,m)||R==2&&Am(c)))switch(S&&0<S.length&&(m=c.h,m.i=m.i.concat(S)),j){case 1:io(c,5);break;case 4:io(c,10);break;case 3:io(c,6);break;default:io(c,2)}}}function ox(c,m){let S=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(S*=2),S*m}function io(c,m){if(c.j.info("Error code "+m),m==2){var S=d(c.fb,c),R=c.Xa;const j=!R;R=new ro(R||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Fc(R,"https"),Bc(R),j?VM(R.toString(),S):FM(R.toString(),S)}else en(2);c.G=0,c.l&&c.l.sa(m),ax(c),Zb(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function ax(c){if(c.G=0,c.ka=[],c.l){const m=$b(c.h);(m.length!=0||c.i.length!=0)&&(w(c.ka,m),w(c.ka,c.i),c.h.i.length=0,g(c.i),c.i.length=0),c.l.ra()}}function sx(c,m,S){var R=S instanceof ro?Pr(S):new ro(S);if(R.g!="")m&&(R.g=m+"."+R.g),Uc(R,R.s);else{var j=s.location;R=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var F=new ro(null);R&&Fc(F,R),m&&(F.g=m),j&&Uc(F,j),S&&(F.l=S),R=F}return S=c.D,m=c.ya,S&&m&&We(R,S,m),We(R,"VER",c.la),al(c,R),R}function lx(c,m,S){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new ot(new zc({eb:S})):new ot(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ux(){}t=ux.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xc(){}Xc.prototype.g=function(c,m){return new gn(c,m)};function gn(c,m){Ft.call(this),this.g=new Jb(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!_(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!_(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new na(this)}v(gn,Ft),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Tm(this.g)},gn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var S={};S.__data__=c,c=S}else this.u&&(S={},S.__data__=dm(c),c=S);m.i.push(new OM(m.Ya++,c)),m.G==3&&Kc(m)},gn.prototype.N=function(){this.g.l=null,delete this.j,Tm(this.g),delete this.g,gn.aa.N.call(this)};function cx(c){mm.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const S in m){c=S;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}v(cx,mm);function fx(){gm.call(this),this.status=1}v(fx,gm);function na(c){this.g=c}v(na,ux),na.prototype.ua=function(){Zt(this.g,"a")},na.prototype.ta=function(c){Zt(this.g,new cx(c))},na.prototype.sa=function(c){Zt(this.g,new fx)},na.prototype.ra=function(){Zt(this.g,"b")},Xc.prototype.createWebChannel=Xc.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,DC=function(){return new Xc},MC=function(){return jc()},NC=to,Bv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$c.NO_ERROR=0,$c.TIMEOUT=8,$c.HTTP_ERROR=6,Qf=$c,Pb.COMPLETE="complete",RC=Pb,xb.EventType=Xs,Xs.OPEN="a",Xs.CLOSE="b",Xs.ERROR="c",Xs.MESSAGE="d",Ft.prototype.listen=Ft.prototype.K,Rl=xb,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,kC=ot}).apply(typeof vf<"u"?vf:typeof self<"u"?self:typeof window<"u"?window:{});const QE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ks="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new x_("@firebase/firestore");function ml(){return jo.logLevel}function se(t,...e){if(jo.logLevel<=be.DEBUG){const n=e.map(M_);jo.debug(`Firestore (${ks}): ${t}`,...n)}}function Yr(t,...e){if(jo.logLevel<=be.ERROR){const n=e.map(M_);jo.error(`Firestore (${ks}): ${t}`,...n)}}function Ja(t,...e){if(jo.logLevel<=be.WARN){const n=e.map(M_);jo.warn(`Firestore (${ks}): ${t}`,...n)}}function M_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t="Unexpected state"){const e=`FIRESTORE (${ks}) INTERNAL ASSERTION FAILED: `+t;throw Yr(e),new Error(e)}function De(t,e){t||pe()}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class OF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CF{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){De(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ur,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ur)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new jC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new Kt(e)}}class kF{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class RF{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new kF(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){De(this.o===void 0);const r=o=>{o.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,se("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new NF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=DF(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Pe(t,e){return t<e?-1:t>e?1:0}function Za(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new wt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new wt(0,0))}static max(){return new ge(new wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(),r===void 0?r=e.length-n:r>e.length-n&&pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return bu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ye extends bu{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const jF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends bu{construct(e,n,r){return new Nt(e,n,r)}static isValidIdentifier(e){return jF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ue(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new ue(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ue(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new ue(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(n)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Ye.fromString(e))}static fromName(e){return new fe(Ye.fromString(e).popFirst(5))}static empty(){return new fe(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Ye(e.slice()))}}function $F(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new wt(n+1,0):new wt(n,r));return new Ui(i,fe.empty(),e)}function LF(t){return new Ui(t.readTime,t.key,-1)}class Ui{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ui(ge.min(),fe.empty(),-1)}static max(){return new Ui(ge.max(),fe.empty(),-1)}}function VF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==FF)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(i=>i?Q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(f=>{a[u]=f,++s,s===o&&r(a)},f=>i(f))}})}static doWhile(e,n){return new Q((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function BF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}D_.oe=-1;function ap(t){return t==null}function Mh(t){return t===0&&1/t==-1/0}function zF(t){return typeof t=="number"&&Number.isInteger(t)&&!Mh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yf(this.root,e,this.comparator,!1)}getReverseIterator(){return new yf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yf(this.root,e,this.comparator,!0)}}class yf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=i??Rt.EMPTY,this.right=o??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Rt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ZE(this.data.getIterator())}getIteratorFrom(e){return new ZE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class ZE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new xn([])}unionWith(e){let n=new jt(Nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new VC("Invalid base64 string: "+o):o}}(e);return new Lt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const WF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(t){if(De(!!t),typeof t=="string"){let e=0;const n=WF.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $o(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $_(t){const e=t.mapValue.fields.__previous_value__;return j_(e)?$_(e):e}function xu(t){const e=Bi(t.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n,r,i,o,a,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Eu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f={mapValue:{}};function Lo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?j_(t)?4:KF(t)?9007199254740991:qF(t)?10:11:pe()}function _r(t,e){if(t===e)return!0;const n=Lo(t);if(n!==Lo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xu(t).isEqual(xu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Bi(i.timestampValue),s=Bi(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return $o(i.bytesValue).isEqual($o(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return lt(i.geoPointValue.latitude)===lt(o.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return lt(i.integerValue)===lt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=lt(i.doubleValue),s=lt(o.doubleValue);return a===s?Mh(a)===Mh(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return Za(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(JE(a)!==JE(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!_r(a[l],s[l])))return!1;return!0}(t,e);default:return pe()}}function Su(t,e){return(t.values||[]).find(n=>_r(n,e))!==void 0}function es(t,e){if(t===e)return 0;const n=Lo(t),r=Lo(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=lt(o.integerValue||o.doubleValue),l=lt(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return eS(t.timestampValue,e.timestampValue);case 4:return eS(xu(t),xu(e));case 5:return Pe(t.stringValue,e.stringValue);case 6:return function(o,a){const s=$o(o),l=$o(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const f=Pe(s[u],l[u]);if(f!==0)return f}return Pe(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=Pe(lt(o.latitude),lt(a.latitude));return s!==0?s:Pe(lt(o.longitude),lt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return tS(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,f;const h=o.fields||{},d=a.fields||{},p=(s=h.value)===null||s===void 0?void 0:s.arrayValue,v=(l=d.value)===null||l===void 0?void 0:l.arrayValue,g=Pe(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((f=v==null?void 0:v.values)===null||f===void 0?void 0:f.length)||0);return g!==0?g:tS(p,v)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===_f.mapValue&&a===_f.mapValue)return 0;if(o===_f.mapValue)return 1;if(a===_f.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let h=0;h<l.length&&h<f.length;++h){const d=Pe(l[h],f[h]);if(d!==0)return d;const p=es(s[l[h]],u[f[h]]);if(p!==0)return p}return Pe(l.length,f.length)}(t.mapValue,e.mapValue);default:throw pe()}}function eS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=Bi(t),r=Bi(e),i=Pe(n.seconds,r.seconds);return i!==0?i:Pe(n.nanos,r.nanos)}function tS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=es(n[i],r[i]);if(o)return o}return Pe(n.length,r.length)}function ts(t){return zv(t)}function zv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Bi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $o(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=zv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${zv(n.fields[a])}`;return i+"}"}(t.mapValue):pe()}function Wv(t){return!!t&&"integerValue"in t}function L_(t){return!!t&&"arrayValue"in t}function nS(t){return!!t&&"nullValue"in t}function rS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jf(t){return!!t&&"mapValue"in t}function qF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Kl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Kl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=Nt.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=Kl(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Jf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Jf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){qo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new ln(Kl(this.value))}}function FC(t){const e=[];return qo(t.fields,(n,r)=>{const i=new Nt([n]);if(Jf(r)){const o=FC(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new Xt(e,0,ge.min(),ge.min(),ge.min(),ln.empty(),0)}static newFoundDocument(e,n,r,i){return new Xt(e,1,n,ge.min(),r,i,0)}static newNoDocument(e,n){return new Xt(e,2,n,ge.min(),ge.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,ge.min(),ge.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.position=e,this.inclusive=n}}function iS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=fe.comparator(fe.fromName(a.referenceValue),n.key):r=es(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function oS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n="asc"){this.field=e,this.dir=n}}function GF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{}class vt extends UC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new YF(e,n,r):n==="array-contains"?new ZF(e,r):n==="in"?new eU(e,r):n==="not-in"?new tU(e,r):n==="array-contains-any"?new nU(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new QF(e,r):new JF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(es(n,this.value)):n!==null&&Lo(this.value)===Lo(n)&&this.matchesComparison(es(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends UC{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new wr(e,n)}matches(e){return BC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function BC(t){return t.op==="and"}function zC(t){return XF(t)&&BC(t)}function XF(t){for(const e of t.filters)if(e instanceof wr)return!1;return!0}function Hv(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+ts(t.value);if(zC(t))return t.filters.map(e=>Hv(e)).join(",");{const e=t.filters.map(n=>Hv(n)).join(",");return`${t.op}(${e})`}}function WC(t,e){return t instanceof vt?function(r,i){return i instanceof vt&&r.op===i.op&&r.field.isEqual(i.field)&&_r(r.value,i.value)}(t,e):t instanceof wr?function(r,i){return i instanceof wr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&WC(a,i.filters[s]),!0):!1}(t,e):void pe()}function HC(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${ts(n.value)}`}(t):t instanceof wr?function(n){return n.op.toString()+" {"+n.getFilters().map(HC).join(" ,")+"}"}(t):"Filter"}class YF extends vt{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class QF extends vt{constructor(e,n){super(e,"in",n),this.keys=qC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class JF extends vt{constructor(e,n){super(e,"not-in",n),this.keys=qC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class ZF extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return L_(n)&&Su(n.arrayValue,this.value)}}class eU extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Su(this.value.arrayValue,n)}}class tU extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Su(this.value.arrayValue,n)}}class nU extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!L_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Su(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function aS(t,e=null,n=[],r=[],i=null,o=null,a=null){return new rU(t,e,n,r,i,o,a)}function V_(t){const e=ve(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Hv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ap(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ts(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ts(r)).join(",")),e.ue=n}return e.ue}function F_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!oS(t.startAt,e.startAt)&&oS(t.endAt,e.endAt)}function qv(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function iU(t,e,n,r,i,o,a,s){return new sp(t,e,n,r,i,o,a,s)}function U_(t){return new sp(t)}function sS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oU(t){return t.collectionGroup!==null}function Gl(t){const e=ve(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new jt(Nt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new jh(o,r))}),n.has(Nt.keyField().canonicalString())||e.ce.push(new jh(Nt.keyField(),r))}return e.ce}function mr(t){const e=ve(t);return e.le||(e.le=aU(e,Gl(t))),e.le}function aU(t,e){if(t.limitType==="F")return aS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new jh(i.field,o)});const n=t.endAt?new Dh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Dh(t.startAt.position,t.startAt.inclusive):null;return aS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Kv(t,e,n){return new sp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lp(t,e){return F_(mr(t),mr(e))&&t.limitType===e.limitType}function KC(t){return`${V_(mr(t))}|lt:${t.limitType}`}function ua(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>HC(i)).join(", ")}]`),ap(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ts(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ts(i)).join(",")),`Target(${r})`}(mr(t))}; limitType=${t.limitType})`}function up(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):fe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Gl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=iS(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,Gl(r),i)||r.endAt&&!function(a,s,l){const u=iS(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,Gl(r),i))}(t,e)}function sU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GC(t){return(e,n)=>{let r=!1;for(const i of Gl(t)){const o=lU(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function lU(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?es(l,u):pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return LC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=new rt(fe.comparator);function Qr(){return uU}const XC=new rt(fe.comparator);function Nl(...t){let e=XC;for(const n of t)e=e.insert(n.key,n);return e}function YC(t){let e=XC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function go(){return Xl()}function QC(){return Xl()}function Xl(){return new Rs(t=>t.toString(),(t,e)=>t.isEqual(e))}const cU=new rt(fe.comparator),fU=new jt(fe.comparator);function we(...t){let e=fU;for(const n of t)e=e.add(n);return e}const hU=new jt(Pe);function dU(){return hU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function JC(t){return{integerValue:""+t}}function pU(t,e){return zF(e)?JC(e):B_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(){this._=void 0}}function mU(t,e,n){return t instanceof $h?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&j_(o)&&(o=$_(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof Tu?ek(t,e):t instanceof Au?tk(t,e):function(i,o){const a=ZC(i,o),s=lS(a)+lS(i.Pe);return Wv(a)&&Wv(i.Pe)?JC(s):B_(i.serializer,s)}(t,e)}function gU(t,e,n){return t instanceof Tu?ek(t,e):t instanceof Au?tk(t,e):n}function ZC(t,e){return t instanceof Lh?function(r){return Wv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class $h extends cp{}class Tu extends cp{constructor(e){super(),this.elements=e}}function ek(t,e){const n=nk(e);for(const r of t.elements)n.some(i=>_r(i,r))||n.push(r);return{arrayValue:{values:n}}}class Au extends cp{constructor(e){super(),this.elements=e}}function tk(t,e){let n=nk(e);for(const r of t.elements)n=n.filter(i=>!_r(i,r));return{arrayValue:{values:n}}}class Lh extends cp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function lS(t){return lt(t.integerValue||t.doubleValue)}function nk(t){return L_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function vU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Tu&&i instanceof Tu||r instanceof Au&&i instanceof Au?Za(r.elements,i.elements,_r):r instanceof Lh&&i instanceof Lh?_r(r.Pe,i.Pe):r instanceof $h&&i instanceof $h}(t.transform,e.transform)}class yU{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fp{}function rk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new z_(t.key,Jn.none()):new xc(t.key,t.data,Jn.none());{const n=t.data,r=ln.empty();let i=new jt(Nt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Xi(t.key,r,new xn(i.toArray()),Jn.none())}}function _U(t,e,n){t instanceof xc?function(i,o,a){const s=i.value.clone(),l=cS(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Xi?function(i,o,a){if(!Zf(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=cS(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(ik(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Yl(t,e,n,r){return t instanceof xc?function(o,a,s,l){if(!Zf(o.precondition,a))return s;const u=o.value.clone(),f=fS(o.fieldTransforms,l,a);return u.setAll(f),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xi?function(o,a,s,l){if(!Zf(o.precondition,a))return s;const u=fS(o.fieldTransforms,l,a),f=a.data;return f.setAll(ik(o)),f.setAll(u),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,a,s){return Zf(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function wU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=ZC(r.transform,i||null);o!=null&&(n===null&&(n=ln.empty()),n.set(r.field,o))}return n||null}function uS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Za(r,i,(o,a)=>vU(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xc extends fp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xi extends fp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ik(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function cS(t,e,n){const r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,gU(a,s,n[i]))}return r}function fS(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,mU(o,a,e))}return r}class z_ extends fp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bU extends fp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&_U(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=QC();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=rk(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,(n,r)=>uS(n,r))&&Za(this.baseMutations,e.baseMutations,(n,r)=>uS(n,r))}}class W_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length);let i=function(){return cU}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new W_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Se;function TU(t){switch(t){default:return pe();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function ok(t){if(t===void 0)return Yr("GRPC error has no .code"),Y.UNKNOWN;switch(t){case ct.OK:return Y.OK;case ct.CANCELLED:return Y.CANCELLED;case ct.UNKNOWN:return Y.UNKNOWN;case ct.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case ct.INTERNAL:return Y.INTERNAL;case ct.UNAVAILABLE:return Y.UNAVAILABLE;case ct.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case ct.NOT_FOUND:return Y.NOT_FOUND;case ct.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case ct.ABORTED:return Y.ABORTED;case ct.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case ct.DATA_LOSS:return Y.DATA_LOSS;default:return pe()}}(Se=ct||(ct={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=new Eo([4294967295,4294967295],0);function hS(t){const e=AU().encode(t),n=new CC;return n.update(e),new Uint8Array(n.digest())}function dS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Eo([n,r],0),new Eo([i,o],0)]}class H_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(r<0)throw new Ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Eo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Eo.fromNumber(r)));return i.compare(PU)===1&&(i=new Eo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=hS(e),[r,i]=dS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new H_(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=hS(e),[r,i]=dS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ec.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hp(ge.min(),i,new rt(Pe),Qr(),we())}}class Ec{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ec(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class ak{constructor(e,n){this.targetId=e,this.me=n}}class sk{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class pS{constructor(){this.fe=0,this.ge=gS(),this.pe=Lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=we(),n=we(),r=we();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pe()}}),new Ec(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=gS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,De(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class IU{constructor(e){this.Le=e,this.Be=new Map,this.ke=Qr(),this.qe=mS(),this.Qe=new rt(Pe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(qv(o))if(r===0){const a=new fe(o.path);this.Ue(n,a,Xt.newNoDocument(a,ge.min()))}else De(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),l=s?this.Xe(s,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=$o(r).toUint8Array()}catch(l){if(l instanceof VC)return Ja("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new H_(a,i,o)}catch(l){return Ja(l instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&qv(s.target)){const l=new fe(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,Xt.newNoDocument(l,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=we();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new hp(e,n,this.Qe,this.ke,r);return this.ke=Qr(),this.qe=mS(),this.Qe=new rt(Pe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new pS,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new jt(Pe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new pS),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function mS(){return new rt(fe.comparator)}function gS(){return new rt(fe.comparator)}const OU={asc:"ASCENDING",desc:"DESCENDING"},CU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kU={and:"AND",or:"OR"};class RU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gv(t,e){return t.useProto3Json||ap(e)?e:{value:e}}function Vh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NU(t,e){return Vh(t,e.toTimestamp())}function gr(t){return De(!!t),ge.fromTimestamp(function(n){const r=Bi(n);return new wt(r.seconds,r.nanos)}(t))}function q_(t,e){return Xv(t,e).canonicalString()}function Xv(t,e){const n=function(i){return new Ye(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uk(t){const e=Ye.fromString(t);return De(pk(e)),e}function Yv(t,e){return q_(t.databaseId,e.path)}function lg(t,e){const n=uk(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(fk(n))}function ck(t,e){return q_(t.databaseId,e)}function MU(t){const e=uk(t);return e.length===4?Ye.emptyPath():fk(e)}function Qv(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fk(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function vS(t,e,n){return{name:Yv(t,e),fields:n.value.mapValue.fields}}function DU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,f){return u.useProto3Json?(De(f===void 0||typeof f=="string"),Lt.fromBase64String(f||"")):(De(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Lt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const f=u.code===void 0?Y.UNKNOWN:ok(u.code);return new ue(f,u.message||"")}(a);n=new sk(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=lg(t,r.document.name),o=gr(r.document.updateTime),a=r.document.createTime?gr(r.document.createTime):ge.min(),s=new ln({mapValue:{fields:r.document.fields}}),l=Xt.newFoundDocument(i,o,a,s),u=r.targetIds||[],f=r.removedTargetIds||[];n=new eh(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=lg(t,r.document),o=r.readTime?gr(r.readTime):ge.min(),a=Xt.newNoDocument(i,o),s=r.removedTargetIds||[];n=new eh([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=lg(t,r.document),o=r.removedTargetIds||[];n=new eh([],o,i,null)}else{if(!("filter"in e))return pe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new SU(i,o),s=r.targetId;n=new ak(s,a)}}return n}function jU(t,e){let n;if(e instanceof xc)n={update:vS(t,e.key,e.value)};else if(e instanceof z_)n={delete:Yv(t,e.key)};else if(e instanceof Xi)n={update:vS(t,e.key,e.data),updateMask:HU(e.fieldMask)};else{if(!(e instanceof bU))return pe();n={verify:Yv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof $h)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Tu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Au)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Lh)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:NU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:pe()}(t,e.precondition)),n}function $U(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?gr(i.updateTime):gr(o);return a.isEqual(ge.min())&&(a=gr(o)),new yU(a,i.transformResults||[])}(n,e))):[]}function LU(t,e){return{documents:[ck(t,e.path)]}}function VU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ck(t,i);const o=function(u){if(u.length!==0)return dk(wr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(f=>function(d){return{field:ca(d.field),direction:BU(d.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Gv(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function FU(t){let e=MU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){De(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(h){const d=hk(h);return d instanceof wr&&zC(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(d=>function(v){return new jh(fa(v.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(d))}(n.orderBy));let s=null;n.limit&&(s=function(h){let d;return d=typeof h=="object"?h.value:h,ap(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,p=h.values||[];return new Dh(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,p=h.values||[];return new Dh(p,d)}(n.endAt)),iU(e,i,a,o,s,"F",l,u)}function UU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fa(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fa(n.unaryFilter.field);return vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fa(n.unaryFilter.field);return vt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=fa(n.unaryFilter.field);return vt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(t):t.fieldFilter!==void 0?function(n){return vt.create(fa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wr.create(n.compositeFilter.filters.map(r=>hk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pe()}}(n.compositeFilter.op))}(t):pe()}function BU(t){return OU[t]}function zU(t){return CU[t]}function WU(t){return kU[t]}function ca(t){return{fieldPath:t.canonicalString()}}function fa(t){return Nt.fromServerFormat(t.fieldPath)}function dk(t){return t instanceof vt?function(n){if(n.op==="=="){if(rS(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NAN"}};if(nS(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rS(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NOT_NAN"}};if(nS(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ca(n.field),op:zU(n.op),value:n.value}}}(t):t instanceof wr?function(n){const r=n.getFilters().map(i=>dk(i));return r.length===1?r[0]:{compositeFilter:{op:WU(n.op),filters:r}}}(t):pe()}function HU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n,r,i,o=ge.min(),a=ge.min(),s=Lt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.ct=e}}function KU(t){const e=FU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(){this.un=new XU}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Ui.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Ui.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class XU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new jt(Ye.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new jt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ns(0)}static kn(){return new ns(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(){this.changes=new Rs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Yl(r.mutation,i,xn.empty(),wt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const i=go();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=Nl();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=go();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=Qr();const a=Xl(),s=function(){return Xl()}();return n.forEach((l,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Xi)?o=o.insert(u.key,u):f!==void 0?(a.set(u.key,f.mutation.getFieldMask()),Yl(f.mutation,u,f.mutation.getFieldMask(),wt.now())):a.set(u.key,xn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,f)=>a.set(u,f)),n.forEach((u,f)=>{var h;return s.set(u,new QU(f,(h=a.get(u))!==null&&h!==void 0?h:null))}),s))}recalculateAndSaveOverlays(e,n){const r=Xl();let i=new rt((a,s)=>a-s),o=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||xn.empty();f=s.applyToLocalView(u,f),r.set(l,f);const h=(i.get(s.batchId)||we()).add(l);i=i.insert(s.batchId,h)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,f=l.value,h=QC();f.forEach(d=>{if(!o.has(d)){const p=rk(n.get(d),r.get(d));p!==null&&h.set(d,p),o=o.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return Q.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return fe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oU(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Q.resolve(go());let s=-1,l=o;return a.next(u=>Q.forEach(u,(f,h)=>(s<h.largestBatchId&&(s=h.largestBatchId),o.get(f)?Q.resolve():this.remoteDocumentCache.getEntry(e,f).next(d=>{l=l.insert(f,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,we())).next(f=>({batchId:s,changes:YC(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let i=Nl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=Nl();return this.indexManager.getCollectionParents(e,o).next(s=>Q.forEach(s,l=>{const u=function(h,d){return new sp(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((h,d)=>{a=a.insert(h,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const f=u.getKey();a.get(f)===null&&(a=a.insert(f,Xt.newInvalidDocument(f)))});let s=Nl();return a.forEach((l,u)=>{const f=o.get(l);f!==void 0&&Yl(f.mutation,u,xn.empty(),wt.now()),up(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:gr(i.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:KU(i.bundledQuery),readTime:gr(i.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(){this.overlays=new rt(fe.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=go();return Q.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const i=go(),o=n.length+1,a=new fe(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new rt((u,f)=>u-f);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=o.get(u.largestBatchId);f===null&&(f=go(),o=o.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const s=go(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>s.set(u,f)),!(s.size()>=i)););return Q.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new EU(n,r));let o=this.Ir.get(n);o===void 0&&(o=we(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.Tr=new jt(xt.Er),this.dr=new jt(xt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new xt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new xt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new fe(new Ye([])),r=new xt(n,e),i=new xt(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new fe(new Ye([])),r=new xt(n,e),i=new xt(n,e+1);let o=we();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new xt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return fe.comparator(e.key,n.key)||Pe(e.wr,n.wr)}static Ar(e,n){return Pe(e.wr,n.wr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new jt(xt.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new xU(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new xt(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Q.resolve(a)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xt(n,0),i=new xt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),Q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new jt(Pe);return n.forEach(i=>{const o=new xt(i,0),a=new xt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;fe.isDocumentKey(o)||(o=o.child(""));const a=new xt(new fe(o),0);let s=new jt(Pe);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),Q.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,i=>{const o=new xt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new xt(n,0),i=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e){this.Mr=e,this.docs=function(){return new rt(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let r=Qr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Xt.newInvalidDocument(i))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Qr();const a=n.path,s=new fe(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||VF(LF(f),r)<=0||(i.has(f.key)||up(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return Q.resolve(o)}getAllFromCollectionGroup(e,n,r,i){pe()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new iB(this)}getSize(e){return Q.resolve(this.size)}}class iB extends YU{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e){this.persistence=e,this.Nr=new Rs(n=>V_(n),F_),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Lr=0,this.Br=new K_,this.targetCount=0,this.kr=ns.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ns(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Q.waitFor(o).next(()=>i)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),Q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e,n){this.qr={},this.overlays={},this.Qr=new D_(0),this.Kr=!1,this.Kr=!0,this.$r=new tB,this.referenceDelegate=e(this),this.Ur=new oB(this),this.indexManager=new GU,this.remoteDocumentCache=function(i){return new rB(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new qU(n),this.Gr=new ZU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new nB(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const i=new sB(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class sB extends UF{constructor(e){super(),this.currentSequenceNumber=e}}class G_{constructor(e){this.persistence=e,this.Jr=new K_,this.Yr=null}static Zr(e){return new G_(e)}get Xr(){if(this.Yr)return this.Yr;throw pe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const i=fe.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ge.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=we(),i=we();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new X_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return X$()?8:BF(Jt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new lB;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ml()<=be.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(ml()<=be.DEBUG&&se("QueryEngine","Query:",ua(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ml()<=be.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(n))):Q.resolve())}Yi(e,n){if(sS(n))return Q.resolve(null);let r=mr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Kv(n,null,"F"),r=mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=we(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(e,Kv(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return sS(n)||i.isEqual(ge.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?Q.resolve(null):(ml()<=be.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ua(n)),this.rs(e,a,n,$F(i,-1)).next(s=>s))})}ts(e,n){let r=new jt(GC(e));return n.forEach((i,o)=>{up(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return ml()<=be.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",ua(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ui.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new rt(Pe),this._s=new Rs(o=>V_(o),F_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JU(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function fB(t,e,n,r){return new cB(t,e,n,r)}async function mk(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=we();for(const u of i){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of o){s.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function hB(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,f){const h=u.batch,d=h.keys();let p=Q.resolve();return d.forEach(v=>{p=p.next(()=>f.getEntry(l,v)).next(g=>{const w=u.docVersions.get(v);De(w!==null),g.version.compareTo(w)<0&&(h.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),f.addEntry(g)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=we();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function gk(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function dB(t,e){const n=ve(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((f,h)=>{const d=i.get(h);if(!d)return;s.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,h)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Lt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):f.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(f.resumeToken,r)),i=i.insert(h,p),function(g,w,y){return g.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(d,p,f)&&s.push(n.Ur.updateTargetData(o,p))});let l=Qr(),u=we();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),s.push(pB(o,a,e.documentUpdates).next(f=>{l=f.Ps,u=f.Is})),!r.isEqual(ge.min())){const f=n.Ur.getLastRemoteSnapshotVersion(o).next(h=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(f)}return Q.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function pB(t,e,n){let r=we(),i=we();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Qr();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):se("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function mB(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gB(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Q.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Si(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Jv(t,e,n){const r=ve(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!bc(a))throw a;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function yS(t,e,n){const r=ve(t);let i=ge.min(),o=we();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,f){const h=ve(l),d=h._s.get(f);return d!==void 0?Q.resolve(h.os.get(d)):h.Ur.getTargetData(u,f)}(r,a,mr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:ge.min(),n?o:we())).next(s=>(vB(r,sU(e),s),{documents:s,Ts:o})))}function vB(t,e,n){let r=t.us.get(e)||ge.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class _S{constructor(){this.activeTargetIds=dU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yB{constructor(){this.so=new _S,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _S,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wf=null;function ug(){return wf===null?wf=function(){return 268435456+Math.round(2147483648*Math.random())}():wf++,"0x"+wf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class xB extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=ug(),l=this.xo(n,r.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(f=>(se("RestConnection",`Received RPC '${n}' ${s}: `,f),f),f=>{throw Ja("RestConnection",`RPC '${n}' ${s} failed with error: `,f,"url: ",l,"request:",i),f})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ks}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=wB[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=ug();return new Promise((a,s)=>{const l=new kC;l.setWithCredentials(!0),l.listenOnce(RC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Qf.NO_ERROR:const f=l.getResponseJson();se(Ht,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Qf.TIMEOUT:se(Ht,`RPC '${e}' ${o} timed out`),s(new ue(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Qf.HTTP_ERROR:const h=l.getStatus();if(se(Ht,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const v=function(w){const y=w.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(y)>=0?y:Y.UNKNOWN}(p.status);s(new ue(v,p.message))}else s(new ue(Y.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new ue(Y.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{se(Ht,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);se(Ht,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=ug(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=DC(),s=MC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=o.join("");se(Ht,`Creating RPC '${e}' stream ${i}: ${f}`,l);const h=a.createWebChannel(f,l);let d=!1,p=!1;const v=new bB({Io:w=>{p?se(Ht,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(d||(se(Ht,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),se(Ht,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},To:()=>h.close()}),g=(w,y,_)=>{w.listen(y,b=>{try{_(b)}catch(I){setTimeout(()=>{throw I},0)}})};return g(h,Rl.EventType.OPEN,()=>{p||(se(Ht,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),g(h,Rl.EventType.CLOSE,()=>{p||(p=!0,se(Ht,`RPC '${e}' stream ${i} transport closed`),v.So())}),g(h,Rl.EventType.ERROR,w=>{p||(p=!0,Ja(Ht,`RPC '${e}' stream ${i} transport errored:`,w),v.So(new ue(Y.UNAVAILABLE,"The operation could not be completed")))}),g(h,Rl.EventType.MESSAGE,w=>{var y;if(!p){const _=w.data[0];De(!!_);const b=_,I=b.error||((y=b[0])===null||y===void 0?void 0:y.error);if(I){se(Ht,`RPC '${e}' stream ${i} received error:`,I);const T=I.status;let A=function(P){const C=ct[P];if(C!==void 0)return ok(C)}(T),x=I.message;A===void 0&&(A=Y.INTERNAL,x="Unknown error status: "+T+" with message "+I.message),p=!0,v.So(new ue(A,x)),h.close()}else se(Ht,`RPC '${e}' stream ${i} received:`,_),v.bo(_)}}),g(s,NC.STAT_EVENT,w=>{w.stat===Bv.PROXY?se(Ht,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===Bv.NOPROXY&&se(Ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function cg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(t){return new RU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n,r,i,o,a,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new vk(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ue(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EB extends yk{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=DU(this.serializer,e),r=function(o){if(!("targetChange"in o))return ge.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?ge.min():a.readTime?gr(a.readTime):ge.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Qv(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=qv(l)?{documents:LU(o,l)}:{query:VU(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=lk(o,a.resumeToken);const u=Gv(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(ge.min())>0){s.readTime=Vh(o,a.snapshotVersion.toTimestamp());const u=Gv(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=UU(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Qv(this.serializer),n.removeTarget=e,this.a_(n)}}class SB extends yk{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return De(!!e.streamToken),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=$U(e.writeResults,e.commitTime),r=gr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Qv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>jU(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ue(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,Xv(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(Y.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,Xv(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ue(Y.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class AB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Yr(n),this.D_=!1):se("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{Ko(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ve(l);u.L_.add(4),await Sc(u),u.q_.set("Unknown"),u.L_.delete(4),await pp(u)}(this))})}),this.q_=new AB(r,i)}}async function pp(t){if(Ko(t))for(const e of t.B_)await e(!0)}async function Sc(t){for(const e of t.B_)await e(!1)}function _k(t,e){const n=ve(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Z_(n)?J_(n):Ns(n).r_()&&Q_(n,e))}function Y_(t,e){const n=ve(t),r=Ns(n);n.N_.delete(e),r.r_()&&wk(n,e),n.N_.size===0&&(r.r_()?r.o_():Ko(n)&&n.q_.set("Unknown"))}function Q_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ns(t).A_(e)}function wk(t,e){t.Q_.xe(e),Ns(t).R_(e)}function J_(t){t.Q_=new IU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ns(t).start(),t.q_.v_()}function Z_(t){return Ko(t)&&!Ns(t).n_()&&t.N_.size>0}function Ko(t){return ve(t).L_.size===0}function bk(t){t.Q_=void 0}async function IB(t){t.q_.set("Online")}async function OB(t){t.N_.forEach((e,n)=>{Q_(t,e)})}async function CB(t,e){bk(t),Z_(t)?(t.q_.M_(e),J_(t)):t.q_.set("Unknown")}async function kB(t,e,n){if(t.q_.set("Online"),e instanceof sk&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fh(t,r)}else if(e instanceof eh?t.Q_.Ke(e):e instanceof ak?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ge.min()))try{const r=await gk(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=o.N_.get(u);f&&o.N_.set(u,f.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const f=o.N_.get(l);if(!f)return;o.N_.set(l,f.withResumeToken(Lt.EMPTY_BYTE_STRING,f.snapshotVersion)),wk(o,l);const h=new Si(f.target,l,u,f.sequenceNumber);Q_(o,h)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){se("RemoteStore","Failed to raise snapshot:",r),await Fh(t,r)}}async function Fh(t,e,n){if(!bc(e))throw e;t.L_.add(1),await Sc(t),t.q_.set("Offline"),n||(n=()=>gk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await pp(t)})}function xk(t,e){return e().catch(n=>Fh(t,n,e))}async function mp(t){const e=ve(t),n=zi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;RB(e);)try{const i=await mB(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,NB(e,i)}catch(i){await Fh(e,i)}Ek(e)&&Sk(e)}function RB(t){return Ko(t)&&t.O_.length<10}function NB(t,e){t.O_.push(e);const n=zi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Ek(t){return Ko(t)&&!zi(t).n_()&&t.O_.length>0}function Sk(t){zi(t).start()}async function MB(t){zi(t).p_()}async function DB(t){const e=zi(t);for(const n of t.O_)e.m_(n.mutations)}async function jB(t,e,n){const r=t.O_.shift(),i=W_.from(r,e,n);await xk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await mp(t)}async function $B(t,e){e&&zi(t).V_&&await async function(r,i){if(function(a){return TU(a)&&a!==Y.ABORTED}(i.code)){const o=r.O_.shift();zi(r).s_(),await xk(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await mp(r)}}(t,e),Ek(t)&&Sk(t)}async function bS(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=Ko(n);n.L_.add(3),await Sc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await pp(n)}async function LB(t,e){const n=ve(t);e?(n.L_.delete(2),await pp(n)):e||(n.L_.add(2),await Sc(n),n.q_.set("Unknown"))}function Ns(t){return t.K_||(t.K_=function(n,r,i){const o=ve(n);return o.w_(),new EB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:IB.bind(null,t),Ro:OB.bind(null,t),mo:CB.bind(null,t),d_:kB.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Z_(t)?J_(t):t.q_.set("Unknown")):(await t.K_.stop(),bk(t))})),t.K_}function zi(t){return t.U_||(t.U_=function(n,r,i){const o=ve(n);return o.w_(),new SB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:MB.bind(null,t),mo:$B.bind(null,t),f_:DB.bind(null,t),g_:jB.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await mp(t)):(await t.U_.stop(),t.O_.length>0&&(se("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new ew(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tw(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),bc(t))return new ue(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=Nl(),this.sortedSet=new rt(this.comparator)}static emptySet(e){return new La(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof La)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new La;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.W_=new rt(fe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):pe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class rs{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new rs(e,n,La.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class FB{constructor(){this.queries=ES(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ve(n),o=i.queries;i.queries=ES(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new ue(Y.ABORTED,"Firestore shutting down"))}}function ES(){return new Rs(t=>KC(t),lp)}async function Tk(t,e){const n=ve(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new VB,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=tw(a,`Initialization of query '${ua(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&nw(n)}async function Ak(t,e){const n=ve(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function UB(t,e){const n=ve(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&nw(n)}function BB(t,e,n){const r=ve(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function nw(t){t.Y_.forEach(e=>{e.next()})}var Zv,SS;(SS=Zv||(Zv={})).ea="default",SS.Cache="cache";class Pk{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new rs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=rs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Zv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.key=e}}class Ok{constructor(e){this.key=e}}class zB{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=we(),this.mutatedKeys=we(),this.Aa=GC(e),this.Ra=new La(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new xS,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const d=i.get(f),p=up(this.query,h)?h:null,v=!!d&&this.mutatedKeys.has(d.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;d&&p?d.data.isEqual(p.data)?v!==g&&(r.track({type:3,doc:p}),w=!0):this.ga(d,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!d&&p?(r.track({type:0,doc:p}),w=!0):d&&!p&&(r.track({type:1,doc:d}),w=!0,(l||u)&&(s=!0)),w&&(p?(a=a.add(p),o=g?o.add(f):o.delete(f)):(a=a.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((f,h)=>function(p,v){const g=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return g(p)-g(v)}(f.type,h.type)||this.Aa(f.doc,h.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new rs(this.query,e.Ra,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new xS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=we(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Ok(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Ik(r))}),n}ba(e){this.Ta=e.Ts,this.da=we();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return rs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class WB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HB{constructor(e){this.key=e,this.va=!1}}class qB{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Rs(s=>KC(s),lp),this.Ma=new Map,this.xa=new Set,this.Oa=new rt(fe.comparator),this.Na=new Map,this.La=new K_,this.Ba={},this.ka=new Map,this.qa=ns.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function KB(t,e,n=!0){const r=Dk(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await Ck(r,e,n,!0),i}async function GB(t,e){const n=Dk(t);await Ck(n,e,!0,!1)}async function Ck(t,e,n,r){const i=await gB(t.localStore,mr(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await XB(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&_k(t.remoteStore,i),s}async function XB(t,e,n,r,i){t.Ka=(h,d,p)=>async function(g,w,y,_){let b=w.view.ma(y);b.ns&&(b=await yS(g.localStore,w.query,!1).then(({documents:x})=>w.view.ma(x,b)));const I=_&&_.targetChanges.get(w.targetId),T=_&&_.targetMismatches.get(w.targetId)!=null,A=w.view.applyChanges(b,g.isPrimaryClient,I,T);return AS(g,w.targetId,A.wa),A.snapshot}(t,h,d,p);const o=await yS(t.localStore,e,!0),a=new zB(e,o.Ts),s=a.ma(o.documents),l=Ec.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);AS(t,n,u.wa);const f=new WB(e,n,a);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function YB(t,e,n){const r=ve(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!lp(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Jv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Y_(r.remoteStore,i.targetId),ey(r,i.targetId)}).catch(wc)):(ey(r,i.targetId),await Jv(r.localStore,i.targetId,!0))}async function QB(t,e){const n=ve(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Y_(n.remoteStore,r.targetId))}async function JB(t,e,n){const r=o3(t);try{const i=await function(a,s){const l=ve(a),u=wt.now(),f=s.reduce((p,v)=>p.add(v.key),we());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=Qr(),g=we();return l.cs.getEntries(p,f).next(w=>{v=w,v.forEach((y,_)=>{_.isValidDocument()||(g=g.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(w=>{h=w;const y=[];for(const _ of s){const b=wU(_,h.get(_.key).overlayedDocument);b!=null&&y.push(new Xi(_.key,b,FC(b.value.mapValue),Jn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,y,s)}).next(w=>{d=w;const y=w.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(p,w.batchId,y)})}).then(()=>({batchId:d.batchId,changes:YC(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new rt(Pe)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await Tc(r,i.changes),await mp(r.remoteStore)}catch(i){const o=tw(i,"Failed to persist write");n.reject(o)}}async function kk(t,e){const n=ve(t);try{const r=await dB(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?De(a.va):i.removedDocuments.size>0&&(De(a.va),a.va=!1))}),await Tc(n,r,e)}catch(r){await wc(r)}}function TS(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=ve(a);l.onlineState=s;let u=!1;l.queries.forEach((f,h)=>{for(const d of h.j_)d.Z_(s)&&(u=!0)}),u&&nw(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZB(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new rt(fe.comparator);a=a.insert(o,Xt.newNoDocument(o,ge.min()));const s=we().add(o),l=new hp(ge.min(),new Map,new rt(Pe),a,s);await kk(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),rw(r)}else await Jv(r.localStore,e,!1).then(()=>ey(r,e,n)).catch(wc)}async function e3(t,e){const n=ve(t),r=e.batch.batchId;try{const i=await hB(n.localStore,e);Nk(n,r,null),Rk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tc(n,i)}catch(i){await wc(i)}}async function t3(t,e,n){const r=ve(t);try{const i=await function(a,s){const l=ve(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,s).next(h=>(De(h!==null),f=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(r.localStore,e);Nk(r,e,n),Rk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tc(r,i)}catch(i){await wc(i)}}function Rk(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Nk(t,e,n){const r=ve(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ey(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Mk(t,r)})}function Mk(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Y_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),rw(t))}function AS(t,e,n){for(const r of n)r instanceof Ik?(t.La.addReference(r.key,e),n3(t,r)):r instanceof Ok?(se("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Mk(t,r.key)):pe()}function n3(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(se("SyncEngine","New document in limbo: "+n),t.xa.add(r),rw(t))}function rw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new fe(Ye.fromString(e)),r=t.qa.next();t.Na.set(r,new HB(n)),t.Oa=t.Oa.insert(n,r),_k(t.remoteStore,new Si(mr(U_(n.path)),r,"TargetPurposeLimboResolution",D_.oe))}}async function Tc(t,e,n){const r=ve(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=X_.Wi(l.targetId,u);o.push(h)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const f=ve(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Q.forEach(u,d=>Q.forEach(d.$i,p=>f.persistence.referenceDelegate.addReference(h,d.targetId,p)).next(()=>Q.forEach(d.Ui,p=>f.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))}catch(h){if(!bc(h))throw h;se("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const p=f.os.get(d),v=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(v);f.os=f.os.insert(d,g)}}}(r.localStore,o))}async function r3(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await mk(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new ue(Y.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tc(n,r.hs)}}function i3(t,e){const n=ve(t),r=n.Na.get(e);if(r&&r.va)return we().add(r.key);{let i=we();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function Dk(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZB.bind(null,e),e.Ca.d_=UB.bind(null,e.eventManager),e.Ca.$a=BB.bind(null,e.eventManager),e}function o3(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t3.bind(null,e),e}class Uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return fB(this.persistence,new uB,e.initialUser,this.serializer)}Ga(e){return new aB(G_.Zr,this.serializer)}Wa(e){return new yB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uh.provider={build:()=>new Uh};class ty{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=r3.bind(null,this.syncEngine),await LB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FB}()}createDatastore(e){const n=dp(e.databaseInfo.databaseId),r=function(o){return new xB(o)}(e.databaseInfo);return function(o,a,s,l){return new TB(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new PB(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>TS(this.syncEngine,n,0),function(){return wS.D()?new wS:new _B}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,f){const h=new qB(i,o,a,s,l,u);return f&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ve(i);se("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Sc(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ty.provider={build:()=>new ty};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Kt.UNAUTHENTICATED,this.clientId=$C.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{se("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(se("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=tw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fg(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await mk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function PS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await s3(t);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>bS(e.remoteStore,i)),t._onlineComponents=e}async function s3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await fg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ja("Error using user provided cache. Falling back to memory cache: "+n),await fg(t,new Uh)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await fg(t,new Uh);return t._offlineComponents}async function $k(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await PS(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await PS(t,new ty))),t._onlineComponents}function l3(t){return $k(t).then(e=>e.syncEngine)}async function Lk(t){const e=await $k(t),n=e.eventManager;return n.onListen=KB.bind(null,e.syncEngine),n.onUnlisten=YB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QB.bind(null,e.syncEngine),n}function u3(t,e,n={}){const r=new Ur;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const f=new jk({next:d=>{f.Za(),a.enqueueAndForget(()=>Ak(o,h));const p=d.docs.has(s);!p&&d.fromCache?u.reject(new ue(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?u.reject(new ue(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new Pk(U_(s.path),f,{includeMetadataChanges:!0,_a:!0});return Tk(o,h)}(await Lk(t),t.asyncQueue,e,n,r)),r.promise}function c3(t,e,n={}){const r=new Ur;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const f=new jk({next:d=>{f.Za(),a.enqueueAndForget(()=>Ak(o,h)),d.fromCache&&l.source==="server"?u.reject(new ue(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new Pk(s,f,{includeMetadataChanges:!0,_a:!0});return Tk(o,h)}(await Lk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t,e,n){if(!n)throw new ue(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function f3(t,e,n,r){if(e===!0&&r===!0)throw new ue(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OS(t){if(!fe.isDocumentKey(t))throw new ue(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function CS(t){if(fe.isDocumentKey(t))throw new ue(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe()}function br(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=iw(t);throw new ue(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new IF;switch(r.type){case"firstParty":return new RF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=IS.get(n);r&&(se("ComponentProvider","Removing Datastore"),IS.delete(n),r.terminate())}(this),Promise.resolve()}}function h3(t,e,n,r={}){var i;const o=(t=br(t,gp))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=Kt.MOCK_USER;else{s=B$(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ue(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Kt(u)}t._authCredentials=new OF(new jC(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vp(this.firestore,e,this._query)}}class pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class $i extends vp{constructor(e,n,r){super(e,n,U_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new fe(e))}withConverter(e){return new $i(this.firestore,e,this._path)}}function d3(t,e,...n){if(t=Pt(t),Fk("collection","path",e),t instanceof gp){const r=Ye.fromString(e,...n);return CS(r),new $i(t,null,r)}{if(!(t instanceof pn||t instanceof $i))throw new ue(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return CS(r),new $i(t.firestore,null,r)}}function yp(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=$C.newId()),Fk("doc","path",e),t instanceof gp){const r=Ye.fromString(e,...n);return OS(r),new pn(t,null,new fe(r))}{if(!(t instanceof pn||t instanceof $i))throw new ue(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return OS(r),new pn(t.firestore,t instanceof $i?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new vk(this,"async_queue_retry"),this.Vu=()=>{const r=cg();r&&se("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=cg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=cg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ur;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!bc(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw Yr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=ew.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&pe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Ms extends gp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new RS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RS(e),this._firestoreClient=void 0,await e}}}function p3(t,e){const n=typeof t=="object"?t:KO(),r=typeof t=="string"?t:"(default)",i=S_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=F$("firestore");o&&h3(i,...o)}return i}function ow(t){if(t._terminated)throw new ue(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||m3(t),t._firestoreClient}function m3(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,u,f){return new HF(s,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Vk(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new a3(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this._byteString=e}static fromBase64String(e){try{return new is(Lt.fromBase64String(e))}catch(n){throw new ue(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new is(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=/^__.*__$/;class v3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xi(e,this.data,this.fieldMask,n,this.fieldTransforms):new xc(e,this.data,n,this.fieldTransforms)}}class Uk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Bk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class uw{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new uw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Bh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Bk(this.Cu)&&g3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class y3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dp(e)}Qu(e,n,r,i=!1){return new uw({Cu:e,methodName:n,qu:r,path:Nt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zk(t){const e=t._freezeSettings(),n=dp(t._databaseId);return new y3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _3(t,e,n,r,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);cw("Data must be an object, but it was:",a,r);const s=Wk(r,a);let l,u;if(o.merge)l=new xn(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const f=[];for(const h of o.mergeFields){const d=ny(e,h,n);if(!a.contains(d))throw new ue(Y.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);qk(f,d)||f.push(d)}l=new xn(f),u=a.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=a.fieldTransforms;return new v3(new ln(s),l,u)}class wp extends aw{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wp}}function w3(t,e,n,r){const i=t.Qu(1,e,n);cw("Data must be an object, but it was:",i,r);const o=[],a=ln.empty();qo(r,(l,u)=>{const f=fw(e,l,n);u=Pt(u);const h=i.Nu(f);if(u instanceof wp)o.push(f);else{const d=bp(u,h);d!=null&&(o.push(f),a.set(f,d))}});const s=new xn(o);return new Uk(a,s,i.fieldTransforms)}function b3(t,e,n,r,i,o){const a=t.Qu(1,e,n),s=[ny(e,r,n)],l=[i];if(o.length%2!=0)throw new ue(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)s.push(ny(e,o[d])),l.push(o[d+1]);const u=[],f=ln.empty();for(let d=s.length-1;d>=0;--d)if(!qk(u,s[d])){const p=s[d];let v=l[d];v=Pt(v);const g=a.Nu(p);if(v instanceof wp)u.push(p);else{const w=bp(v,g);w!=null&&(u.push(p),f.set(p,w))}}const h=new xn(u);return new Uk(f,h,a.fieldTransforms)}function bp(t,e){if(Hk(t=Pt(t)))return cw("Unsupported field value:",e,t),Wk(t,e);if(t instanceof aw)return function(r,i){if(!Bk(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=bp(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=wt.fromDate(r);return{timestampValue:Vh(i.serializer,o)}}if(r instanceof wt){const o=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vh(i.serializer,o)}}if(r instanceof sw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof is)return{bytesValue:lk(i.serializer,r._byteString)};if(r instanceof pn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:q_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof lw)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return B_(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${iw(r)}`)}(t,e)}function Wk(t,e){const n={};return LC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qo(t,(r,i)=>{const o=bp(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Hk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof sw||t instanceof is||t instanceof pn||t instanceof aw||t instanceof lw)}function cw(t,e,n){if(!Hk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=iw(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function ny(t,e,n){if((e=Pt(e))instanceof _p)return e._internalPath;if(typeof e=="string")return fw(t,e);throw Bh("Field path arguments must be of type string or ",t,!1,void 0,n)}const x3=new RegExp("[~\\*/\\[\\]]");function fw(t,e,n){if(e.search(x3)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _p(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bh(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ue(Y.INVALID_ARGUMENT,s+t+l)}function qk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class E3 extends Kk{data(){return super.data()}}function Gk(t,e){return typeof e=="string"?fw(t,e):e instanceof _p?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class T3{convertValue(e,n="none"){switch(Lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return qo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>lt(a.doubleValue));return new lw(o)}convertGeoPoint(e){return new sw(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const n=Bi(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);De(pk(r));const i=new Eu(r.get(1),r.get(3)),o=new fe(r.popFirst(5));return i.isEqual(n)||Yr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xk extends Kk{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class th extends Xk{data(e={}){return super.data(e)}}class P3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Dl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new th(this._firestore,this._userDataWriter,r.key,r,new Dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new th(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Dl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new th(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Dl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),f=a.indexOf(s.doc.key)),{type:I3(s.type),doc:l,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function I3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t){t=br(t,pn);const e=br(t.firestore,Ms);return u3(ow(e),t._key).then(n=>M3(e,t,n))}class Yk extends T3{constructor(e){super(),this.firestore=e}convertBytes(e){return new is(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function C3(t){t=br(t,vp);const e=br(t.firestore,Ms),n=ow(e),r=new Yk(e);return S3(t._query),c3(n,t._query).then(i=>new P3(e,r,t,i))}function k3(t,e,n){t=br(t,pn);const r=br(t.firestore,Ms),i=A3(t.converter,e);return hw(r,[_3(zk(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Jn.none())])}function R3(t,e,n,...r){t=br(t,pn);const i=br(t.firestore,Ms),o=zk(i);let a;return a=typeof(e=Pt(e))=="string"||e instanceof _p?b3(o,"updateDoc",t._key,e,n,r):w3(o,"updateDoc",t._key,e),hw(i,[a.toMutation(t._key,Jn.exists(!0))])}function N3(t){return hw(br(t.firestore,Ms),[new z_(t._key,Jn.none())])}function hw(t,e){return function(r,i){const o=new Ur;return r.asyncQueue.enqueueAndForget(async()=>JB(await l3(r),i,o)),o.promise}(ow(t),e)}function M3(t,e,n){const r=n.docs.get(e._key),i=new Yk(t);return new Xk(t,i,e._key,r,new Dl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ks=i})(Os),Ya(new No("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new Ms(new CF(r.getProvider("auth-internal")),new MF(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ue(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(u.options.projectId,f)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),ji(QE,"4.7.3",e),ji(QE,"4.7.3","esm2017")})();var D3="firebase",j3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji(D3,j3,"app");const $3={apiKey:"AIzaSyAw2giJZYmLM8vG3BsD4EBFOiFhn2H3jVg",authDomain:"axes-and-ales-booking-site.firebaseapp.com",projectId:"axes-and-ales-booking-site",storageBucket:"axes-and-ales-booking-site.firebasestorage.app",messagingSenderId:"782018808364",appId:"1:782018808364:web:14dd94577fee6647531f89",measurementId:"G-TJ97F573Q5"},Qk=qO($3),Ac=AF(Qk),Pc=p3(Qk),L3=async t=>{const e=yp(Pc,"users",t),n=await O3(e);if(n.exists()){const r=n.data();return{id:t,email:r.email,name:r.name,isMember:r.isMember,isAdmin:r.isAdmin}}return null},V3=async(t,e)=>u4(Ac,t,e),F3=async()=>m4(Ac),U3=async t=>{const e=Ac.currentUser;if(e)return c4(e,t);throw new Error("No authenticated user found.")},NS=async()=>{const t=d3(Pc,"users");return(await C3(t)).docs.map(r=>({id:r.id,...r.data()}))},B3=async(t,e,n,r,i)=>{alert("SECURITY WARNING: User creation is happening on the client. For this to work, you must manually create the user in the Firebase Authentication console first, then add their profile here.");const o=await l4(Ac,t,e),{user:a}=o;return await k3(yp(Pc,"users",a.uid),{email:t,name:n,isMember:r,isAdmin:i}),{id:a.uid,email:t,name:n,isMember:r,isAdmin:i}},z3=async(t,e)=>{const n=yp(Pc,"users",t);return R3(n,e)},W3=async t=>{alert("SECURITY WARNING: Deleting users from the client is insecure and often disabled. Please delete this user from the Firebase Authentication and Firestore consoles manually.");const e=yp(Pc,"users",t);await N3(e)},H3=({isOpen:t,onClose:e})=>{const[n,r]=U.useState(""),[i,o]=U.useState(""),[a,s]=U.useState(""),l=async u=>{u.preventDefault(),s("");try{await V3(n,i),r(""),o(""),e()}catch(f){s("Failed to login. Please check your email and password."),console.error(f)}};return t?M.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:M.jsxs("div",{className:"bg-neutral-800 rounded-xl shadow-2xl w-full max-w-sm border border-neutral-700",children:[M.jsxs("div",{className:"p-6 border-b border-neutral-700 flex justify-between items-center",children:[M.jsx("h2",{className:"text-xl font-bold text-white",children:"Member Login"}),M.jsx("button",{onClick:e,className:"text-neutral-400 hover:text-white",children:M.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),M.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-neutral-400 mb-1",children:"Email"}),M.jsx("input",{type:"email",value:n,onChange:u=>r(u.target.value),className:"w-full bg-neutral-900 border border-neutral-600 rounded px-3 py-2 text-white focus:ring-1 focus:ring-amber-500 focus:outline-none"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-neutral-400 mb-1",children:"Password"}),M.jsx("input",{type:"password",value:i,onChange:u=>o(u.target.value),className:"w-full bg-neutral-900 border border-neutral-600 rounded px-3 py-2 text-white focus:ring-1 focus:ring-amber-500 focus:outline-none"})]}),a&&M.jsx("p",{className:"text-sm text-red-400",children:a}),M.jsx("button",{type:"submit",className:"w-full mt-2 px-8 py-2.5 bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-500 hover:to-amber-600 text-white rounded-lg font-bold shadow-lg shadow-amber-900/20 transition-all hover:translate-y-px text-sm",children:"Login"})]})]})}):null};function Jk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Jk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Oe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Jk(t))&&(r&&(r+=" "),r+=e);return r}var q3=Array.isArray,mn=q3,K3=typeof Qc=="object"&&Qc&&Qc.Object===Object&&Qc,Zk=K3,G3=Zk,X3=typeof self=="object"&&self&&self.Object===Object&&self,Y3=G3||X3||Function("return this")(),Sr=Y3,Q3=Sr,J3=Q3.Symbol,Ic=J3,MS=Ic,eR=Object.prototype,Z3=eR.hasOwnProperty,e6=eR.toString,gl=MS?MS.toStringTag:void 0;function t6(t){var e=Z3.call(t,gl),n=t[gl];try{t[gl]=void 0;var r=!0}catch{}var i=e6.call(t);return r&&(e?t[gl]=n:delete t[gl]),i}var n6=t6,r6=Object.prototype,i6=r6.toString;function o6(t){return i6.call(t)}var a6=o6,DS=Ic,s6=n6,l6=a6,u6="[object Null]",c6="[object Undefined]",jS=DS?DS.toStringTag:void 0;function f6(t){return t==null?t===void 0?c6:u6:jS&&jS in Object(t)?s6(t):l6(t)}var ii=f6;function h6(t){return t!=null&&typeof t=="object"}var oi=h6,d6=ii,p6=oi,m6="[object Symbol]";function g6(t){return typeof t=="symbol"||p6(t)&&d6(t)==m6}var Ds=g6,v6=mn,y6=Ds,_6=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,w6=/^\w*$/;function b6(t,e){if(v6(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||y6(t)?!0:w6.test(t)||!_6.test(t)||e!=null&&t in Object(e)}var dw=b6;function x6(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Yi=x6;const js=ze(Yi);var E6=ii,S6=Yi,T6="[object AsyncFunction]",A6="[object Function]",P6="[object GeneratorFunction]",I6="[object Proxy]";function O6(t){if(!S6(t))return!1;var e=E6(t);return e==A6||e==P6||e==T6||e==I6}var pw=O6;const xe=ze(pw);var C6=Sr,k6=C6["__core-js_shared__"],R6=k6,hg=R6,$S=function(){var t=/[^.]+$/.exec(hg&&hg.keys&&hg.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function N6(t){return!!$S&&$S in t}var M6=N6,D6=Function.prototype,j6=D6.toString;function $6(t){if(t!=null){try{return j6.call(t)}catch{}try{return t+""}catch{}}return""}var tR=$6,L6=pw,V6=M6,F6=Yi,U6=tR,B6=/[\\^$.*+?()[\]{}|]/g,z6=/^\[object .+?Constructor\]$/,W6=Function.prototype,H6=Object.prototype,q6=W6.toString,K6=H6.hasOwnProperty,G6=RegExp("^"+q6.call(K6).replace(B6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function X6(t){if(!F6(t)||V6(t))return!1;var e=L6(t)?G6:z6;return e.test(U6(t))}var Y6=X6;function Q6(t,e){return t==null?void 0:t[e]}var J6=Q6,Z6=Y6,e9=J6;function t9(t,e){var n=e9(t,e);return Z6(n)?n:void 0}var Go=t9,n9=Go,r9=n9(Object,"create"),xp=r9,LS=xp;function i9(){this.__data__=LS?LS(null):{},this.size=0}var o9=i9;function a9(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var s9=a9,l9=xp,u9="__lodash_hash_undefined__",c9=Object.prototype,f9=c9.hasOwnProperty;function h9(t){var e=this.__data__;if(l9){var n=e[t];return n===u9?void 0:n}return f9.call(e,t)?e[t]:void 0}var d9=h9,p9=xp,m9=Object.prototype,g9=m9.hasOwnProperty;function v9(t){var e=this.__data__;return p9?e[t]!==void 0:g9.call(e,t)}var y9=v9,_9=xp,w9="__lodash_hash_undefined__";function b9(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_9&&e===void 0?w9:e,this}var x9=b9,E9=o9,S9=s9,T9=d9,A9=y9,P9=x9;function $s(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$s.prototype.clear=E9;$s.prototype.delete=S9;$s.prototype.get=T9;$s.prototype.has=A9;$s.prototype.set=P9;var I9=$s;function O9(){this.__data__=[],this.size=0}var C9=O9;function k9(t,e){return t===e||t!==t&&e!==e}var mw=k9,R9=mw;function N9(t,e){for(var n=t.length;n--;)if(R9(t[n][0],e))return n;return-1}var Ep=N9,M9=Ep,D9=Array.prototype,j9=D9.splice;function $9(t){var e=this.__data__,n=M9(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():j9.call(e,n,1),--this.size,!0}var L9=$9,V9=Ep;function F9(t){var e=this.__data__,n=V9(e,t);return n<0?void 0:e[n][1]}var U9=F9,B9=Ep;function z9(t){return B9(this.__data__,t)>-1}var W9=z9,H9=Ep;function q9(t,e){var n=this.__data__,r=H9(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var K9=q9,G9=C9,X9=L9,Y9=U9,Q9=W9,J9=K9;function Ls(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ls.prototype.clear=G9;Ls.prototype.delete=X9;Ls.prototype.get=Y9;Ls.prototype.has=Q9;Ls.prototype.set=J9;var Sp=Ls,Z9=Go,e5=Sr,t5=Z9(e5,"Map"),gw=t5,VS=I9,n5=Sp,r5=gw;function i5(){this.size=0,this.__data__={hash:new VS,map:new(r5||n5),string:new VS}}var o5=i5;function a5(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var s5=a5,l5=s5;function u5(t,e){var n=t.__data__;return l5(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Tp=u5,c5=Tp;function f5(t){var e=c5(this,t).delete(t);return this.size-=e?1:0,e}var h5=f5,d5=Tp;function p5(t){return d5(this,t).get(t)}var m5=p5,g5=Tp;function v5(t){return g5(this,t).has(t)}var y5=v5,_5=Tp;function w5(t,e){var n=_5(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var b5=w5,x5=o5,E5=h5,S5=m5,T5=y5,A5=b5;function Vs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Vs.prototype.clear=x5;Vs.prototype.delete=E5;Vs.prototype.get=S5;Vs.prototype.has=T5;Vs.prototype.set=A5;var vw=Vs,nR=vw,P5="Expected a function";function yw(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(P5);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(yw.Cache||nR),n}yw.Cache=nR;var rR=yw;const I5=ze(rR);var O5=rR,C5=500;function k5(t){var e=O5(t,function(r){return n.size===C5&&n.clear(),r}),n=e.cache;return e}var R5=k5,N5=R5,M5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,D5=/\\(\\)?/g,j5=N5(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(M5,function(n,r,i,o){e.push(i?o.replace(D5,"$1"):r||n)}),e}),$5=j5;function L5(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var _w=L5,FS=Ic,V5=_w,F5=mn,U5=Ds,US=FS?FS.prototype:void 0,BS=US?US.toString:void 0;function iR(t){if(typeof t=="string")return t;if(F5(t))return V5(t,iR)+"";if(U5(t))return BS?BS.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var B5=iR,z5=B5;function W5(t){return t==null?"":z5(t)}var oR=W5,H5=mn,q5=dw,K5=$5,G5=oR;function X5(t,e){return H5(t)?t:q5(t,e)?[t]:K5(G5(t))}var aR=X5,Y5=Ds;function Q5(t){if(typeof t=="string"||Y5(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Ap=Q5,J5=aR,Z5=Ap;function ez(t,e){e=J5(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Z5(e[n++])];return n&&n==r?t:void 0}var ww=ez,tz=ww;function nz(t,e,n){var r=t==null?void 0:tz(t,e);return r===void 0?n:r}var sR=nz;const Dn=ze(sR);function rz(t){return t==null}var iz=rz;const Ce=ze(iz);var oz=ii,az=mn,sz=oi,lz="[object String]";function uz(t){return typeof t=="string"||!az(t)&&sz(t)&&oz(t)==lz}var cz=uz;const Vo=ze(cz);var lR={exports:{}},je={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw=Symbol.for("react.element"),xw=Symbol.for("react.portal"),Pp=Symbol.for("react.fragment"),Ip=Symbol.for("react.strict_mode"),Op=Symbol.for("react.profiler"),Cp=Symbol.for("react.provider"),kp=Symbol.for("react.context"),fz=Symbol.for("react.server_context"),Rp=Symbol.for("react.forward_ref"),Np=Symbol.for("react.suspense"),Mp=Symbol.for("react.suspense_list"),Dp=Symbol.for("react.memo"),jp=Symbol.for("react.lazy"),hz=Symbol.for("react.offscreen"),uR;uR=Symbol.for("react.module.reference");function Vn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case bw:switch(t=t.type,t){case Pp:case Op:case Ip:case Np:case Mp:return t;default:switch(t=t&&t.$$typeof,t){case fz:case kp:case Rp:case jp:case Dp:case Cp:return t;default:return e}}case xw:return e}}}je.ContextConsumer=kp;je.ContextProvider=Cp;je.Element=bw;je.ForwardRef=Rp;je.Fragment=Pp;je.Lazy=jp;je.Memo=Dp;je.Portal=xw;je.Profiler=Op;je.StrictMode=Ip;je.Suspense=Np;je.SuspenseList=Mp;je.isAsyncMode=function(){return!1};je.isConcurrentMode=function(){return!1};je.isContextConsumer=function(t){return Vn(t)===kp};je.isContextProvider=function(t){return Vn(t)===Cp};je.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===bw};je.isForwardRef=function(t){return Vn(t)===Rp};je.isFragment=function(t){return Vn(t)===Pp};je.isLazy=function(t){return Vn(t)===jp};je.isMemo=function(t){return Vn(t)===Dp};je.isPortal=function(t){return Vn(t)===xw};je.isProfiler=function(t){return Vn(t)===Op};je.isStrictMode=function(t){return Vn(t)===Ip};je.isSuspense=function(t){return Vn(t)===Np};je.isSuspenseList=function(t){return Vn(t)===Mp};je.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Pp||t===Op||t===Ip||t===Np||t===Mp||t===hz||typeof t=="object"&&t!==null&&(t.$$typeof===jp||t.$$typeof===Dp||t.$$typeof===Cp||t.$$typeof===kp||t.$$typeof===Rp||t.$$typeof===uR||t.getModuleId!==void 0)};je.typeOf=Vn;lR.exports=je;var dz=lR.exports,pz=ii,mz=oi,gz="[object Number]";function vz(t){return typeof t=="number"||mz(t)&&pz(t)==gz}var cR=vz;const yz=ze(cR);var _z=cR;function wz(t){return _z(t)&&t!=+t}var bz=wz;const Oc=ze(bz);var Xn=function(e){return e===0?0:e>0?1:-1},vo=function(e){return Vo(e)&&e.indexOf("%")===e.length-1},re=function(e){return yz(e)&&!Oc(e)},xz=function(e){return Ce(e)},_t=function(e){return re(e)||Vo(e)},Ez=0,$p=function(e){var n=++Ez;return"".concat(e||"").concat(n)},Fo=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(e)&&!Vo(e))return r;var o;if(vo(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Oc(o)&&(o=r),i&&o>n&&(o=n),o},ha=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Sz=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},aa=function(e,n){return re(e)&&re(n)?function(r){return e+r*(n-e)}:function(){return n}};function ry(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Dn(r,e))===n})}var Tz=function(e,n){return re(e)&&re(n)?e-n:Vo(e)&&Vo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Va(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}var Az=["viewBox","children"],Pz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],zS=["points","pathLength"],dg={svg:Az,polygon:zS,polyline:zS},Ew=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],zh=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(U.isValidElement(e)&&(r=e.props),!js(r))return null;var i={};return Object.keys(r).forEach(function(o){Ew.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},Iz=function(e,n,r){return function(i){return e(n,r,i),null}},Wh=function(e,n,r){if(!js(e)||iy(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];Ew.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Iz(a,n,r))}),i},Oz=["children"],Cz=["children"];function WS(t,e){if(t==null)return{};var n=kz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var HS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Br=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},qS=null,pg=null,Sw=function t(e){if(e===qS&&Array.isArray(pg))return pg;var n=[];return U.Children.forEach(e,function(r){Ce(r)||(dz.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),pg=n,qS=e,n};function Zn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Br(i)}):r=[Br(e)],Sw(t).forEach(function(i){var o=Dn(i,"type.displayName")||Dn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function _n(t,e){var n=Zn(t,e);return n&&n[0]}var KS=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!re(r)||r<=0||!re(i)||i<=0)},Rz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Nz=function(e){return e&&e.type&&Vo(e.type)&&Rz.indexOf(e.type)>=0},Mz=function(e,n,r,i){var o,a=(o=dg==null?void 0:dg[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!xe(e)&&(i&&a.includes(n)||Pz.includes(n))||r&&Ew.includes(n)},Ne=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(U.isValidElement(e)&&(i=e.props),!js(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;Mz((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},oy=function t(e,n){if(e===n)return!0;var r=U.Children.count(e);if(r!==U.Children.count(n))return!1;if(r===0)return!0;if(r===1)return GS(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!GS(o,a))return!1}return!0},GS=function(e,n){if(Ce(e)&&Ce(n))return!0;if(!Ce(e)&&!Ce(n)){var r=e.props||{},i=r.children,o=WS(r,Oz),a=n.props||{},s=a.children,l=WS(a,Cz);return i&&s?Va(o,l)&&oy(i,s):!i&&!s?Va(o,l):!1}return!1},XS=function(e,n){var r=[],i={};return Sw(e).forEach(function(o,a){if(Nz(o))r.push(o);else if(o){var s=Br(o.type),l=n[s]||{},u=l.handler,f=l.once;if(u&&(!f||!i[s])){var h=u(o,s,a);r.push(h),i[s]=!0}}}),r},Dz=function(e){var n=e&&e.type;return n&&HS[n]?HS[n]:null},jz=function(e,n){return Sw(n).indexOf(e)},$z=["children","width","height","viewBox","className","style","title","desc"];function ay(){return ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ay.apply(this,arguments)}function Lz(t,e){if(t==null)return{};var n=Vz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sy(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=Lz(t,$z),f=i||{width:n,height:r,x:0,y:0},h=Oe("recharts-surface",o);return V.createElement("svg",ay({},Ne(u,!0,"svg"),{className:h,width:n,height:r,style:a,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),V.createElement("title",null,s),V.createElement("desc",null,l),e)}var Fz=["children","className"];function ly(){return ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ly.apply(this,arguments)}function Uz(t,e){if(t==null)return{};var n=Bz(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Tt=V.forwardRef(function(t,e){var n=t.children,r=t.className,i=Uz(t,Fz),o=Oe("recharts-layer",r);return V.createElement("g",ly({className:o},Ne(i,!0),{ref:e}),n)}),So=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function zz(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var Wz=zz,Hz=Wz;function qz(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Hz(t,e,n)}var Kz=qz,Gz="\\ud800-\\udfff",Xz="\\u0300-\\u036f",Yz="\\ufe20-\\ufe2f",Qz="\\u20d0-\\u20ff",Jz=Xz+Yz+Qz,Zz="\\ufe0e\\ufe0f",e8="\\u200d",t8=RegExp("["+e8+Gz+Jz+Zz+"]");function n8(t){return t8.test(t)}var fR=n8;function r8(t){return t.split("")}var i8=r8,hR="\\ud800-\\udfff",o8="\\u0300-\\u036f",a8="\\ufe20-\\ufe2f",s8="\\u20d0-\\u20ff",l8=o8+a8+s8,u8="\\ufe0e\\ufe0f",c8="["+hR+"]",uy="["+l8+"]",cy="\\ud83c[\\udffb-\\udfff]",f8="(?:"+uy+"|"+cy+")",dR="[^"+hR+"]",pR="(?:\\ud83c[\\udde6-\\uddff]){2}",mR="[\\ud800-\\udbff][\\udc00-\\udfff]",h8="\\u200d",gR=f8+"?",vR="["+u8+"]?",d8="(?:"+h8+"(?:"+[dR,pR,mR].join("|")+")"+vR+gR+")*",p8=vR+gR+d8,m8="(?:"+[dR+uy+"?",uy,pR,mR,c8].join("|")+")",g8=RegExp(cy+"(?="+cy+")|"+m8+p8,"g");function v8(t){return t.match(g8)||[]}var y8=v8,_8=i8,w8=fR,b8=y8;function x8(t){return w8(t)?b8(t):_8(t)}var E8=x8,S8=Kz,T8=fR,A8=E8,P8=oR;function I8(t){return function(e){e=P8(e);var n=T8(e)?A8(e):void 0,r=n?n[0]:e.charAt(0),i=n?S8(n,1).join(""):e.slice(1);return r[t]()+i}}var O8=I8,C8=O8,k8=C8("toUpperCase"),R8=k8;const Lp=ze(R8);function Ue(t){return function(){return t}}const yR=Math.cos,Hh=Math.sin,nr=Math.sqrt,qh=Math.PI,Vp=2*qh,fy=Math.PI,hy=2*fy,uo=1e-6,N8=hy-uo;function _R(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function M8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return _R;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class D8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?_R:M8(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,f=a-e,h=s-n,d=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>uo)if(!(Math.abs(h*l-u*f)>uo)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,v=i-s,g=l*l+u*u,w=p*p+v*v,y=Math.sqrt(g),_=Math.sqrt(d),b=o*Math.tan((fy-Math.acos((g+d-w)/(2*y*_)))/2),I=b/_,T=b/y;Math.abs(I-1)>uo&&this._append`L${e+I*f},${n+I*h}`,this._append`A${o},${o},0,0,${+(h*p>f*v)},${this._x1=e+T*l},${this._y1=n+T*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,f=n+l,h=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>uo||Math.abs(this._y1-f)>uo)&&this._append`L${u},${f}`,r&&(d<0&&(d=d%hy+hy),d>N8?this._append`A${r},${r},0,1,${h},${e-s},${n-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=f}`:d>uo&&this._append`A${r},${r},0,${+(d>=fy)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Tw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new D8(e)}function Aw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function wR(t){this._context=t}wR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Fp(t){return new wR(t)}function bR(t){return t[0]}function xR(t){return t[1]}function ER(t,e){var n=Ue(!0),r=null,i=Fp,o=null,a=Tw(s);t=typeof t=="function"?t:t===void 0?bR:Ue(t),e=typeof e=="function"?e:e===void 0?xR:Ue(e);function s(l){var u,f=(l=Aw(l)).length,h,d=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=f;++u)!(u<f&&n(h=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(h,u,l),+e(h,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ue(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ue(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ue(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function bf(t,e,n){var r=null,i=Ue(!0),o=null,a=Fp,s=null,l=Tw(u);t=typeof t=="function"?t:t===void 0?bR:Ue(+t),e=typeof e=="function"?e:Ue(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?xR:Ue(+n);function u(h){var d,p,v,g=(h=Aw(h)).length,w,y=!1,_,b=new Array(g),I=new Array(g);for(o==null&&(s=a(_=l())),d=0;d<=g;++d){if(!(d<g&&i(w=h[d],d,h))===y)if(y=!y)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=d-1;v>=p;--v)s.point(b[v],I[v]);s.lineEnd(),s.areaEnd()}y&&(b[d]=+t(w,d,h),I[d]=+e(w,d,h),s.point(r?+r(w,d,h):b[d],n?+n(w,d,h):I[d]))}if(_)return s=null,_+""||null}function f(){return ER().defined(i).curve(a).context(o)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Ue(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Ue(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ue(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Ue(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Ue(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ue(+h),u):n},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(n)},u.lineX1=function(){return f().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Ue(!!h),u):i},u.curve=function(h){return arguments.length?(a=h,o!=null&&(s=a(o)),u):a},u.context=function(h){return arguments.length?(h==null?o=s=null:s=a(o=h),u):o},u}class SR{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function j8(t){return new SR(t,!0)}function $8(t){return new SR(t,!1)}const Pw={draw(t,e){const n=nr(e/qh);t.moveTo(n,0),t.arc(0,0,n,0,Vp)}},L8={draw(t,e){const n=nr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},TR=nr(1/3),V8=TR*2,F8={draw(t,e){const n=nr(e/V8),r=n*TR;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},U8={draw(t,e){const n=nr(e),r=-n/2;t.rect(r,r,n,n)}},B8=.8908130915292852,AR=Hh(qh/10)/Hh(7*qh/10),z8=Hh(Vp/10)*AR,W8=-yR(Vp/10)*AR,H8={draw(t,e){const n=nr(e*B8),r=z8*n,i=W8*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Vp*o/5,s=yR(a),l=Hh(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},mg=nr(3),q8={draw(t,e){const n=-nr(e/(mg*3));t.moveTo(0,n*2),t.lineTo(-mg*n,-n),t.lineTo(mg*n,-n),t.closePath()}},Pn=-.5,In=nr(3)/2,dy=1/nr(12),K8=(dy/2+1)*3,G8={draw(t,e){const n=nr(e/K8),r=n/2,i=n*dy,o=r,a=n*dy+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Pn*r-In*i,In*r+Pn*i),t.lineTo(Pn*o-In*a,In*o+Pn*a),t.lineTo(Pn*s-In*l,In*s+Pn*l),t.lineTo(Pn*r+In*i,Pn*i-In*r),t.lineTo(Pn*o+In*a,Pn*a-In*o),t.lineTo(Pn*s+In*l,Pn*l-In*s),t.closePath()}};function X8(t,e){let n=null,r=Tw(i);t=typeof t=="function"?t:Ue(t||Pw),e=typeof e=="function"?e:Ue(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ue(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ue(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Kh(){}function Gh(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function PR(t){this._context=t}PR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Y8(t){return new PR(t)}function IR(t){this._context=t}IR.prototype={areaStart:Kh,areaEnd:Kh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Gh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Q8(t){return new IR(t)}function OR(t){this._context=t}OR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Gh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function J8(t){return new OR(t)}function CR(t){this._context=t}CR.prototype={areaStart:Kh,areaEnd:Kh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Z8(t){return new CR(t)}function YS(t){return t<0?-1:1}function QS(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(YS(o)+YS(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function JS(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function gg(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Xh(t){this._context=t}Xh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gg(this,this._t0,JS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,gg(this,JS(this,n=QS(this,t,e)),n);break;default:gg(this,this._t0,n=QS(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function kR(t){this._context=new RR(t)}(kR.prototype=Object.create(Xh.prototype)).point=function(t,e){Xh.prototype.point.call(this,e,t)};function RR(t){this._context=t}RR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function eW(t){return new Xh(t)}function tW(t){return new kR(t)}function NR(t){this._context=t}NR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=ZS(t),i=ZS(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ZS(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function nW(t){return new NR(t)}function Up(t,e){this._context=t,this._t=e}Up.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function rW(t){return new Up(t,.5)}function iW(t){return new Up(t,0)}function oW(t){return new Up(t,1)}function os(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function py(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function aW(t,e){return t[e]}function sW(t){const e=[];return e.key=t,e}function lW(){var t=Ue([]),e=py,n=os,r=aW;function i(o){var a=Array.from(t.apply(this,arguments),sW),s,l=a.length,u=-1,f;for(const h of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(h,a[s].key,u,o)]).data=h;for(s=0,f=Aw(e(a));s<l;++s)a[f[s]].index=s;return n(a,f),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ue(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ue(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?py:typeof o=="function"?o:Ue(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??os,i):n},i}function uW(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}os(t,e)}}function cW(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}os(t,e)}}function fW(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var f=t[e[s]],h=f[r][1]||0,d=f[r-1][1]||0,p=(h-d)/2,v=0;v<s;++v){var g=t[e[v]],w=g[r][1]||0,y=g[r-1][1]||0;p+=w-y}l+=h,u+=p*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,os(t,e)}}function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}var hW=["type","size","sizeType"];function my(){return my=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},my.apply(this,arguments)}function eT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eT(Object(n),!0).forEach(function(r){dW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dW(t,e,n){return e=pW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pW(t){var e=mW(t,"string");return Pu(e)=="symbol"?e:e+""}function mW(t,e){if(Pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gW(t,e){if(t==null)return{};var n=vW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var MR={symbolCircle:Pw,symbolCross:L8,symbolDiamond:F8,symbolSquare:U8,symbolStar:H8,symbolTriangle:q8,symbolWye:G8},yW=Math.PI/180,_W=function(e){var n="symbol".concat(Lp(e));return MR[n]||Pw},wW=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*yW;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},bW=function(e,n){MR["symbol".concat(Lp(e))]=n},Iw=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=gW(e,hW),u=tT(tT({},l),{},{type:r,size:o,sizeType:s}),f=function(){var w=_W(r),y=X8().type(w).size(wW(o,s,r));return y()},h=u.className,d=u.cx,p=u.cy,v=Ne(u,!0);return d===+d&&p===+p&&o===+o?V.createElement("path",my({},v,{className:Oe("recharts-symbols",h),transform:"translate(".concat(d,", ").concat(p,")"),d:f()})):null};Iw.registerSymbol=bW;function as(t){"@babel/helpers - typeof";return as=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},as(t)}function gy(){return gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gy.apply(this,arguments)}function nT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(n),!0).forEach(function(r){Iu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jR(r.key),r)}}function TW(t,e,n){return e&&SW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AW(t,e,n){return e=Yh(e),PW(t,DR()?Reflect.construct(e,n||[],Yh(t).constructor):e.apply(t,n))}function PW(t,e){if(e&&(as(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IW(t)}function IW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DR=function(){return!!t})()}function Yh(t){return Yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yh(t)}function OW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vy(t,e)}function vy(t,e){return vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vy(t,e)}function Iu(t,e,n){return e=jR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jR(t){var e=CW(t,"string");return as(e)=="symbol"?e:e+""}function CW(t,e){if(as(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(as(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var On=32,Ow=function(t){function e(){return EW(this,e),AW(this,e,arguments)}return OW(e,t),TW(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=On/2,a=On/6,s=On/3,l=r.inactive?i:r.color;if(r.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:On,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(On,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return V.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(On/8,"h").concat(On,"v").concat(On*3/4,"h").concat(-On,"z"),className:"recharts-legend-icon"});if(V.isValidElement(r.legendIcon)){var u=xW({},r);return delete u.legendIcon,V.cloneElement(r.legendIcon,u)}return V.createElement(Iw,{fill:l,cx:o,cy:o,size:On,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:On,height:On},h={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,v){var g=p.formatter||l,w=Oe(Iu(Iu({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=xe(p.value)?null:p.value;So(!xe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=p.inactive?u:p.color;return V.createElement("li",gy({className:w,style:h,key:"legend-item-".concat(v)},Wh(r.props,p,v)),V.createElement(sy,{width:a,height:a,viewBox:f,style:d},r.renderIcon(p)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},g?g(y,p,v):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(U.PureComponent);Iu(Ow,"displayName","Legend");Iu(Ow,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var kW=Sp;function RW(){this.__data__=new kW,this.size=0}var NW=RW;function MW(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var DW=MW;function jW(t){return this.__data__.get(t)}var $W=jW;function LW(t){return this.__data__.has(t)}var VW=LW,FW=Sp,UW=gw,BW=vw,zW=200;function WW(t,e){var n=this.__data__;if(n instanceof FW){var r=n.__data__;if(!UW||r.length<zW-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new BW(r)}return n.set(t,e),this.size=n.size,this}var HW=WW,qW=Sp,KW=NW,GW=DW,XW=$W,YW=VW,QW=HW;function Fs(t){var e=this.__data__=new qW(t);this.size=e.size}Fs.prototype.clear=KW;Fs.prototype.delete=GW;Fs.prototype.get=XW;Fs.prototype.has=YW;Fs.prototype.set=QW;var $R=Fs,JW="__lodash_hash_undefined__";function ZW(t){return this.__data__.set(t,JW),this}var e7=ZW;function t7(t){return this.__data__.has(t)}var n7=t7,r7=vw,i7=e7,o7=n7;function Qh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new r7;++e<n;)this.add(t[e])}Qh.prototype.add=Qh.prototype.push=i7;Qh.prototype.has=o7;var LR=Qh;function a7(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var VR=a7;function s7(t,e){return t.has(e)}var FR=s7,l7=LR,u7=VR,c7=FR,f7=1,h7=2;function d7(t,e,n,r,i,o){var a=n&f7,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),f=o.get(e);if(u&&f)return u==e&&f==t;var h=-1,d=!0,p=n&h7?new l7:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var v=t[h],g=e[h];if(r)var w=a?r(g,v,h,e,t,o):r(v,g,h,t,e,o);if(w!==void 0){if(w)continue;d=!1;break}if(p){if(!u7(e,function(y,_){if(!c7(p,_)&&(v===y||i(v,y,n,r,o)))return p.push(_)})){d=!1;break}}else if(!(v===g||i(v,g,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var UR=d7,p7=Sr,m7=p7.Uint8Array,g7=m7;function v7(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var y7=v7;function _7(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Cw=_7,rT=Ic,iT=g7,w7=mw,b7=UR,x7=y7,E7=Cw,S7=1,T7=2,A7="[object Boolean]",P7="[object Date]",I7="[object Error]",O7="[object Map]",C7="[object Number]",k7="[object RegExp]",R7="[object Set]",N7="[object String]",M7="[object Symbol]",D7="[object ArrayBuffer]",j7="[object DataView]",oT=rT?rT.prototype:void 0,vg=oT?oT.valueOf:void 0;function $7(t,e,n,r,i,o,a){switch(n){case j7:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case D7:return!(t.byteLength!=e.byteLength||!o(new iT(t),new iT(e)));case A7:case P7:case C7:return w7(+t,+e);case I7:return t.name==e.name&&t.message==e.message;case k7:case N7:return t==e+"";case O7:var s=x7;case R7:var l=r&S7;if(s||(s=E7),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=T7,a.set(t,e);var f=b7(s(t),s(e),r,i,o,a);return a.delete(t),f;case M7:if(vg)return vg.call(t)==vg.call(e)}return!1}var L7=$7;function V7(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var BR=V7,F7=BR,U7=mn;function B7(t,e,n){var r=e(t);return U7(t)?r:F7(r,n(t))}var z7=B7;function W7(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var H7=W7;function q7(){return[]}var K7=q7,G7=H7,X7=K7,Y7=Object.prototype,Q7=Y7.propertyIsEnumerable,aT=Object.getOwnPropertySymbols,J7=aT?function(t){return t==null?[]:(t=Object(t),G7(aT(t),function(e){return Q7.call(t,e)}))}:X7,Z7=J7;function eH(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var tH=eH,nH=ii,rH=oi,iH="[object Arguments]";function oH(t){return rH(t)&&nH(t)==iH}var aH=oH,sT=aH,sH=oi,zR=Object.prototype,lH=zR.hasOwnProperty,uH=zR.propertyIsEnumerable,cH=sT(function(){return arguments}())?sT:function(t){return sH(t)&&lH.call(t,"callee")&&!uH.call(t,"callee")},kw=cH,Jh={exports:{}};function fH(){return!1}var hH=fH;Jh.exports;(function(t,e){var n=Sr,r=hH,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Jh,Jh.exports);var WR=Jh.exports,dH=9007199254740991,pH=/^(?:0|[1-9]\d*)$/;function mH(t,e){var n=typeof t;return e=e??dH,!!e&&(n=="number"||n!="symbol"&&pH.test(t))&&t>-1&&t%1==0&&t<e}var Rw=mH,gH=9007199254740991;function vH(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=gH}var Nw=vH,yH=ii,_H=Nw,wH=oi,bH="[object Arguments]",xH="[object Array]",EH="[object Boolean]",SH="[object Date]",TH="[object Error]",AH="[object Function]",PH="[object Map]",IH="[object Number]",OH="[object Object]",CH="[object RegExp]",kH="[object Set]",RH="[object String]",NH="[object WeakMap]",MH="[object ArrayBuffer]",DH="[object DataView]",jH="[object Float32Array]",$H="[object Float64Array]",LH="[object Int8Array]",VH="[object Int16Array]",FH="[object Int32Array]",UH="[object Uint8Array]",BH="[object Uint8ClampedArray]",zH="[object Uint16Array]",WH="[object Uint32Array]",qe={};qe[jH]=qe[$H]=qe[LH]=qe[VH]=qe[FH]=qe[UH]=qe[BH]=qe[zH]=qe[WH]=!0;qe[bH]=qe[xH]=qe[MH]=qe[EH]=qe[DH]=qe[SH]=qe[TH]=qe[AH]=qe[PH]=qe[IH]=qe[OH]=qe[CH]=qe[kH]=qe[RH]=qe[NH]=!1;function HH(t){return wH(t)&&_H(t.length)&&!!qe[yH(t)]}var qH=HH;function KH(t){return function(e){return t(e)}}var HR=KH,Zh={exports:{}};Zh.exports;(function(t,e){var n=Zk,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Zh,Zh.exports);var GH=Zh.exports,XH=qH,YH=HR,lT=GH,uT=lT&&lT.isTypedArray,QH=uT?YH(uT):XH,qR=QH,JH=tH,ZH=kw,eq=mn,tq=WR,nq=Rw,rq=qR,iq=Object.prototype,oq=iq.hasOwnProperty;function aq(t,e){var n=eq(t),r=!n&&ZH(t),i=!n&&!r&&tq(t),o=!n&&!r&&!i&&rq(t),a=n||r||i||o,s=a?JH(t.length,String):[],l=s.length;for(var u in t)(e||oq.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||nq(u,l)))&&s.push(u);return s}var sq=aq,lq=Object.prototype;function uq(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||lq;return t===n}var cq=uq;function fq(t,e){return function(n){return t(e(n))}}var KR=fq,hq=KR,dq=hq(Object.keys,Object),pq=dq,mq=cq,gq=pq,vq=Object.prototype,yq=vq.hasOwnProperty;function _q(t){if(!mq(t))return gq(t);var e=[];for(var n in Object(t))yq.call(t,n)&&n!="constructor"&&e.push(n);return e}var wq=_q,bq=pw,xq=Nw;function Eq(t){return t!=null&&xq(t.length)&&!bq(t)}var Bp=Eq,Sq=sq,Tq=wq,Aq=Bp;function Pq(t){return Aq(t)?Sq(t):Tq(t)}var Mw=Pq,Iq=z7,Oq=Z7,Cq=Mw;function kq(t){return Iq(t,Cq,Oq)}var Rq=kq,cT=Rq,Nq=1,Mq=Object.prototype,Dq=Mq.hasOwnProperty;function jq(t,e,n,r,i,o){var a=n&Nq,s=cT(t),l=s.length,u=cT(e),f=u.length;if(l!=f&&!a)return!1;for(var h=l;h--;){var d=s[h];if(!(a?d in e:Dq.call(e,d)))return!1}var p=o.get(t),v=o.get(e);if(p&&v)return p==e&&v==t;var g=!0;o.set(t,e),o.set(e,t);for(var w=a;++h<l;){d=s[h];var y=t[d],_=e[d];if(r)var b=a?r(_,y,d,e,t,o):r(y,_,d,t,e,o);if(!(b===void 0?y===_||i(y,_,n,r,o):b)){g=!1;break}w||(w=d=="constructor")}if(g&&!w){var I=t.constructor,T=e.constructor;I!=T&&"constructor"in t&&"constructor"in e&&!(typeof I=="function"&&I instanceof I&&typeof T=="function"&&T instanceof T)&&(g=!1)}return o.delete(t),o.delete(e),g}var $q=jq,Lq=Go,Vq=Sr,Fq=Lq(Vq,"DataView"),Uq=Fq,Bq=Go,zq=Sr,Wq=Bq(zq,"Promise"),Hq=Wq,qq=Go,Kq=Sr,Gq=qq(Kq,"Set"),GR=Gq,Xq=Go,Yq=Sr,Qq=Xq(Yq,"WeakMap"),Jq=Qq,yy=Uq,_y=gw,wy=Hq,by=GR,xy=Jq,XR=ii,Us=tR,fT="[object Map]",Zq="[object Object]",hT="[object Promise]",dT="[object Set]",pT="[object WeakMap]",mT="[object DataView]",eK=Us(yy),tK=Us(_y),nK=Us(wy),rK=Us(by),iK=Us(xy),co=XR;(yy&&co(new yy(new ArrayBuffer(1)))!=mT||_y&&co(new _y)!=fT||wy&&co(wy.resolve())!=hT||by&&co(new by)!=dT||xy&&co(new xy)!=pT)&&(co=function(t){var e=XR(t),n=e==Zq?t.constructor:void 0,r=n?Us(n):"";if(r)switch(r){case eK:return mT;case tK:return fT;case nK:return hT;case rK:return dT;case iK:return pT}return e});var oK=co,yg=$R,aK=UR,sK=L7,lK=$q,gT=oK,vT=mn,yT=WR,uK=qR,cK=1,_T="[object Arguments]",wT="[object Array]",xf="[object Object]",fK=Object.prototype,bT=fK.hasOwnProperty;function hK(t,e,n,r,i,o){var a=vT(t),s=vT(e),l=a?wT:gT(t),u=s?wT:gT(e);l=l==_T?xf:l,u=u==_T?xf:u;var f=l==xf,h=u==xf,d=l==u;if(d&&yT(t)){if(!yT(e))return!1;a=!0,f=!1}if(d&&!f)return o||(o=new yg),a||uK(t)?aK(t,e,n,r,i,o):sK(t,e,l,n,r,i,o);if(!(n&cK)){var p=f&&bT.call(t,"__wrapped__"),v=h&&bT.call(e,"__wrapped__");if(p||v){var g=p?t.value():t,w=v?e.value():e;return o||(o=new yg),i(g,w,n,r,o)}}return d?(o||(o=new yg),lK(t,e,n,r,i,o)):!1}var dK=hK,pK=dK,xT=oi;function YR(t,e,n,r,i){return t===e?!0:t==null||e==null||!xT(t)&&!xT(e)?t!==t&&e!==e:pK(t,e,n,r,YR,i)}var Dw=YR,mK=$R,gK=Dw,vK=1,yK=2;function _K(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],f=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var h=new mK;if(r)var d=r(u,f,l,t,e,h);if(!(d===void 0?gK(f,u,vK|yK,r,h):d))return!1}}return!0}var wK=_K,bK=Yi;function xK(t){return t===t&&!bK(t)}var QR=xK,EK=QR,SK=Mw;function TK(t){for(var e=SK(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,EK(i)]}return e}var AK=TK;function PK(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var JR=PK,IK=wK,OK=AK,CK=JR;function kK(t){var e=OK(t);return e.length==1&&e[0][2]?CK(e[0][0],e[0][1]):function(n){return n===t||IK(n,t,e)}}var RK=kK;function NK(t,e){return t!=null&&e in Object(t)}var MK=NK,DK=aR,jK=kw,$K=mn,LK=Rw,VK=Nw,FK=Ap;function UK(t,e,n){e=DK(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=FK(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&VK(i)&&LK(a,i)&&($K(t)||jK(t)))}var BK=UK,zK=MK,WK=BK;function HK(t,e){return t!=null&&WK(t,e,zK)}var qK=HK,KK=Dw,GK=sR,XK=qK,YK=dw,QK=QR,JK=JR,ZK=Ap,eG=1,tG=2;function nG(t,e){return YK(t)&&QK(e)?JK(ZK(t),e):function(n){var r=GK(n,t);return r===void 0&&r===e?XK(n,t):KK(e,r,eG|tG)}}var rG=nG;function iG(t){return t}var Bs=iG;function oG(t){return function(e){return e==null?void 0:e[t]}}var aG=oG,sG=ww;function lG(t){return function(e){return sG(e,t)}}var uG=lG,cG=aG,fG=uG,hG=dw,dG=Ap;function pG(t){return hG(t)?cG(dG(t)):fG(t)}var mG=pG,gG=RK,vG=rG,yG=Bs,_G=mn,wG=mG;function bG(t){return typeof t=="function"?t:t==null?yG:typeof t=="object"?_G(t)?vG(t[0],t[1]):gG(t):wG(t)}var zs=bG;function xG(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var EG=xG;function SG(t){return t!==t}var TG=SG;function AG(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var PG=AG,IG=EG,OG=TG,CG=PG;function kG(t,e,n){return e===e?CG(t,e,n):IG(t,OG,n)}var RG=kG,NG=RG;function MG(t,e){var n=t==null?0:t.length;return!!n&&NG(t,e,0)>-1}var DG=MG;function jG(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var $G=jG;function LG(){}var VG=LG,_g=GR,FG=VG,UG=Cw,BG=1/0,zG=_g&&1/UG(new _g([,-0]))[1]==BG?function(t){return new _g(t)}:FG,WG=zG,HG=LR,qG=DG,KG=$G,GG=FR,XG=WG,YG=Cw,QG=200;function JG(t,e,n){var r=-1,i=qG,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=KG;else if(o>=QG){var u=e?null:XG(t);if(u)return YG(u);a=!1,i=GG,l=new HG}else l=e?[]:s;e:for(;++r<o;){var f=t[r],h=e?e(f):f;if(f=n||f!==0?f:0,a&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue e;e&&l.push(h),s.push(f)}else i(l,h,n)||(l!==s&&l.push(h),s.push(f))}return s}var ZG=JG,eX=zs,tX=ZG;function nX(t,e){return t&&t.length?tX(t,eX(e)):[]}var rX=nX;const ET=ze(rX);function ZR(t,e,n){return e===!0?ET(t,n):xe(e)?ET(t,e):t}function ss(t){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ss(t)}var iX=["ref"];function ST(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ST(Object(n),!0).forEach(function(r){zp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ST(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tN(r.key),r)}}function aX(t,e,n){return e&&TT(t.prototype,e),n&&TT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sX(t,e,n){return e=ed(e),lX(t,eN()?Reflect.construct(e,n||[],ed(t).constructor):e.apply(t,n))}function lX(t,e){if(e&&(ss(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uX(t)}function uX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eN=function(){return!!t})()}function ed(t){return ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ed(t)}function cX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ey(t,e)}function Ey(t,e){return Ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ey(t,e)}function zp(t,e,n){return e=tN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tN(t){var e=fX(t,"string");return ss(e)=="symbol"?e:e+""}function fX(t,e){if(ss(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ss(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hX(t,e){if(t==null)return{};var n=dX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pX(t){return t.value}function mX(t,e){if(V.isValidElement(t))return V.cloneElement(t,e);if(typeof t=="function")return V.createElement(t,e);e.ref;var n=hX(e,iX);return V.createElement(Ow,n)}var AT=1,Fa=function(t){function e(){var n;oX(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=sX(this,e,[].concat(i)),zp(n,"lastBoundingBox",{width:-1,height:-1}),n}return cX(e,t),aX(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>AT||Math.abs(i.height-this.lastBoundingBox.height)>AT)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Or({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,f=i.chartHeight,h,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();h={left:((u||0)-p.width)/2}}else h=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();d={top:((f||0)-v.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Or(Or({},h),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,h=Or(Or({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return V.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){r.wrapperNode=p}},mX(o,Or(Or({},this.props),{},{payload:ZR(f,u,pX)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Or(Or({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&re(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(U.PureComponent);zp(Fa,"displayName","Legend");zp(Fa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var PT=Ic,gX=kw,vX=mn,IT=PT?PT.isConcatSpreadable:void 0;function yX(t){return vX(t)||gX(t)||!!(IT&&t&&t[IT])}var _X=yX,wX=BR,bX=_X;function nN(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=bX),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?nN(s,e-1,n,r,i):wX(i,s):r||(i[i.length]=s)}return i}var rN=nN;function xX(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var EX=xX,SX=EX,TX=SX(),AX=TX,PX=AX,IX=Mw;function OX(t,e){return t&&PX(t,e,IX)}var iN=OX,CX=Bp;function kX(t,e){return function(n,r){if(n==null)return n;if(!CX(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var RX=kX,NX=iN,MX=RX,DX=MX(NX),jw=DX,jX=jw,$X=Bp;function LX(t,e){var n=-1,r=$X(t)?Array(t.length):[];return jX(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var oN=LX;function VX(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var FX=VX,OT=Ds;function UX(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=OT(t),a=e!==void 0,s=e===null,l=e===e,u=OT(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var BX=UX,zX=BX;function WX(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=zX(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var HX=WX,wg=_w,qX=ww,KX=zs,GX=oN,XX=FX,YX=HR,QX=HX,JX=Bs,ZX=mn;function eY(t,e,n){e.length?e=wg(e,function(o){return ZX(o)?function(a){return qX(a,o.length===1?o[0]:o)}:o}):e=[JX];var r=-1;e=wg(e,YX(KX));var i=GX(t,function(o,a,s){var l=wg(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return XX(i,function(o,a){return QX(o,a,n)})}var tY=eY;function nY(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var rY=nY,iY=rY,CT=Math.max;function oY(t,e,n){return e=CT(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=CT(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),iY(t,this,s)}}var aY=oY;function sY(t){return function(){return t}}var lY=sY,uY=Go,cY=function(){try{var t=uY(Object,"defineProperty");return t({},"",{}),t}catch{}}(),aN=cY,fY=lY,kT=aN,hY=Bs,dY=kT?function(t,e){return kT(t,"toString",{configurable:!0,enumerable:!1,value:fY(e),writable:!0})}:hY,pY=dY,mY=800,gY=16,vY=Date.now;function yY(t){var e=0,n=0;return function(){var r=vY(),i=gY-(r-n);if(n=r,i>0){if(++e>=mY)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var _Y=yY,wY=pY,bY=_Y,xY=bY(wY),EY=xY,SY=Bs,TY=aY,AY=EY;function PY(t,e){return AY(TY(t,e,SY),t+"")}var IY=PY,OY=mw,CY=Bp,kY=Rw,RY=Yi;function NY(t,e,n){if(!RY(n))return!1;var r=typeof e;return(r=="number"?CY(n)&&kY(e,n.length):r=="string"&&e in n)?OY(n[e],t):!1}var Wp=NY,MY=rN,DY=tY,jY=IY,RT=Wp,$Y=jY(function(t,e){if(t==null)return[];var n=e.length;return n>1&&RT(t,e[0],e[1])?e=[]:n>2&&RT(e[0],e[1],e[2])&&(e=[e[0]]),DY(t,MY(e,1),[])}),LY=$Y;const $w=ze(LY);function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function Sy(){return Sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sy.apply(this,arguments)}function VY(t,e){return zY(t)||BY(t,e)||UY(t,e)||FY()}function FY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UY(t,e){if(t){if(typeof t=="string")return NT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NT(t,e)}}function NT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function zY(t){if(Array.isArray(t))return t}function MT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MT(Object(n),!0).forEach(function(r){WY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WY(t,e,n){return e=HY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HY(t){var e=qY(t,"string");return Ou(e)=="symbol"?e:e+""}function qY(t,e){if(Ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KY(t){return Array.isArray(t)&&_t(t[0])&&_t(t[1])?t.join(" ~ "):t}var GY=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,f=e.payload,h=e.formatter,d=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,g=e.label,w=e.labelFormatter,y=e.accessibilityLayer,_=y===void 0?!1:y,b=function(){if(f&&f.length){var N={padding:0,margin:0},k=(d?$w(f,d):f).map(function(B,$){if(B.type==="none")return null;var H=bg({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},s),q=B.formatter||h||KY,D=B.value,z=B.name,G=D,te=z;if(q&&G!=null&&te!=null){var X=q(D,z,B,$,f);if(Array.isArray(X)){var ne=VY(X,2);G=ne[0],te=ne[1]}else G=X}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:H},_t(te)?V.createElement("span",{className:"recharts-tooltip-item-name"},te):null,_t(te)?V.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,V.createElement("span",{className:"recharts-tooltip-item-value"},G),V.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:N},k)}return null},I=bg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=bg({margin:0},u),A=!Ce(g),x=A?g:"",E=Oe("recharts-default-tooltip",p),P=Oe("recharts-tooltip-label",v);A&&w&&f!==void 0&&f!==null&&(x=w(g,f));var C=_?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",Sy({className:E,style:I},C),V.createElement("p",{className:P,style:T},V.isValidElement(x)?x:"".concat(x)),b())};function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function Ef(t,e,n){return e=XY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XY(t){var e=YY(t,"string");return Cu(e)=="symbol"?e:e+""}function YY(t,e){if(Cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vl="recharts-tooltip-wrapper",QY={visibility:"hidden"};function JY(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Oe(vl,Ef(Ef(Ef(Ef({},"".concat(vl,"-right"),re(n)&&e&&re(e.x)&&n>=e.x),"".concat(vl,"-left"),re(n)&&e&&re(e.x)&&n<e.x),"".concat(vl,"-bottom"),re(r)&&e&&re(e.y)&&r>=e.y),"".concat(vl,"-top"),re(r)&&e&&re(e.y)&&r<e.y))}function DT(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&re(o[r]))return o[r];var f=n[r]-s-i,h=n[r]+i;if(e[r])return a[r]?f:h;if(a[r]){var d=f,p=l[r];return d<p?Math.max(h,l[r]):Math.max(f,l[r])}var v=h+s,g=l[r]+u;return v>g?Math.max(f,l[r]):Math.max(h,l[r])}function ZY(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function eQ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,f,h;return a.height>0&&a.width>0&&n?(f=DT({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=DT({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=ZY({translateX:f,translateY:h,useTranslate3d:s})):u=QY,{cssProperties:u,cssClasses:JY({translateX:f,translateY:h,coordinate:n})}}function ls(t){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ls(t)}function jT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $T(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jT(Object(n),!0).forEach(function(r){Ay(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lN(r.key),r)}}function rQ(t,e,n){return e&&nQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iQ(t,e,n){return e=td(e),oQ(t,sN()?Reflect.construct(e,n||[],td(t).constructor):e.apply(t,n))}function oQ(t,e){if(e&&(ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aQ(t)}function aQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sN=function(){return!!t})()}function td(t){return td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},td(t)}function sQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ty(t,e)}function Ty(t,e){return Ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ty(t,e)}function Ay(t,e,n){return e=lN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lN(t){var e=lQ(t,"string");return ls(e)=="symbol"?e:e+""}function lQ(t,e){if(ls(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LT=1,uQ=function(t){function e(){var n;tQ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=iQ(this,e,[].concat(i)),Ay(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ay(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return sQ(e,t),rQ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>LT||Math.abs(r.height-this.state.lastBoundingBox.height)>LT)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,f=i.coordinate,h=i.hasPayload,d=i.isAnimationActive,p=i.offset,v=i.position,g=i.reverseDirection,w=i.useTranslate3d,y=i.viewBox,_=i.wrapperStyle,b=eQ({allowEscapeViewBox:a,coordinate:f,offsetTopLeft:p,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:y}),I=b.cssClasses,T=b.cssProperties,A=$T($T({transition:d&&o?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&h?"visible":"hidden",position:"absolute",top:0,left:0},_);return V.createElement("div",{tabIndex:-1,className:I,style:A,ref:function(E){r.wrapperNode=E}},u)}}])}(U.PureComponent),cQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Cc={isSsr:cQ()};function us(t){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},us(t)}function VT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(n),!0).forEach(function(r){Lw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cN(r.key),r)}}function dQ(t,e,n){return e&&hQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pQ(t,e,n){return e=nd(e),mQ(t,uN()?Reflect.construct(e,n||[],nd(t).constructor):e.apply(t,n))}function mQ(t,e){if(e&&(us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gQ(t)}function gQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uN=function(){return!!t})()}function nd(t){return nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nd(t)}function vQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Py(t,e)}function Py(t,e){return Py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Py(t,e)}function Lw(t,e,n){return e=cN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cN(t){var e=yQ(t,"string");return us(e)=="symbol"?e:e+""}function yQ(t,e){if(us(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _Q(t){return t.dataKey}function wQ(t,e){return V.isValidElement(t)?V.cloneElement(t,e):typeof t=="function"?V.createElement(t,e):V.createElement(GY,e)}var sr=function(t){function e(){return fQ(this,e),pQ(this,e,arguments)}return vQ(e,t),dQ(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,f=i.coordinate,h=i.filterNull,d=i.isAnimationActive,p=i.offset,v=i.payload,g=i.payloadUniqBy,w=i.position,y=i.reverseDirection,_=i.useTranslate3d,b=i.viewBox,I=i.wrapperStyle,T=v??[];h&&T.length&&(T=ZR(v.filter(function(x){return x.value!=null&&(x.hide!==!0||r.props.includeHidden)}),g,_Q));var A=T.length>0;return V.createElement(uQ,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:d,active:o,coordinate:f,hasPayload:A,offset:p,position:w,reverseDirection:y,useTranslate3d:_,viewBox:b,wrapperStyle:I},wQ(u,FT(FT({},this.props),{},{payload:T})))}}])}(U.PureComponent);Lw(sr,"displayName","Tooltip");Lw(sr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Cc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var bQ=Sr,xQ=function(){return bQ.Date.now()},EQ=xQ,SQ=/\s/;function TQ(t){for(var e=t.length;e--&&SQ.test(t.charAt(e)););return e}var AQ=TQ,PQ=AQ,IQ=/^\s+/;function OQ(t){return t&&t.slice(0,PQ(t)+1).replace(IQ,"")}var CQ=OQ,kQ=CQ,UT=Yi,RQ=Ds,BT=NaN,NQ=/^[-+]0x[0-9a-f]+$/i,MQ=/^0b[01]+$/i,DQ=/^0o[0-7]+$/i,jQ=parseInt;function $Q(t){if(typeof t=="number")return t;if(RQ(t))return BT;if(UT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=UT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=kQ(t);var n=MQ.test(t);return n||DQ.test(t)?jQ(t.slice(2),n?2:8):NQ.test(t)?BT:+t}var fN=$Q,LQ=Yi,xg=EQ,zT=fN,VQ="Expected a function",FQ=Math.max,UQ=Math.min;function BQ(t,e,n){var r,i,o,a,s,l,u=0,f=!1,h=!1,d=!0;if(typeof t!="function")throw new TypeError(VQ);e=zT(e)||0,LQ(n)&&(f=!!n.leading,h="maxWait"in n,o=h?FQ(zT(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function p(A){var x=r,E=i;return r=i=void 0,u=A,a=t.apply(E,x),a}function v(A){return u=A,s=setTimeout(y,e),f?p(A):a}function g(A){var x=A-l,E=A-u,P=e-x;return h?UQ(P,o-E):P}function w(A){var x=A-l,E=A-u;return l===void 0||x>=e||x<0||h&&E>=o}function y(){var A=xg();if(w(A))return _(A);s=setTimeout(y,g(A))}function _(A){return s=void 0,d&&r?p(A):(r=i=void 0,a)}function b(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function I(){return s===void 0?a:_(xg())}function T(){var A=xg(),x=w(A);if(r=arguments,i=this,l=A,x){if(s===void 0)return v(l);if(h)return clearTimeout(s),s=setTimeout(y,e),p(l)}return s===void 0&&(s=setTimeout(y,e)),a}return T.cancel=b,T.flush=I,T}var zQ=BQ,WQ=zQ,HQ=Yi,qQ="Expected a function";function KQ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(qQ);return HQ(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),WQ(t,e,{leading:r,maxWait:e,trailing:i})}var GQ=KQ;const hN=ze(GQ);function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function WT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WT(Object(n),!0).forEach(function(r){XQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XQ(t,e,n){return e=YQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YQ(t){var e=QQ(t,"string");return ku(e)=="symbol"?e:e+""}function QQ(t,e){if(ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JQ(t,e){return nJ(t)||tJ(t,e)||eJ(t,e)||ZQ()}function ZQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eJ(t,e){if(t){if(typeof t=="string")return HT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HT(t,e)}}function HT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function nJ(t){if(Array.isArray(t))return t}var rJ=U.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,f=u===void 0?0:u,h=t.minHeight,d=t.maxHeight,p=t.children,v=t.debounce,g=v===void 0?0:v,w=t.id,y=t.className,_=t.onResize,b=t.style,I=b===void 0?{}:b,T=U.useRef(null),A=U.useRef();A.current=_,U.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var x=U.useState({containerWidth:i.width,containerHeight:i.height}),E=JQ(x,2),P=E[0],C=E[1],O=U.useCallback(function(k,B){C(function($){var H=Math.round(k),q=Math.round(B);return $.containerWidth===H&&$.containerHeight===q?$:{containerWidth:H,containerHeight:q}})},[]);U.useEffect(function(){var k=function(z){var G,te=z[0].contentRect,X=te.width,ne=te.height;O(X,ne),(G=A.current)===null||G===void 0||G.call(A,X,ne)};g>0&&(k=hN(k,g,{trailing:!0,leading:!1}));var B=new ResizeObserver(k),$=T.current.getBoundingClientRect(),H=$.width,q=$.height;return O(H,q),B.observe(T.current),function(){B.disconnect()}},[O,g]);var N=U.useMemo(function(){var k=P.containerWidth,B=P.containerHeight;if(k<0||B<0)return null;So(vo(a)||vo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),So(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=vo(a)?k:a,H=vo(l)?B:l;n&&n>0&&($?H=$/n:H&&($=H*n),d&&H>d&&(H=d)),So($>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,H,a,l,f,h,n);var q=!Array.isArray(p)&&Br(p.type).endsWith("Chart");return V.Children.map(p,function(D){return V.isValidElement(D)?U.cloneElement(D,Sf({width:$,height:H},q?{style:Sf({height:"100%",width:"100%",maxHeight:H,maxWidth:$},D.props.style)}:{})):D})},[n,p,l,d,h,f,P,a]);return V.createElement("div",{id:w?"".concat(w):void 0,className:Oe("recharts-responsive-container",y),style:Sf(Sf({},I),{},{width:a,height:l,minWidth:f,minHeight:h,maxHeight:d}),ref:T},N)}),Vw=function(e){return null};Vw.displayName="Cell";function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}function qT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qT(Object(n),!0).forEach(function(r){iJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iJ(t,e,n){return e=oJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oJ(t){var e=aJ(t,"string");return Ru(e)=="symbol"?e:e+""}function aJ(t,e){if(Ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sa={widthCache:{},cacheCount:0},sJ=2e3,lJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},KT="recharts_measurement_span";function uJ(t){var e=Iy({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Ql=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Cc.isSsr)return{width:0,height:0};var r=uJ(n),i=JSON.stringify({text:e,copyStyle:r});if(sa.widthCache[i])return sa.widthCache[i];try{var o=document.getElementById(KT);o||(o=document.createElement("span"),o.setAttribute("id",KT),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=Iy(Iy({},lJ),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return sa.widthCache[i]=l,++sa.cacheCount>sJ&&(sa.cacheCount=0,sa.widthCache={}),l}catch{return{width:0,height:0}}},cJ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function rd(t,e){return pJ(t)||dJ(t,e)||hJ(t,e)||fJ()}function fJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hJ(t,e){if(t){if(typeof t=="string")return GT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GT(t,e)}}function GT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function pJ(t){if(Array.isArray(t))return t}function mJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vJ(r.key),r)}}function gJ(t,e,n){return e&&XT(t.prototype,e),n&&XT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vJ(t){var e=yJ(t,"string");return Nu(e)=="symbol"?e:e+""}function yJ(t,e){if(Nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var YT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_J=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dN={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bJ=Object.keys(dN),Aa="NaN";function xJ(t,e){return t*dN[e]}var Tf=function(){function t(e,n){mJ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!_J.test(n)&&(this.num=NaN,this.unit=""),bJ.includes(n)&&(this.num=xJ(e,n),this.unit="px")}return gJ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=wJ.exec(n))!==null&&r!==void 0?r:[],o=rd(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function pN(t){if(t.includes(Aa))return Aa;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=YT.exec(e))!==null&&n!==void 0?n:[],i=rd(r,4),o=i[1],a=i[2],s=i[3],l=Tf.parse(o??""),u=Tf.parse(s??""),f=a==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return Aa;e=e.replace(YT,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,d=(h=QT.exec(e))!==null&&h!==void 0?h:[],p=rd(d,4),v=p[1],g=p[2],w=p[3],y=Tf.parse(v??""),_=Tf.parse(w??""),b=g==="+"?y.add(_):y.subtract(_);if(b.isNaN())return Aa;e=e.replace(QT,b.toString())}return e}var JT=/\(([^()]*)\)/;function EJ(t){for(var e=t;e.includes("(");){var n=JT.exec(e),r=rd(n,2),i=r[1];e=e.replace(JT,pN(i))}return e}function SJ(t){var e=t.replace(/\s+/g,"");return e=EJ(e),e=pN(e),e}function TJ(t){try{return SJ(t)}catch{return Aa}}function Eg(t){var e=TJ(t.slice(5,-1));return e===Aa?"":e}var AJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],PJ=["dx","dy","angle","className","breakAll"];function Oy(){return Oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oy.apply(this,arguments)}function ZT(t,e){if(t==null)return{};var n=IJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function e1(t,e){return RJ(t)||kJ(t,e)||CJ(t,e)||OJ()}function OJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CJ(t,e){if(t){if(typeof t=="string")return t1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t1(t,e)}}function t1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function RJ(t){if(Array.isArray(t))return t}var mN=/[ \f\n\r\t\v\u2028\u2029]+/,gN=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ce(n)||(r?o=n.toString().split(""):o=n.toString().split(mN));var a=o.map(function(l){return{word:l,width:Ql(l,i).width}}),s=r?0:Ql("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},NJ=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,f=re(a),h=s,d=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(H,q){var D=q.word,z=q.width,G=H[H.length-1];if(G&&(i==null||o||G.width+z+r<Number(i)))G.words.push(D),G.width+=z+r;else{var te={words:[D],width:z};H.push(te)}return H},[])},p=d(n),v=function($){return $.reduce(function(H,q){return H.width>q.width?H:q})};if(!f)return p;for(var g="",w=function($){var H=h.slice(0,$),q=gN({breakAll:u,style:l,children:H+g}).wordsWithComputedWidth,D=d(q),z=D.length>a||v(D).width>Number(i);return[z,D]},y=0,_=h.length-1,b=0,I;y<=_&&b<=h.length-1;){var T=Math.floor((y+_)/2),A=T-1,x=w(A),E=e1(x,2),P=E[0],C=E[1],O=w(T),N=e1(O,1),k=N[0];if(!P&&!k&&(y=T+1),P&&k&&(_=T-1),!P&&k){I=C;break}b++}return I||p},n1=function(e){var n=Ce(e)?[]:e.toString().split(mN);return[{words:n}]},MJ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!Cc.isSsr){var l,u,f=gN({breakAll:a,children:i,style:o});if(f){var h=f.wordsWithComputedWidth,d=f.spaceWidth;l=h,u=d}else return n1(i);return NJ({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return n1(i)},r1="#808080",id=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,f=e.scaleToFit,h=f===void 0?!1:f,d=e.textAnchor,p=d===void 0?"start":d,v=e.verticalAnchor,g=v===void 0?"end":v,w=e.fill,y=w===void 0?r1:w,_=ZT(e,AJ),b=U.useMemo(function(){return MJ({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:h,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,h,_.style,_.width]),I=_.dx,T=_.dy,A=_.angle,x=_.className,E=_.breakAll,P=ZT(_,PJ);if(!_t(r)||!_t(o))return null;var C=r+(re(I)?I:0),O=o+(re(T)?T:0),N;switch(g){case"start":N=Eg("calc(".concat(u,")"));break;case"middle":N=Eg("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:N=Eg("calc(".concat(b.length-1," * -").concat(s,")"));break}var k=[];if(h){var B=b[0].width,$=_.width;k.push("scale(".concat((re($)?$/B:1)/B,")"))}return A&&k.push("rotate(".concat(A,", ").concat(C,", ").concat(O,")")),k.length&&(P.transform=k.join(" ")),V.createElement("text",Oy({},Ne(P,!0),{x:C,y:O,className:Oe("recharts-text",x),textAnchor:p,fill:y.includes("url")?r1:y}),b.map(function(H,q){var D=H.words.join(E?"":" ");return V.createElement("tspan",{x:C,dy:q===0?N:s,key:"".concat(D,"-").concat(q)},D)}))};function Li(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function DJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Fw(t){let e,n,r;t.length!==2?(e=Li,n=(s,l)=>Li(t(s),l),r=(s,l)=>t(s)-l):(e=t===Li||t===DJ?t:jJ,n=t,r=t);function i(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const h=u+f>>>1;n(s[h],l)<0?u=h+1:f=h}while(u<f)}return u}function o(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const h=u+f>>>1;n(s[h],l)<=0?u=h+1:f=h}while(u<f)}return u}function a(s,l,u=0,f=s.length){const h=i(s,l,u,f-1);return h>u&&r(s[h-1],l)>-r(s[h],l)?h-1:h}return{left:i,center:a,right:o}}function jJ(){return 0}function vN(t){return t===null?NaN:+t}function*$J(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const LJ=Fw(Li),kc=LJ.right;Fw(vN).center;class i1 extends Map{constructor(e,n=UJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(o1(this,e))}has(e){return super.has(o1(this,e))}set(e,n){return super.set(VJ(this,e),n)}delete(e){return super.delete(FJ(this,e))}}function o1({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function VJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function FJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function UJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function BJ(t=Li){if(t===Li)return yN;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function yN(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const zJ=Math.sqrt(50),WJ=Math.sqrt(10),HJ=Math.sqrt(2);function od(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=zJ?10:o>=WJ?5:o>=HJ?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?od(t,e,n*2):[s,l,u]}function Cy(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?od(e,t,n):od(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function ky(t,e,n){return e=+e,t=+t,n=+n,od(t,e,n)[2]}function Ry(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?ky(e,t,n):ky(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function a1(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function s1(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function _N(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?yN:BJ(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,f=Math.log(l),h=.5*Math.exp(2*f/3),d=.5*Math.sqrt(f*h*(l-h)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*h/l+d)),v=Math.min(r,Math.floor(e+(l-u)*h/l+d));_N(t,e,p,v,i)}const o=t[e];let a=n,s=r;for(yl(t,n,e),i(t[r],o)>0&&yl(t,n,r);a<s;){for(yl(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?yl(t,n,s):(++s,yl(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function yl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function qJ(t,e,n){if(t=Float64Array.from($J(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return s1(t);if(e>=1)return a1(t);var r,i=(r-1)*e,o=Math.floor(i),a=a1(_N(t,o).subarray(0,o+1)),s=s1(t.subarray(o+1));return a+(s-a)*(i-o)}}function KJ(t,e,n=vN){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function GJ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Fn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ai(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ny=Symbol("implicit");function Uw(){var t=new i1,e=[],n=[],r=Ny;function i(o){let a=t.get(o);if(a===void 0){if(r!==Ny)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new i1;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Uw(e,n).unknown(r)},Fn.apply(i,arguments),i}function Mu(){var t=Uw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,f=.5;delete t.unknown;function h(){var d=e().length,p=i<r,v=p?i:r,g=p?r:i;o=(g-v)/Math.max(1,d-l+u*2),s&&(o=Math.floor(o)),v+=(g-v-o*(d-l))*f,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var w=GJ(d).map(function(y){return v+o*y});return n(p?w.reverse():w)}return t.domain=function(d){return arguments.length?(e(d),h()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(d){return arguments.length?(s=!!d,h()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),h()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),h()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,h()):u},t.align=function(d){return arguments.length?(f=Math.max(0,Math.min(1,d)),h()):f},t.copy=function(){return Mu(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(f)},Fn.apply(h(),arguments)}function wN(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return wN(e())},t}function Jl(){return wN(Mu.apply(null,arguments).paddingInner(1))}function Bw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function bN(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Rc(){}var Du=.7,ad=1/Du,Ua="\\s*([+-]?\\d+)\\s*",ju="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XJ=/^#([0-9a-f]{3,8})$/,YJ=new RegExp(`^rgb\\(${Ua},${Ua},${Ua}\\)$`),QJ=new RegExp(`^rgb\\(${vr},${vr},${vr}\\)$`),JJ=new RegExp(`^rgba\\(${Ua},${Ua},${Ua},${ju}\\)$`),ZJ=new RegExp(`^rgba\\(${vr},${vr},${vr},${ju}\\)$`),eZ=new RegExp(`^hsl\\(${ju},${vr},${vr}\\)$`),tZ=new RegExp(`^hsla\\(${ju},${vr},${vr},${ju}\\)$`),l1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bw(Rc,$u,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:u1,formatHex:u1,formatHex8:nZ,formatHsl:rZ,formatRgb:c1,toString:c1});function u1(){return this.rgb().formatHex()}function nZ(){return this.rgb().formatHex8()}function rZ(){return xN(this).formatHsl()}function c1(){return this.rgb().formatRgb()}function $u(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=XJ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?f1(e):n===3?new cn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Af(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Af(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=YJ.exec(t))?new cn(e[1],e[2],e[3],1):(e=QJ.exec(t))?new cn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=JJ.exec(t))?Af(e[1],e[2],e[3],e[4]):(e=ZJ.exec(t))?Af(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=eZ.exec(t))?p1(e[1],e[2]/100,e[3]/100,1):(e=tZ.exec(t))?p1(e[1],e[2]/100,e[3]/100,e[4]):l1.hasOwnProperty(t)?f1(l1[t]):t==="transparent"?new cn(NaN,NaN,NaN,0):null}function f1(t){return new cn(t>>16&255,t>>8&255,t&255,1)}function Af(t,e,n,r){return r<=0&&(t=e=n=NaN),new cn(t,e,n,r)}function iZ(t){return t instanceof Rc||(t=$u(t)),t?(t=t.rgb(),new cn(t.r,t.g,t.b,t.opacity)):new cn}function My(t,e,n,r){return arguments.length===1?iZ(t):new cn(t,e,n,r??1)}function cn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Bw(cn,My,bN(Rc,{brighter(t){return t=t==null?ad:Math.pow(ad,t),new cn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Du:Math.pow(Du,t),new cn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new cn(To(this.r),To(this.g),To(this.b),sd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:h1,formatHex:h1,formatHex8:oZ,formatRgb:d1,toString:d1}));function h1(){return`#${yo(this.r)}${yo(this.g)}${yo(this.b)}`}function oZ(){return`#${yo(this.r)}${yo(this.g)}${yo(this.b)}${yo((isNaN(this.opacity)?1:this.opacity)*255)}`}function d1(){const t=sd(this.opacity);return`${t===1?"rgb(":"rgba("}${To(this.r)}, ${To(this.g)}, ${To(this.b)}${t===1?")":`, ${t})`}`}function sd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function To(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function yo(t){return t=To(t),(t<16?"0":"")+t.toString(16)}function p1(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Gn(t,e,n,r)}function xN(t){if(t instanceof Gn)return new Gn(t.h,t.s,t.l,t.opacity);if(t instanceof Rc||(t=$u(t)),!t)return new Gn;if(t instanceof Gn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Gn(a,s,l,t.opacity)}function aZ(t,e,n,r){return arguments.length===1?xN(t):new Gn(t,e,n,r??1)}function Gn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Bw(Gn,aZ,bN(Rc,{brighter(t){return t=t==null?ad:Math.pow(ad,t),new Gn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Du:Math.pow(Du,t),new Gn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new cn(Sg(t>=240?t-240:t+120,i,r),Sg(t,i,r),Sg(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Gn(m1(this.h),Pf(this.s),Pf(this.l),sd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=sd(this.opacity);return`${t===1?"hsl(":"hsla("}${m1(this.h)}, ${Pf(this.s)*100}%, ${Pf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function m1(t){return t=(t||0)%360,t<0?t+360:t}function Pf(t){return Math.max(0,Math.min(1,t||0))}function Sg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const zw=t=>()=>t;function sZ(t,e){return function(n){return t+n*e}}function lZ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function uZ(t){return(t=+t)==1?EN:function(e,n){return n-e?lZ(e,n,t):zw(isNaN(e)?n:e)}}function EN(t,e){var n=e-t;return n?sZ(t,n):zw(isNaN(t)?e:t)}const g1=function t(e){var n=uZ(e);function r(i,o){var a=n((i=My(i)).r,(o=My(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=EN(i.opacity,o.opacity);return function(f){return i.r=a(f),i.g=s(f),i.b=l(f),i.opacity=u(f),i+""}}return r.gamma=t,r}(1);function cZ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function fZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function hZ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Ws(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function dZ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ld(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function pZ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ws(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Dy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tg=new RegExp(Dy.source,"g");function mZ(t){return function(){return t}}function gZ(t){return function(e){return t(e)+""}}function vZ(t,e){var n=Dy.lastIndex=Tg.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Dy.exec(t))&&(i=Tg.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:ld(r,i)})),n=Tg.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?gZ(l[0].x):mZ(e):(e=l.length,function(u){for(var f=0,h;f<e;++f)s[(h=l[f]).i]=h.x(u);return s.join("")})}function Ws(t,e){var n=typeof e,r;return e==null||n==="boolean"?zw(e):(n==="number"?ld:n==="string"?(r=$u(e))?(e=r,g1):vZ:e instanceof $u?g1:e instanceof Date?dZ:fZ(e)?cZ:Array.isArray(e)?hZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?pZ:ld)(t,e)}function Ww(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function yZ(t,e){e===void 0&&(e=t,t=Ws);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function _Z(t){return function(){return t}}function ud(t){return+t}var v1=[0,1];function nn(t){return t}function jy(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:_Z(isNaN(e)?NaN:.5)}function wZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function bZ(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=jy(i,r),o=n(a,o)):(r=jy(r,i),o=n(o,a)),function(s){return o(r(s))}}function xZ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=jy(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=kc(t,s,1,r)-1;return o[l](i[l](s))}}function Nc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Hp(){var t=v1,e=v1,n=Ws,r,i,o,a=nn,s,l,u;function f(){var d=Math.min(t.length,e.length);return a!==nn&&(a=wZ(t[0],t[d-1])),s=d>2?xZ:bZ,l=u=null,h}function h(d){return d==null||isNaN(d=+d)?o:(l||(l=s(t.map(r),e,n)))(r(a(d)))}return h.invert=function(d){return a(i((u||(u=s(e,t.map(r),ld)))(d)))},h.domain=function(d){return arguments.length?(t=Array.from(d,ud),f()):t.slice()},h.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},h.rangeRound=function(d){return e=Array.from(d),n=Ww,f()},h.clamp=function(d){return arguments.length?(a=d?!0:nn,f()):a!==nn},h.interpolate=function(d){return arguments.length?(n=d,f()):n},h.unknown=function(d){return arguments.length?(o=d,h):o},function(d,p){return r=d,i=p,f()}}function Hw(){return Hp()(nn,nn)}function EZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function cd(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function cs(t){return t=cd(Math.abs(t)),t?t[1]:NaN}function SZ(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function TZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var AZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lu(t){if(!(e=AZ.exec(t)))throw new Error("invalid format: "+t);var e;return new qw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Lu.prototype=qw.prototype;function qw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}qw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function PZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var SN;function IZ(t,e){var n=cd(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(SN=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+cd(t,Math.max(0,e+o-1))[0]}function y1(t,e){var n=cd(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const _1={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:EZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>y1(t*100,e),r:y1,s:IZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function w1(t){return t}var b1=Array.prototype.map,x1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function OZ(t){var e=t.grouping===void 0||t.thousands===void 0?w1:SZ(b1.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?w1:TZ(b1.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Lu(h);var d=h.fill,p=h.align,v=h.sign,g=h.symbol,w=h.zero,y=h.width,_=h.comma,b=h.precision,I=h.trim,T=h.type;T==="n"?(_=!0,T="g"):_1[T]||(b===void 0&&(b=12),I=!0,T="g"),(w||d==="0"&&p==="=")&&(w=!0,d="0",p="=");var A=g==="$"?n:g==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",x=g==="$"?r:/[%p]/.test(T)?a:"",E=_1[T],P=/[defgprs%]/.test(T);b=b===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function C(O){var N=A,k=x,B,$,H;if(T==="c")k=E(O)+k,O="";else{O=+O;var q=O<0||1/O<0;if(O=isNaN(O)?l:E(Math.abs(O),b),I&&(O=PZ(O)),q&&+O==0&&v!=="+"&&(q=!1),N=(q?v==="("?v:s:v==="-"||v==="("?"":v)+N,k=(T==="s"?x1[8+SN/3]:"")+k+(q&&v==="("?")":""),P){for(B=-1,$=O.length;++B<$;)if(H=O.charCodeAt(B),48>H||H>57){k=(H===46?i+O.slice(B+1):O.slice(B))+k,O=O.slice(0,B);break}}}_&&!w&&(O=e(O,1/0));var D=N.length+O.length+k.length,z=D<y?new Array(y-D+1).join(d):"";switch(_&&w&&(O=e(z+O,z.length?y-k.length:1/0),z=""),p){case"<":O=N+O+k+z;break;case"=":O=N+z+O+k;break;case"^":O=z.slice(0,D=z.length>>1)+N+O+k+z.slice(D);break;default:O=z+N+O+k;break}return o(O)}return C.toString=function(){return h+""},C}function f(h,d){var p=u((h=Lu(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(cs(d)/3)))*3,g=Math.pow(10,-v),w=x1[8+v/3];return function(y){return p(g*y)+w}}return{format:u,formatPrefix:f}}var If,Kw,TN;CZ({thousands:",",grouping:[3],currency:["$",""]});function CZ(t){return If=OZ(t),Kw=If.format,TN=If.formatPrefix,If}function kZ(t){return Math.max(0,-cs(Math.abs(t)))}function RZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cs(e)/3)))*3-cs(Math.abs(t)))}function NZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,cs(e)-cs(t))+1}function AN(t,e,n,r){var i=Ry(t,e,n),o;switch(r=Lu(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=RZ(i,a))&&(r.precision=o),TN(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=NZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=kZ(i))&&(r.precision=o-(r.type==="%")*2);break}}return Kw(r)}function Qi(t){var e=t.domain;return t.ticks=function(n){var r=e();return Cy(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return AN(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,f=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);f-- >0;){if(u=ky(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function fd(){var t=Hw();return t.copy=function(){return Nc(t,fd())},Fn.apply(t,arguments),Qi(t)}function PN(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ud),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return PN(t).unknown(e)},t=arguments.length?Array.from(t,ud):[0,1],Qi(n)}function IN(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function E1(t){return Math.log(t)}function S1(t){return Math.exp(t)}function MZ(t){return-Math.log(-t)}function DZ(t){return-Math.exp(-t)}function jZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function $Z(t){return t===10?jZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function LZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function T1(t){return(e,n)=>-t(-e,n)}function Gw(t){const e=t(E1,S1),n=e.domain;let r=10,i,o;function a(){return i=LZ(r),o=$Z(r),n()[0]<0?(i=T1(i),o=T1(o),t(MZ,DZ)):t(E1,S1),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],f=l[l.length-1];const h=f<u;h&&([u,f]=[f,u]);let d=i(u),p=i(f),v,g;const w=s==null?10:+s;let y=[];if(!(r%1)&&p-d<w){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(v=1;v<r;++v)if(g=d<0?v/o(-d):v*o(d),!(g<u)){if(g>f)break;y.push(g)}}else for(;d<=p;++d)for(v=r-1;v>=1;--v)if(g=d>0?v/o(-d):v*o(d),!(g<u)){if(g>f)break;y.push(g)}y.length*2<w&&(y=Cy(u,f,w))}else y=Cy(d,p,Math.min(p-d,w)).map(o);return h?y.reverse():y},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Lu(l)).precision==null&&(l.trim=!0),l=Kw(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return f=>{let h=f/o(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=u?l(f):""}},e.nice=()=>n(IN(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function ON(){const t=Gw(Hp()).domain([1,10]);return t.copy=()=>Nc(t,ON()).base(t.base()),Fn.apply(t,arguments),t}function A1(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function P1(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Xw(t){var e=1,n=t(A1(e),P1(e));return n.constant=function(r){return arguments.length?t(A1(e=+r),P1(e)):e},Qi(n)}function CN(){var t=Xw(Hp());return t.copy=function(){return Nc(t,CN()).constant(t.constant())},Fn.apply(t,arguments)}function I1(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function VZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function FZ(t){return t<0?-t*t:t*t}function Yw(t){var e=t(nn,nn),n=1;function r(){return n===1?t(nn,nn):n===.5?t(VZ,FZ):t(I1(n),I1(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Qi(e)}function Qw(){var t=Yw(Hp());return t.copy=function(){return Nc(t,Qw()).exponent(t.exponent())},Fn.apply(t,arguments),t}function UZ(){return Qw.apply(null,arguments).exponent(.5)}function O1(t){return Math.sign(t)*t*t}function BZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function kN(){var t=Hw(),e=[0,1],n=!1,r;function i(o){var a=BZ(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(O1(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,ud)).map(O1)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return kN(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Fn.apply(i,arguments),Qi(i)}function RN(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=KJ(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[kc(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Li),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return RN().domain(t).range(e).unknown(r)},Fn.apply(o,arguments)}function NN(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[kc(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return NN().domain([t,e]).range(i).unknown(o)},Fn.apply(Qi(a),arguments)}function MN(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[kc(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return MN().domain(t).range(e).unknown(n)},Fn.apply(i,arguments)}const Ag=new Date,Pg=new Date;function bt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>bt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Ag.setTime(+o),Pg.setTime(+a),t(Ag),t(Pg),Math.floor(n(Ag,Pg))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const hd=bt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);hd.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?bt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):hd);hd.range;const $r=1e3,Nn=$r*60,Lr=Nn*60,Jr=Lr*24,Jw=Jr*7,C1=Jr*30,Ig=Jr*365,_o=bt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*$r)},(t,e)=>(e-t)/$r,t=>t.getUTCSeconds());_o.range;const Zw=bt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$r)},(t,e)=>{t.setTime(+t+e*Nn)},(t,e)=>(e-t)/Nn,t=>t.getMinutes());Zw.range;const eb=bt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Nn)},(t,e)=>(e-t)/Nn,t=>t.getUTCMinutes());eb.range;const tb=bt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$r-t.getMinutes()*Nn)},(t,e)=>{t.setTime(+t+e*Lr)},(t,e)=>(e-t)/Lr,t=>t.getHours());tb.range;const nb=bt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Lr)},(t,e)=>(e-t)/Lr,t=>t.getUTCHours());nb.range;const Mc=bt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Nn)/Jr,t=>t.getDate()-1);Mc.range;const qp=bt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Jr,t=>t.getUTCDate()-1);qp.range;const DN=bt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Jr,t=>Math.floor(t/Jr));DN.range;function Xo(t){return bt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Nn)/Jw)}const Kp=Xo(0),dd=Xo(1),zZ=Xo(2),WZ=Xo(3),fs=Xo(4),HZ=Xo(5),qZ=Xo(6);Kp.range;dd.range;zZ.range;WZ.range;fs.range;HZ.range;qZ.range;function Yo(t){return bt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Jw)}const Gp=Yo(0),pd=Yo(1),KZ=Yo(2),GZ=Yo(3),hs=Yo(4),XZ=Yo(5),YZ=Yo(6);Gp.range;pd.range;KZ.range;GZ.range;hs.range;XZ.range;YZ.range;const rb=bt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rb.range;const ib=bt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ib.range;const Zr=bt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Zr.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:bt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Zr.range;const ei=bt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ei.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:bt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ei.range;function jN(t,e,n,r,i,o){const a=[[_o,1,$r],[_o,5,5*$r],[_o,15,15*$r],[_o,30,30*$r],[o,1,Nn],[o,5,5*Nn],[o,15,15*Nn],[o,30,30*Nn],[i,1,Lr],[i,3,3*Lr],[i,6,6*Lr],[i,12,12*Lr],[r,1,Jr],[r,2,2*Jr],[n,1,Jw],[e,1,C1],[e,3,3*C1],[t,1,Ig]];function s(u,f,h){const d=f<u;d&&([u,f]=[f,u]);const p=h&&typeof h.range=="function"?h:l(u,f,h),v=p?p.range(u,+f+1):[];return d?v.reverse():v}function l(u,f,h){const d=Math.abs(f-u)/h,p=Fw(([,,w])=>w).right(a,d);if(p===a.length)return t.every(Ry(u/Ig,f/Ig,h));if(p===0)return hd.every(Math.max(Ry(u,f,h),1));const[v,g]=a[d/a[p-1][2]<a[p][2]/d?p-1:p];return v.every(g)}return[s,l]}const[QZ,JZ]=jN(ei,ib,Gp,DN,nb,eb),[ZZ,eee]=jN(Zr,rb,Kp,Mc,tb,Zw);function Og(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Cg(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _l(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function tee(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=wl(i),f=bl(i),h=wl(o),d=bl(o),p=wl(a),v=bl(a),g=wl(s),w=bl(s),y=wl(l),_=bl(l),b={a:q,A:D,b:z,B:G,c:null,d:j1,e:j1,f:See,g:Mee,G:jee,H:bee,I:xee,j:Eee,L:$N,m:Tee,M:Aee,p:te,q:X,Q:V1,s:F1,S:Pee,u:Iee,U:Oee,V:Cee,w:kee,W:Ree,x:null,X:null,y:Nee,Y:Dee,Z:$ee,"%":L1},I={a:ne,A:ye,b:Ee,B:$e,c:null,d:$1,e:$1,f:Uee,g:Qee,G:Zee,H:Lee,I:Vee,j:Fee,L:VN,m:Bee,M:zee,p:L,q:le,Q:V1,s:F1,S:Wee,u:Hee,U:qee,V:Kee,w:Gee,W:Xee,x:null,X:null,y:Yee,Y:Jee,Z:ete,"%":L1},T={a:C,A:O,b:N,B:k,c:B,d:M1,e:M1,f:vee,g:N1,G:R1,H:D1,I:D1,j:dee,L:gee,m:hee,M:pee,p:P,q:fee,Q:_ee,s:wee,S:mee,u:aee,U:see,V:lee,w:oee,W:uee,x:$,X:H,y:N1,Y:R1,Z:cee,"%":yee};b.x=A(n,b),b.X=A(r,b),b.c=A(e,b),I.x=A(n,I),I.X=A(r,I),I.c=A(e,I);function A(Z,ae){return function(ce){var K=[],ke=-1,me=0,Je=Z.length,it,Vt,rr;for(ce instanceof Date||(ce=new Date(+ce));++ke<Je;)Z.charCodeAt(ke)===37&&(K.push(Z.slice(me,ke)),(Vt=k1[it=Z.charAt(++ke)])!=null?it=Z.charAt(++ke):Vt=it==="e"?" ":"0",(rr=ae[it])&&(it=rr(ce,Vt)),K.push(it),me=ke+1);return K.push(Z.slice(me,ke)),K.join("")}}function x(Z,ae){return function(ce){var K=_l(1900,void 0,1),ke=E(K,Z,ce+="",0),me,Je;if(ke!=ce.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(ae&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(me=Cg(_l(K.y,0,1)),Je=me.getUTCDay(),me=Je>4||Je===0?pd.ceil(me):pd(me),me=qp.offset(me,(K.V-1)*7),K.y=me.getUTCFullYear(),K.m=me.getUTCMonth(),K.d=me.getUTCDate()+(K.w+6)%7):(me=Og(_l(K.y,0,1)),Je=me.getDay(),me=Je>4||Je===0?dd.ceil(me):dd(me),me=Mc.offset(me,(K.V-1)*7),K.y=me.getFullYear(),K.m=me.getMonth(),K.d=me.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),Je="Z"in K?Cg(_l(K.y,0,1)).getUTCDay():Og(_l(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(Je+5)%7:K.w+K.U*7-(Je+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,Cg(K)):Og(K)}}function E(Z,ae,ce,K){for(var ke=0,me=ae.length,Je=ce.length,it,Vt;ke<me;){if(K>=Je)return-1;if(it=ae.charCodeAt(ke++),it===37){if(it=ae.charAt(ke++),Vt=T[it in k1?ae.charAt(ke++):it],!Vt||(K=Vt(Z,ce,K))<0)return-1}else if(it!=ce.charCodeAt(K++))return-1}return K}function P(Z,ae,ce){var K=u.exec(ae.slice(ce));return K?(Z.p=f.get(K[0].toLowerCase()),ce+K[0].length):-1}function C(Z,ae,ce){var K=p.exec(ae.slice(ce));return K?(Z.w=v.get(K[0].toLowerCase()),ce+K[0].length):-1}function O(Z,ae,ce){var K=h.exec(ae.slice(ce));return K?(Z.w=d.get(K[0].toLowerCase()),ce+K[0].length):-1}function N(Z,ae,ce){var K=y.exec(ae.slice(ce));return K?(Z.m=_.get(K[0].toLowerCase()),ce+K[0].length):-1}function k(Z,ae,ce){var K=g.exec(ae.slice(ce));return K?(Z.m=w.get(K[0].toLowerCase()),ce+K[0].length):-1}function B(Z,ae,ce){return E(Z,e,ae,ce)}function $(Z,ae,ce){return E(Z,n,ae,ce)}function H(Z,ae,ce){return E(Z,r,ae,ce)}function q(Z){return a[Z.getDay()]}function D(Z){return o[Z.getDay()]}function z(Z){return l[Z.getMonth()]}function G(Z){return s[Z.getMonth()]}function te(Z){return i[+(Z.getHours()>=12)]}function X(Z){return 1+~~(Z.getMonth()/3)}function ne(Z){return a[Z.getUTCDay()]}function ye(Z){return o[Z.getUTCDay()]}function Ee(Z){return l[Z.getUTCMonth()]}function $e(Z){return s[Z.getUTCMonth()]}function L(Z){return i[+(Z.getUTCHours()>=12)]}function le(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var ae=A(Z+="",b);return ae.toString=function(){return Z},ae},parse:function(Z){var ae=x(Z+="",!1);return ae.toString=function(){return Z},ae},utcFormat:function(Z){var ae=A(Z+="",I);return ae.toString=function(){return Z},ae},utcParse:function(Z){var ae=x(Z+="",!0);return ae.toString=function(){return Z},ae}}}var k1={"-":"",_:" ",0:"0"},It=/^\s*\d+/,nee=/^%/,ree=/[\\^$*+?|[\]().{}]/g;function Ie(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function iee(t){return t.replace(ree,"\\$&")}function wl(t){return new RegExp("^(?:"+t.map(iee).join("|")+")","i")}function bl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function oee(t,e,n){var r=It.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function aee(t,e,n){var r=It.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function see(t,e,n){var r=It.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function lee(t,e,n){var r=It.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function uee(t,e,n){var r=It.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function R1(t,e,n){var r=It.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function N1(t,e,n){var r=It.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function cee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fee(t,e,n){var r=It.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function hee(t,e,n){var r=It.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function M1(t,e,n){var r=It.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function dee(t,e,n){var r=It.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function D1(t,e,n){var r=It.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function pee(t,e,n){var r=It.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function mee(t,e,n){var r=It.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function gee(t,e,n){var r=It.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function vee(t,e,n){var r=It.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yee(t,e,n){var r=nee.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function _ee(t,e,n){var r=It.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function wee(t,e,n){var r=It.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function j1(t,e){return Ie(t.getDate(),e,2)}function bee(t,e){return Ie(t.getHours(),e,2)}function xee(t,e){return Ie(t.getHours()%12||12,e,2)}function Eee(t,e){return Ie(1+Mc.count(Zr(t),t),e,3)}function $N(t,e){return Ie(t.getMilliseconds(),e,3)}function See(t,e){return $N(t,e)+"000"}function Tee(t,e){return Ie(t.getMonth()+1,e,2)}function Aee(t,e){return Ie(t.getMinutes(),e,2)}function Pee(t,e){return Ie(t.getSeconds(),e,2)}function Iee(t){var e=t.getDay();return e===0?7:e}function Oee(t,e){return Ie(Kp.count(Zr(t)-1,t),e,2)}function LN(t){var e=t.getDay();return e>=4||e===0?fs(t):fs.ceil(t)}function Cee(t,e){return t=LN(t),Ie(fs.count(Zr(t),t)+(Zr(t).getDay()===4),e,2)}function kee(t){return t.getDay()}function Ree(t,e){return Ie(dd.count(Zr(t)-1,t),e,2)}function Nee(t,e){return Ie(t.getFullYear()%100,e,2)}function Mee(t,e){return t=LN(t),Ie(t.getFullYear()%100,e,2)}function Dee(t,e){return Ie(t.getFullYear()%1e4,e,4)}function jee(t,e){var n=t.getDay();return t=n>=4||n===0?fs(t):fs.ceil(t),Ie(t.getFullYear()%1e4,e,4)}function $ee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ie(e/60|0,"0",2)+Ie(e%60,"0",2)}function $1(t,e){return Ie(t.getUTCDate(),e,2)}function Lee(t,e){return Ie(t.getUTCHours(),e,2)}function Vee(t,e){return Ie(t.getUTCHours()%12||12,e,2)}function Fee(t,e){return Ie(1+qp.count(ei(t),t),e,3)}function VN(t,e){return Ie(t.getUTCMilliseconds(),e,3)}function Uee(t,e){return VN(t,e)+"000"}function Bee(t,e){return Ie(t.getUTCMonth()+1,e,2)}function zee(t,e){return Ie(t.getUTCMinutes(),e,2)}function Wee(t,e){return Ie(t.getUTCSeconds(),e,2)}function Hee(t){var e=t.getUTCDay();return e===0?7:e}function qee(t,e){return Ie(Gp.count(ei(t)-1,t),e,2)}function FN(t){var e=t.getUTCDay();return e>=4||e===0?hs(t):hs.ceil(t)}function Kee(t,e){return t=FN(t),Ie(hs.count(ei(t),t)+(ei(t).getUTCDay()===4),e,2)}function Gee(t){return t.getUTCDay()}function Xee(t,e){return Ie(pd.count(ei(t)-1,t),e,2)}function Yee(t,e){return Ie(t.getUTCFullYear()%100,e,2)}function Qee(t,e){return t=FN(t),Ie(t.getUTCFullYear()%100,e,2)}function Jee(t,e){return Ie(t.getUTCFullYear()%1e4,e,4)}function Zee(t,e){var n=t.getUTCDay();return t=n>=4||n===0?hs(t):hs.ceil(t),Ie(t.getUTCFullYear()%1e4,e,4)}function ete(){return"+0000"}function L1(){return"%"}function V1(t){return+t}function F1(t){return Math.floor(+t/1e3)}var la,UN,BN;tte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tte(t){return la=tee(t),UN=la.format,la.parse,BN=la.utcFormat,la.utcParse,la}function nte(t){return new Date(t)}function rte(t){return t instanceof Date?+t:+new Date(+t)}function ob(t,e,n,r,i,o,a,s,l,u){var f=Hw(),h=f.invert,d=f.domain,p=u(".%L"),v=u(":%S"),g=u("%I:%M"),w=u("%I %p"),y=u("%a %d"),_=u("%b %d"),b=u("%B"),I=u("%Y");function T(A){return(l(A)<A?p:s(A)<A?v:a(A)<A?g:o(A)<A?w:r(A)<A?i(A)<A?y:_:n(A)<A?b:I)(A)}return f.invert=function(A){return new Date(h(A))},f.domain=function(A){return arguments.length?d(Array.from(A,rte)):d().map(nte)},f.ticks=function(A){var x=d();return t(x[0],x[x.length-1],A??10)},f.tickFormat=function(A,x){return x==null?T:u(x)},f.nice=function(A){var x=d();return(!A||typeof A.range!="function")&&(A=e(x[0],x[x.length-1],A??10)),A?d(IN(x,A)):f},f.copy=function(){return Nc(f,ob(t,e,n,r,i,o,a,s,l,u))},f}function ite(){return Fn.apply(ob(ZZ,eee,Zr,rb,Kp,Mc,tb,Zw,_o,UN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ote(){return Fn.apply(ob(QZ,JZ,ei,ib,Gp,qp,nb,eb,_o,BN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xp(){var t=0,e=1,n,r,i,o,a=nn,s=!1,l;function u(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(o(h)-n)*i,s?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(s=!!h,u):s},u.interpolator=function(h){return arguments.length?(a=h,u):a};function f(h){return function(d){var p,v;return arguments.length?([p,v]=d,a=h(p,v),u):[a(0),a(1)]}}return u.range=f(Ws),u.rangeRound=f(Ww),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return o=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function Ji(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function zN(){var t=Qi(Xp()(nn));return t.copy=function(){return Ji(t,zN())},ai.apply(t,arguments)}function WN(){var t=Gw(Xp()).domain([1,10]);return t.copy=function(){return Ji(t,WN()).base(t.base())},ai.apply(t,arguments)}function HN(){var t=Xw(Xp());return t.copy=function(){return Ji(t,HN()).constant(t.constant())},ai.apply(t,arguments)}function ab(){var t=Yw(Xp());return t.copy=function(){return Ji(t,ab()).exponent(t.exponent())},ai.apply(t,arguments)}function ate(){return ab.apply(null,arguments).exponent(.5)}function qN(){var t=[],e=nn;function n(r){if(r!=null&&!isNaN(r=+r))return e((kc(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Li),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>qJ(t,o/r))},n.copy=function(){return qN(e).domain(t)},ai.apply(n,arguments)}function Yp(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=nn,f,h=!1,d;function p(g){return isNaN(g=+g)?d:(g=.5+((g=+f(g))-o)*(r*g<r*o?s:l),u(h?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=f(t=+t),o=f(e=+e),a=f(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(h=!!g,p):h},p.interpolator=function(g){return arguments.length?(u=g,p):u};function v(g){return function(w){var y,_,b;return arguments.length?([y,_,b]=w,u=yZ(g,[y,_,b]),p):[u(0),u(.5),u(1)]}}return p.range=v(Ws),p.rangeRound=v(Ww),p.unknown=function(g){return arguments.length?(d=g,p):d},function(g){return f=g,i=g(t),o=g(e),a=g(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function KN(){var t=Qi(Yp()(nn));return t.copy=function(){return Ji(t,KN())},ai.apply(t,arguments)}function GN(){var t=Gw(Yp()).domain([.1,1,10]);return t.copy=function(){return Ji(t,GN()).base(t.base())},ai.apply(t,arguments)}function XN(){var t=Xw(Yp());return t.copy=function(){return Ji(t,XN()).constant(t.constant())},ai.apply(t,arguments)}function sb(){var t=Yw(Yp());return t.copy=function(){return Ji(t,sb()).exponent(t.exponent())},ai.apply(t,arguments)}function ste(){return sb.apply(null,arguments).exponent(.5)}const U1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Mu,scaleDiverging:KN,scaleDivergingLog:GN,scaleDivergingPow:sb,scaleDivergingSqrt:ste,scaleDivergingSymlog:XN,scaleIdentity:PN,scaleImplicit:Ny,scaleLinear:fd,scaleLog:ON,scaleOrdinal:Uw,scalePoint:Jl,scalePow:Qw,scaleQuantile:RN,scaleQuantize:NN,scaleRadial:kN,scaleSequential:zN,scaleSequentialLog:WN,scaleSequentialPow:ab,scaleSequentialQuantile:qN,scaleSequentialSqrt:ate,scaleSequentialSymlog:HN,scaleSqrt:UZ,scaleSymlog:CN,scaleThreshold:MN,scaleTime:ite,scaleUtc:ote,tickFormat:AN},Symbol.toStringTag,{value:"Module"}));var lte=Ds;function ute(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!lte(a):n(a,s)))var s=a,l=o}return l}var YN=ute;function cte(t,e){return t>e}var fte=cte,hte=YN,dte=fte,pte=Bs;function mte(t){return t&&t.length?hte(t,pte,dte):void 0}var gte=mte;const Qp=ze(gte);function vte(t,e){return t<e}var yte=vte,_te=YN,wte=yte,bte=Bs;function xte(t){return t&&t.length?_te(t,bte,wte):void 0}var Ete=xte;const Jp=ze(Ete);var Ste=_w,Tte=zs,Ate=oN,Pte=mn;function Ite(t,e){var n=Pte(t)?Ste:Ate;return n(t,Tte(e))}var Ote=Ite,Cte=rN,kte=Ote;function Rte(t,e){return Cte(kte(t,e),1)}var Nte=Rte;const Mte=ze(Nte);var Dte=Dw;function jte(t,e){return Dte(t,e)}var $te=jte;const lb=ze($te);var Hs=1e9,Lte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cb,Qe=!0,Ln="[DecimalError] ",Ao=Ln+"Invalid argument: ",ub=Ln+"Exponent out of range: ",qs=Math.floor,fo=Math.pow,Vte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wn,Et=1e7,Ke=7,QN=9007199254740991,md=qs(QN/Ke),oe={};oe.absoluteValue=oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};oe.comparedTo=oe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};oe.decimalPlaces=oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ke;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};oe.dividedBy=oe.div=function(t){return zr(this,new this.constructor(t))};oe.dividedToIntegerBy=oe.idiv=function(t){var e=this,n=e.constructor;return Fe(zr(e,new n(t),0,1),n.precision)};oe.equals=oe.eq=function(t){return!this.cmp(t)};oe.exponent=function(){return dt(this)};oe.greaterThan=oe.gt=function(t){return this.cmp(t)>0};oe.greaterThanOrEqualTo=oe.gte=function(t){return this.cmp(t)>=0};oe.isInteger=oe.isint=function(){return this.e>this.d.length-2};oe.isNegative=oe.isneg=function(){return this.s<0};oe.isPositive=oe.ispos=function(){return this.s>0};oe.isZero=function(){return this.s===0};oe.lessThan=oe.lt=function(t){return this.cmp(t)<0};oe.lessThanOrEqualTo=oe.lte=function(t){return this.cmp(t)<1};oe.logarithm=oe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(wn))throw Error(Ln+"NaN");if(n.s<1)throw Error(Ln+(n.s?"NaN":"-Infinity"));return n.eq(wn)?new r(0):(Qe=!1,e=zr(Vu(n,o),Vu(t,o),o),Qe=!0,Fe(e,i))};oe.minus=oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?e2(e,t):JN(e,(t.s=-t.s,t))};oe.modulo=oe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ln+"NaN");return n.s?(Qe=!1,e=zr(n,t,0,1).times(t),Qe=!0,n.minus(e)):Fe(new r(n),i)};oe.naturalExponential=oe.exp=function(){return ZN(this)};oe.naturalLogarithm=oe.ln=function(){return Vu(this)};oe.negated=oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};oe.plus=oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JN(e,t):e2(e,(t.s=-t.s,t))};oe.precision=oe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ao+t);if(e=dt(i)+1,r=i.d.length-1,n=r*Ke+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};oe.squareRoot=oe.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Ln+"NaN")}for(t=dt(s),Qe=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=cr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=qs((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(zr(s,o,a+2)).times(.5),cr(o.d).slice(0,a)===(e=cr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Fe(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Qe=!0,Fe(r,n)};oe.times=oe.mul=function(t){var e,n,r,i,o,a,s,l,u,f=this,h=f.constructor,d=f.d,p=(t=new h(t)).d;if(!f.s||!t.s)return new h(0);for(t.s*=f.s,n=f.e+t.e,l=d.length,u=p.length,l<u&&(o=d,d=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*d[i-r-1]+e,o[i--]=s%Et|0,e=s/Et|0;o[i]=(o[i]+e)%Et|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Qe?Fe(t,h.precision):t};oe.toDecimalPlaces=oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(xr(t,0,Hs),e===void 0?e=r.rounding:xr(e,0,8),Fe(n,t+dt(n)+1,e))};oe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Uo(r,!0):(xr(t,0,Hs),e===void 0?e=i.rounding:xr(e,0,8),r=Fe(new i(r),t+1,e),n=Uo(r,!0,t+1)),n};oe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Uo(i):(xr(t,0,Hs),e===void 0?e=o.rounding:xr(e,0,8),r=Fe(new o(i),t+dt(i)+1,e),n=Uo(r.abs(),!1,t+dt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};oe.toInteger=oe.toint=function(){var t=this,e=t.constructor;return Fe(new e(t),dt(t)+1,e.rounding)};oe.toNumber=function(){return+this};oe.toPower=oe.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,f=+(t=new l(t));if(!t.s)return new l(wn);if(s=new l(s),!s.s){if(t.s<1)throw Error(Ln+"Infinity");return s}if(s.eq(wn))return s;if(r=l.precision,t.eq(wn))return Fe(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=f<0?-f:f)<=QN){for(i=new l(wn),e=Math.ceil(r/Ke+4),Qe=!1;n%2&&(i=i.times(s),z1(i.d,e)),n=qs(n/2),n!==0;)s=s.times(s),z1(s.d,e);return Qe=!0,t.s<0?new l(wn).div(i):Fe(i,r)}}else if(o<0)throw Error(Ln+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Qe=!1,i=t.times(Vu(s,r+u)),Qe=!0,i=ZN(i),i.s=o,i};oe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=dt(i),r=Uo(i,n<=o.toExpNeg||n>=o.toExpPos)):(xr(t,1,Hs),e===void 0?e=o.rounding:xr(e,0,8),i=Fe(new o(i),t,e),n=dt(i),r=Uo(i,t<=n||n<=o.toExpNeg,t)),r};oe.toSignificantDigits=oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(xr(t,1,Hs),e===void 0?e=r.rounding:xr(e,0,8)),Fe(new r(n),t,e)};oe.toString=oe.valueOf=oe.val=oe.toJSON=oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=dt(t),n=t.constructor;return Uo(t,e<=n.toExpNeg||e>=n.toExpPos)};function JN(t,e){var n,r,i,o,a,s,l,u,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Qe?Fe(e,h):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(h/Ke),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Et|0,l[o]%=Et;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Qe?Fe(e,h):e}function xr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ao+t)}function cr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Ke-r.length,n&&(o+=mi(n)),o+=r;a=t[e],r=a+"",n=Ke-r.length,n&&(o+=mi(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var zr=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Et|0,a=o/Et|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Et+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,f,h,d,p,v,g,w,y,_,b,I,T,A,x,E,P=r.constructor,C=r.s==i.s?1:-1,O=r.d,N=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Ln+"Division by zero");for(l=r.e-i.e,x=N.length,T=O.length,p=new P(C),v=p.d=[],u=0;N[u]==(O[u]||0);)++u;if(N[u]>(O[u]||0)&&--l,o==null?_=o=P.precision:a?_=o+(dt(r)-dt(i))+1:_=o,_<0)return new P(0);if(_=_/Ke+2|0,u=0,x==1)for(f=0,N=N[0],_++;(u<T||f)&&_--;u++)b=f*Et+(O[u]||0),v[u]=b/N|0,f=b%N|0;else{for(f=Et/(N[0]+1)|0,f>1&&(N=t(N,f),O=t(O,f),x=N.length,T=O.length),I=x,g=O.slice(0,x),w=g.length;w<x;)g[w++]=0;E=N.slice(),E.unshift(0),A=N[0],N[1]>=Et/2&&++A;do f=0,s=e(N,g,x,w),s<0?(y=g[0],x!=w&&(y=y*Et+(g[1]||0)),f=y/A|0,f>1?(f>=Et&&(f=Et-1),h=t(N,f),d=h.length,w=g.length,s=e(h,g,d,w),s==1&&(f--,n(h,x<d?E:N,d))):(f==0&&(s=f=1),h=N.slice()),d=h.length,d<w&&h.unshift(0),n(g,h,w),s==-1&&(w=g.length,s=e(N,g,x,w),s<1&&(f++,n(g,x<w?E:N,w))),w=g.length):s===0&&(f++,g=[0]),v[u++]=f,s&&g[0]?g[w++]=O[I]||0:(g=[O[I]],w=1);while((I++<T||g[0]!==void 0)&&_--)}return v[0]||v.shift(),p.e=l,Fe(p,a?o+dt(p)+1:o)}}();function ZN(t,e){var n,r,i,o,a,s,l=0,u=0,f=t.constructor,h=f.precision;if(dt(t)>16)throw Error(ub+dt(t));if(!t.s)return new f(wn);for(Qe=!1,s=h,a=new f(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(fo(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new f(wn),f.precision=s;;){if(i=Fe(i.times(t),s),n=n.times(++l),a=o.plus(zr(i,n,s)),cr(a.d).slice(0,s)===cr(o.d).slice(0,s)){for(;u--;)o=Fe(o.times(o),s);return f.precision=h,e==null?(Qe=!0,Fe(o,h)):o}o=a}}function dt(t){for(var e=t.e*Ke,n=t.d[0];n>=10;n/=10)e++;return e}function kg(t,e,n){if(e>t.LN10.sd())throw Qe=!0,n&&(t.precision=n),Error(Ln+"LN10 precision limit exceeded");return Fe(new t(t.LN10),e)}function mi(t){for(var e="";t--;)e+="0";return e}function Vu(t,e){var n,r,i,o,a,s,l,u,f,h=1,d=10,p=t,v=p.d,g=p.constructor,w=g.precision;if(p.s<1)throw Error(Ln+(p.s?"NaN":"-Infinity"));if(p.eq(wn))return new g(0);if(e==null?(Qe=!1,u=w):u=e,p.eq(10))return e==null&&(Qe=!0),kg(g,u);if(u+=d,g.precision=u,n=cr(v),r=n.charAt(0),o=dt(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=cr(p.d),r=n.charAt(0),h++;o=dt(p),r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1))}else return l=kg(g,u+2,w).times(o+""),p=Vu(new g(r+"."+n.slice(1)),u-d).plus(l),g.precision=w,e==null?(Qe=!0,Fe(p,w)):p;for(s=a=p=zr(p.minus(wn),p.plus(wn),u),f=Fe(p.times(p),u),i=3;;){if(a=Fe(a.times(f),u),l=s.plus(zr(a,new g(i),u)),cr(l.d).slice(0,u)===cr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(kg(g,u+2,w).times(o+""))),s=zr(s,new g(h),u),g.precision=w,e==null?(Qe=!0,Fe(s,w)):s;s=l,i+=2}}function B1(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=qs(n/Ke),t.d=[],r=(n+1)%Ke,n<0&&(r+=Ke),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ke;r<i;)t.d.push(+e.slice(r,r+=Ke));e=e.slice(r),r=Ke-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Qe&&(t.e>md||t.e<-md))throw Error(ub+n)}else t.s=0,t.e=0,t.d=[0];return t}function Fe(t,e,n){var r,i,o,a,s,l,u,f,h=t.d;for(a=1,o=h[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Ke,i=e,u=h[f=0];else{if(f=Math.ceil((r+1)/Ke),o=h.length,f>=o)return t;for(u=o=h[f],a=1;o>=10;o/=10)a++;r%=Ke,i=r-Ke+a}if(n!==void 0&&(o=fo(10,a-i-1),s=u/o%10|0,l=e<0||h[f+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/fo(10,a-i):0:h[f-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(o=dt(t),h.length=1,e=e-o-1,h[0]=fo(10,(Ke-e%Ke)%Ke),t.e=qs(-e/Ke)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=f,o=1,f--):(h.length=f+1,o=fo(10,Ke-r),h[f]=i>0?(u/fo(10,a-i)%fo(10,i)|0)*o:0),l)for(;;)if(f==0){(h[0]+=o)==Et&&(h[0]=1,++t.e);break}else{if(h[f]+=o,h[f]!=Et)break;h[f--]=0,o=1}for(r=h.length;h[--r]===0;)h.pop();if(Qe&&(t.e>md||t.e<-md))throw Error(ub+dt(t));return t}function e2(t,e){var n,r,i,o,a,s,l,u,f,h,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),Qe?Fe(e,p):e;if(l=t.d,h=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(f=a<0,f?(n=l,a=-a,s=h.length):(n=h,r=u,s=l.length),i=Math.max(Math.ceil(p/Ke),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=h.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(l[i]!=h[i]){f=l[i]<h[i];break}a=0}for(f&&(n=l,l=h,h=n,e.s=-e.s),s=l.length,i=h.length-s;i>0;--i)l[s++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(o=i;o&&l[--o]===0;)l[o]=Et-1;--l[o],l[i]+=Et}l[i]-=h[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Qe?Fe(e,p):e):new d(0)}function Uo(t,e,n){var r,i=dt(t),o=cr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+mi(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+mi(-i-1)+o,n&&(r=n-a)>0&&(o+=mi(r))):i>=a?(o+=mi(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+mi(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=mi(r))),t.s<0?"-"+o:o}function z1(t,e){if(t.length>e)return t.length=e,!0}function t2(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ao+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return B1(a,o.toString())}else if(typeof o!="string")throw Error(Ao+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Vte.test(o))B1(a,o);else throw Error(Ao+o)}if(i.prototype=oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=t2,i.config=i.set=Fte,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Fte(t){if(!t||typeof t!="object")throw Error(Ln+"Object expected");var e,n,r,i=["precision",1,Hs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(qs(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ao+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ao+n+": "+r);return this}var cb=t2(Lte);wn=new cb(1);const Le=cb;function Ute(t){return Hte(t)||Wte(t)||zte(t)||Bte()}function Bte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zte(t,e){if(t){if(typeof t=="string")return $y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $y(t,e)}}function Wte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Hte(t){if(Array.isArray(t))return $y(t)}function $y(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var qte=function(e){return e},n2={},r2=function(e){return e===n2},W1=function(e){return function n(){return arguments.length===0||arguments.length===1&&r2(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Kte=function t(e,n){return e===1?n:W1(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==n2}).length;return a>=e?n.apply(void 0,i):t(e-a,W1(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var f=i.map(function(h){return r2(h)?l.shift():h});return n.apply(void 0,Ute(f).concat(l))}))})},Zp=function(e){return Kte(e.length,e)},Ly=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Gte=Zp(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Xte=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return qte;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Vy=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},i2=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Yte(t){var e;return t===0?e=1:e=Math.floor(new Le(t).abs().log(10).toNumber())+1,e}function Qte(t,e,n){for(var r=new Le(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Jte=Zp(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Zte=Zp(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),ene=Zp(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const em={rangeStep:Qte,getDigitCount:Yte,interpolateNumber:Jte,uninterpolateNumber:Zte,uninterpolateTruncation:ene};function Fy(t){return rne(t)||nne(t)||o2(t)||tne()}function tne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function rne(t){if(Array.isArray(t))return Uy(t)}function Fu(t,e){return ane(t)||one(t,e)||o2(t,e)||ine()}function ine(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o2(t,e){if(t){if(typeof t=="string")return Uy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uy(t,e)}}function Uy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function one(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function ane(t){if(Array.isArray(t))return t}function a2(t){var e=Fu(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function s2(t,e,n){if(t.lte(0))return new Le(0);var r=em.getDigitCount(t.toNumber()),i=new Le(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Le(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Le(Math.ceil(l))}function sne(t,e,n){var r=1,i=new Le(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Le(10).pow(em.getDigitCount(t)-1),i=new Le(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Le(Math.floor(t)))}else t===0?i=new Le(Math.floor((e-1)/2)):n||(i=new Le(Math.floor(t)));var a=Math.floor((e-1)/2),s=Xte(Gte(function(l){return i.add(new Le(l-a).mul(r)).toNumber()}),Ly);return s(0,e)}function l2(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Le(0),tickMin:new Le(0),tickMax:new Le(0)};var o=s2(new Le(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Le(0):(a=new Le(t).add(e).div(2),a=a.sub(new Le(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Le(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?l2(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Le(s).mul(o)),tickMax:a.add(new Le(l).mul(o))})}function lne(t){var e=Fu(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=a2([n,r]),l=Fu(s,2),u=l[0],f=l[1];if(u===-1/0||f===1/0){var h=f===1/0?[u].concat(Fy(Ly(0,i-1).map(function(){return 1/0}))):[].concat(Fy(Ly(0,i-1).map(function(){return-1/0})),[f]);return n>r?Vy(h):h}if(u===f)return sne(u,i,o);var d=l2(u,f,a,o),p=d.step,v=d.tickMin,g=d.tickMax,w=em.rangeStep(v,g.add(new Le(.1).mul(p)),p);return n>r?Vy(w):w}function une(t,e){var n=Fu(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=a2([r,i]),s=Fu(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(e,2),h=s2(new Le(u).sub(l).div(f-1),o,0),d=[].concat(Fy(em.rangeStep(new Le(l),new Le(u).sub(new Le(.99).mul(h)),h)),[u]);return r>i?Vy(d):d}var cne=i2(lne),fne=i2(une),hne="Invariant failed";function Bo(t,e){throw new Error(hne)}var dne=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ds(t){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ds(t)}function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gd.apply(this,arguments)}function pne(t,e){return yne(t)||vne(t,e)||gne(t,e)||mne()}function mne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gne(t,e){if(t){if(typeof t=="string")return H1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H1(t,e)}}function H1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function yne(t){if(Array.isArray(t))return t}function _ne(t,e){if(t==null)return{};var n=wne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f2(r.key),r)}}function Ene(t,e,n){return e&&xne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sne(t,e,n){return e=vd(e),Tne(t,u2()?Reflect.construct(e,n||[],vd(t).constructor):e.apply(t,n))}function Tne(t,e){if(e&&(ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ane(t)}function Ane(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u2=function(){return!!t})()}function vd(t){return vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vd(t)}function Pne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&By(t,e)}function By(t,e){return By=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},By(t,e)}function c2(t,e,n){return e=f2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f2(t){var e=Ine(t,"string");return ds(e)=="symbol"?e:e+""}function Ine(t,e){if(ds(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tm=function(t){function e(){return bne(this,e),Sne(this,e,arguments)}return Pne(e,t),Ene(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,f=r.xAxis,h=r.yAxis,d=_ne(r,dne),p=Ne(d,!1);this.props.direction==="x"&&f.type!=="number"&&Bo();var v=l.map(function(g){var w=u(g,s),y=w.x,_=w.y,b=w.value,I=w.errorVal;if(!I)return null;var T=[],A,x;if(Array.isArray(I)){var E=pne(I,2);A=E[0],x=E[1]}else A=x=I;if(o==="vertical"){var P=f.scale,C=_+i,O=C+a,N=C-a,k=P(b-A),B=P(b+x);T.push({x1:B,y1:O,x2:B,y2:N}),T.push({x1:k,y1:C,x2:B,y2:C}),T.push({x1:k,y1:O,x2:k,y2:N})}else if(o==="horizontal"){var $=h.scale,H=y+i,q=H-a,D=H+a,z=$(b-A),G=$(b+x);T.push({x1:q,y1:G,x2:D,y2:G}),T.push({x1:H,y1:z,x2:H,y2:G}),T.push({x1:q,y1:z,x2:D,y2:z})}return V.createElement(Tt,gd({className:"recharts-errorBar",key:"bar-".concat(T.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},p),T.map(function(te){return V.createElement("line",gd({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return V.createElement(Tt,{className:"recharts-errorBars"},v)}}])}(V.Component);c2(tm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});c2(tm,"displayName","ErrorBar");function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function q1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q1(Object(n),!0).forEach(function(r){One(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function One(t,e,n){return e=Cne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cne(t){var e=kne(t,"string");return Uu(e)=="symbol"?e:e+""}function kne(t,e){if(Uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h2=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=_n(n,Fa);if(!a)return null;var s=Fa.defaultProps,l=s!==void 0?oo(oo({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(f,h){var d=h.item,p=h.props,v=p.sectors||p.data||[];return f.concat(v.map(function(g){return{type:a.props.iconType||d.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(f){var h=f.item,d=h.type.defaultProps,p=d!==void 0?oo(oo({},d),h.props):{},v=p.dataKey,g=p.name,w=p.legendType,y=p.hide;return{inactive:y,dataKey:v,type:l.iconType||w||"square",color:fb(h),value:g||v,payload:p}}),oo(oo(oo({},l),Fa.getWithHeight(a,i)),{},{payload:u,item:a})};function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function K1(t){return Dne(t)||Mne(t)||Nne(t)||Rne()}function Rne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nne(t,e){if(t){if(typeof t=="string")return zy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zy(t,e)}}function Mne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dne(t){if(Array.isArray(t))return zy(t)}function zy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G1(Object(n),!0).forEach(function(r){Ba(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ba(t,e,n){return e=jne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jne(t){var e=$ne(t,"string");return Bu(e)=="symbol"?e:e+""}function $ne(t,e){if(Bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Er(t,e,n){return Ce(t)||Ce(e)?n:_t(e)?Dn(t,e,n):xe(e)?e(t):n}function Zl(t,e,n,r){var i=Mte(t,function(s){return Er(s,e)});if(n==="number"){var o=i.filter(function(s){return re(s)||parseFloat(s)});return o.length?[Jp(o),Qp(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Ce(s)}):i;return a.map(function(s){return _t(s)||s instanceof Date?s:""})}var Lne=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var f=u>0?i[u-1].coordinate:i[s-1].coordinate,h=i[u].coordinate,d=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Xn(h-f)!==Xn(d-h)){var v=[];if(Xn(d-h)===Xn(l[1]-l[0])){p=d;var g=h+l[1]-l[0];v[0]=Math.min(g,(g+f)/2),v[1]=Math.max(g,(g+f)/2)}else{p=f;var w=d+l[1]-l[0];v[0]=Math.min(h,(w+h)/2),v[1]=Math.max(h,(w+h)/2)}var y=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(e>y[0]&&e<=y[1]||e>=v[0]&&e<=v[1]){a=i[u].index;break}}else{var _=Math.min(f,d),b=Math.max(f,d);if(e>(_+h)/2&&e<=(b+h)/2){a=i[u].index;break}}}else for(var I=0;I<s;I++)if(I===0&&e<=(r[I].coordinate+r[I+1].coordinate)/2||I>0&&I<s-1&&e>(r[I].coordinate+r[I-1].coordinate)/2&&e<=(r[I].coordinate+r[I+1].coordinate)/2||I===s-1&&e>(r[I].coordinate+r[I-1].coordinate)/2){a=r[I].index;break}return a},fb=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?st(st({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Vne=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var f=o[s[l]].stackGroups,h=Object.keys(f),d=0,p=h.length;d<p;d++){var v=f[h[d]],g=v.items,w=v.cateAxisId,y=g.filter(function(x){return Br(x.type).indexOf("Bar")>=0});if(y&&y.length){var _=y[0].type.defaultProps,b=_!==void 0?st(st({},_),y[0].props):y[0].props,I=b.barSize,T=b[w];a[T]||(a[T]=[]);var A=Ce(I)?n:I;a[T].push({item:y[0],stackList:y.slice(1),barSize:Ce(A)?void 0:Fo(A,r,0)})}}return a},Fne=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Fo(n,i,0,!0),f,h=[];if(a[0].barSize===+a[0].barSize){var d=!1,p=i/l,v=a.reduce(function(I,T){return I+T.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&p>0&&(d=!0,p*=.9,v=l*p);var g=(i-v)/2>>0,w={offset:g-u,size:0};f=a.reduce(function(I,T){var A={item:T.item,position:{offset:w.offset+w.size+u,size:d?p:T.barSize}},x=[].concat(K1(I),[A]);return w=x[x.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){x.push({item:E,position:w})}),x},h)}else{var y=Fo(r,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var _=(i-2*y-(l-1)*u)/l;_>1&&(_>>=0);var b=s===+s?Math.min(_,s):_;f=a.reduce(function(I,T,A){var x=[].concat(K1(I),[{item:T.item,position:{offset:y+(_+u)*A+(_-b)/2,size:b}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){x.push({item:E,position:x[x.length-1].position})}),x},h)}return f},Une=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=h2({children:o,legendWidth:l});if(u){var f=i||{},h=f.width,d=f.height,p=u.align,v=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&p!=="center"&&re(e[p]))return st(st({},e),{},Ba({},p,e[p]+(h||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&v!=="middle"&&re(e[v]))return st(st({},e),{},Ba({},v,e[v]+(d||0)))}return e},Bne=function(e,n,r){return Ce(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},d2=function(e,n,r,i,o){var a=n.props.children,s=Zn(a,tm).filter(function(u){return Bne(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var h=Er(f,r);if(Ce(h))return u;var d=Array.isArray(h)?[Jp(h),Qp(h)]:[h,h],p=l.reduce(function(v,g){var w=Er(f,g,0),y=d[0]-Math.abs(Array.isArray(w)?w[0]:w),_=d[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(y,v[0]),Math.max(_,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},zne=function(e,n,r,i,o){var a=n.map(function(s){return d2(e,s,r,o,i)}).filter(function(s){return!Ce(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},p2=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&d2(e,l,u,i)||Zl(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var f=0,h=u.length;f<h;f++)s[u[f]]||(s[u[f]]=!0,l.push(u[f]));return l},[])},m2=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},wo=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Xn(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(h){var d=o?o.indexOf(h):h;return{coordinate:i(d)+u,value:h,offset:u}});return f.filter(function(h){return!Oc(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,d){return{coordinate:i(h)+u,value:h,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,d){return{coordinate:i(h)+u,value:o?o[h]:h,index:d,offset:u}})},Rg=new WeakMap,Of=function(e,n){if(typeof n!="function")return e;Rg.has(e)||Rg.set(e,new WeakMap);var r=Rg.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Wne=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Mu(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:fd(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Jl(),realScaleType:"point"}:o==="category"?{scale:Mu(),realScaleType:"band"}:{scale:fd(),realScaleType:"linear"};if(Vo(i)){var l="scale".concat(Lp(i));return{scale:(U1[l]||Jl)(),realScaleType:U1[l]?l:"point"}}return xe(i)?{scale:i}:{scale:Jl(),realScaleType:"point"}},X1=1e-4,Hne=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-X1,a=Math.max(i[0],i[1])+X1,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},qne=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Kne=function(e,n){if(!n||n.length!==2||!re(n[0])||!re(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!re(e[0])||e[0]<r)&&(o[0]=r),(!re(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Gne=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Oc(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},Xne=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Oc(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Yne={sign:Gne,expand:uW,none:os,silhouette:cW,wiggle:fW,positive:Xne},Qne=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=Yne[r],a=lW().keys(i).value(function(s,l){return+Er(s,l,0)}).order(py).offset(o);return a(e)},Jne=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(h,d){var p,v=(p=d.type)!==null&&p!==void 0&&p.defaultProps?st(st({},d.type.defaultProps),d.props):d.props,g=v.stackId,w=v.hide;if(w)return h;var y=v[r],_=h[y]||{hasStack:!1,stackGroups:{}};if(_t(g)){var b=_.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(d),_.hasStack=!0,_.stackGroups[g]=b}else _.stackGroups[$p("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return st(st({},h),{},Ba({},y,_))},l),f={};return Object.keys(u).reduce(function(h,d){var p=u[d];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,w){var y=p.stackGroups[w];return st(st({},g),{},Ba({},w,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:Qne(e,y.items,o)}))},v)}return st(st({},h),{},Ba({},d,p))},f)},Zne=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=cne(u,o,s);return e.domain([Jp(f),Qp(f)]),{niceTicks:f}}if(o&&i==="number"){var h=e.domain(),d=fne(h,o,s);return{niceTicks:d}}return null},Y1=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Er(a,n.dataKey,n.domain[s]);return Ce(l)?null:n.scale(l)-o/2+i},ere=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},tre=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?st(st({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(_t(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},nre=function(e){return e.reduce(function(n,r){return[Jp(r.concat([n[0]]).filter(re)),Qp(r.concat([n[1]]).filter(re))]},[1/0,-1/0])},g2=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,f){var h=nre(f.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Q1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,J1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Wy=function(e,n,r){if(xe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(re(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Q1.test(e[0])){var o=+Q1.exec(e[0])[1];i[0]=n[0]-o}else xe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(re(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(J1.test(e[1])){var a=+J1.exec(e[1])[1];i[1]=n[1]+a}else xe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},yd=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=$w(n,function(h){return h.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],f=o[s-1];a=Math.min((u.coordinate||0)-(f.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},Z1=function(e,n,r){return!e||!e.length||lb(e,Dn(r,"type.defaultProps.domain"))?n:e},v2=function(e,n){var r=e.type.defaultProps?st(st({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,f=r.hide;return st(st({},Ne(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:fb(e),value:Er(n,i),type:l,payload:n,chartType:u,hide:f})};function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function eA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eA(Object(n),!0).forEach(function(r){rre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rre(t,e,n){return e=ire(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ire(t){var e=ore(t,"string");return zu(e)=="symbol"?e:e+""}function ore(t,e){if(zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _d=Math.PI/180,are=function(e){return e*180/Math.PI},Mt=function(e,n,r,i){return{x:e+Math.cos(-_d*i)*r,y:n+Math.sin(-_d*i)*r}},sre=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},lre=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=sre({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:are(u),angleInRadian:u}},ure=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},cre=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},nA=function(e,n){var r=e.x,i=e.y,o=lre({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var f=ure(n),h=f.startAngle,d=f.endAngle,p=s,v;if(h<=d){for(;p>d;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=d}else{for(;p>h;)p-=360;for(;p<d;)p+=360;v=p>=d&&p<=h}return v?tA(tA({},n),{},{radius:a,angle:cre(p,n)}):null};function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}var fre=["offset"];function hre(t){return gre(t)||mre(t)||pre(t)||dre()}function dre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pre(t,e){if(t){if(typeof t=="string")return Hy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hy(t,e)}}function mre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gre(t){if(Array.isArray(t))return Hy(t)}function Hy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vre(t,e){if(t==null)return{};var n=yre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rA(Object(n),!0).forEach(function(r){_re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _re(t,e,n){return e=wre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wre(t){var e=bre(t,"string");return Wu(e)=="symbol"?e:e+""}function bre(t,e){if(Wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hu.apply(this,arguments)}var xre=function(e){var n=e.value,r=e.formatter,i=Ce(e.children)?n:e.children;return xe(r)?r(i):i},Ere=function(e,n){var r=Xn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Sre=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,f=l.cy,h=l.innerRadius,d=l.outerRadius,p=l.startAngle,v=l.endAngle,g=l.clockWise,w=(h+d)/2,y=Ere(p,v),_=y>=0?1:-1,b,I;i==="insideStart"?(b=p+_*a,I=g):i==="insideEnd"?(b=v-_*a,I=!g):i==="end"&&(b=v+_*a,I=g),I=y<=0?I:!I;var T=Mt(u,f,w,b),A=Mt(u,f,w,b+(I?1:-1)*359),x="M".concat(T.x,",").concat(T.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(I?0:1,`,
    `).concat(A.x,",").concat(A.y),E=Ce(e.id)?$p("recharts-radial-line-"):e.id;return V.createElement("text",Hu({},r,{dominantBaseline:"central",className:Oe("recharts-radial-bar-label",s)}),V.createElement("defs",null,V.createElement("path",{id:E,d:x})),V.createElement("textPath",{xlinkHref:"#".concat(E)},n))},Tre=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,f=o.startAngle,h=o.endAngle,d=(f+h)/2;if(i==="outside"){var p=Mt(a,s,u+r,d),v=p.x,g=p.y;return{x:v,y:g,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var w=(l+u)/2,y=Mt(a,s,w,d),_=y.x,b=y.y;return{x:_,y:b,textAnchor:"middle",verticalAnchor:"middle"}},Are=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,f=a.height,h=f>=0?1:-1,d=h*i,p=h>0?"end":"start",v=h>0?"start":"end",g=u>=0?1:-1,w=g*i,y=g>0?"end":"start",_=g>0?"start":"end";if(o==="top"){var b={x:s+u/2,y:l-h*i,textAnchor:"middle",verticalAnchor:p};return mt(mt({},b),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var I={x:s+u/2,y:l+f+d,textAnchor:"middle",verticalAnchor:v};return mt(mt({},I),r?{height:Math.max(r.y+r.height-(l+f),0),width:u}:{})}if(o==="left"){var T={x:s-w,y:l+f/2,textAnchor:y,verticalAnchor:"middle"};return mt(mt({},T),r?{width:Math.max(T.x-r.x,0),height:f}:{})}if(o==="right"){var A={x:s+u+w,y:l+f/2,textAnchor:_,verticalAnchor:"middle"};return mt(mt({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:f}:{})}var x=r?{width:u,height:f}:{};return o==="insideLeft"?mt({x:s+w,y:l+f/2,textAnchor:_,verticalAnchor:"middle"},x):o==="insideRight"?mt({x:s+u-w,y:l+f/2,textAnchor:y,verticalAnchor:"middle"},x):o==="insideTop"?mt({x:s+u/2,y:l+d,textAnchor:"middle",verticalAnchor:v},x):o==="insideBottom"?mt({x:s+u/2,y:l+f-d,textAnchor:"middle",verticalAnchor:p},x):o==="insideTopLeft"?mt({x:s+w,y:l+d,textAnchor:_,verticalAnchor:v},x):o==="insideTopRight"?mt({x:s+u-w,y:l+d,textAnchor:y,verticalAnchor:v},x):o==="insideBottomLeft"?mt({x:s+w,y:l+f-d,textAnchor:_,verticalAnchor:p},x):o==="insideBottomRight"?mt({x:s+u-w,y:l+f-d,textAnchor:y,verticalAnchor:p},x):js(o)&&(re(o.x)||vo(o.x))&&(re(o.y)||vo(o.y))?mt({x:s+Fo(o.x,u),y:l+Fo(o.y,f),textAnchor:"end",verticalAnchor:"end"},x):mt({x:s+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},x)},Pre=function(e){return"cx"in e&&re(e.cx)};function Yt(t){var e=t.offset,n=e===void 0?5:e,r=vre(t,fre),i=mt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,f=i.className,h=f===void 0?"":f,d=i.textBreakAll;if(!o||Ce(s)&&Ce(l)&&!U.isValidElement(u)&&!xe(u))return null;if(U.isValidElement(u))return U.cloneElement(u,i);var p;if(xe(u)){if(p=U.createElement(u,i),U.isValidElement(p))return p}else p=xre(i);var v=Pre(o),g=Ne(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Sre(i,p,g);var w=v?Tre(i):Are(i);return V.createElement(id,Hu({className:Oe("recharts-label",h)},g,w,{breakAll:d}),p)}Yt.displayName="Label";var y2=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,f=e.outerRadius,h=e.x,d=e.y,p=e.top,v=e.left,g=e.width,w=e.height,y=e.clockWise,_=e.labelViewBox;if(_)return _;if(re(g)&&re(w)){if(re(h)&&re(d))return{x:h,y:d,width:g,height:w};if(re(p)&&re(v))return{x:p,y:v,width:g,height:w}}return re(h)&&re(d)?{x:h,y:d,width:0,height:0}:re(n)&&re(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:f||l||s||0,clockWise:y}:e.viewBox?e.viewBox:{}},Ire=function(e,n){return e?e===!0?V.createElement(Yt,{key:"label-implicit",viewBox:n}):_t(e)?V.createElement(Yt,{key:"label-implicit",viewBox:n,value:e}):U.isValidElement(e)?e.type===Yt?U.cloneElement(e,{key:"label-implicit",viewBox:n}):V.createElement(Yt,{key:"label-implicit",content:e,viewBox:n}):xe(e)?V.createElement(Yt,{key:"label-implicit",content:e,viewBox:n}):js(e)?V.createElement(Yt,Hu({viewBox:n},e,{key:"label-implicit"})):null:null},Ore=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=y2(e),a=Zn(i,Yt).map(function(l,u){return U.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Ire(e.label,n||o);return[s].concat(hre(a))};Yt.parseViewBox=y2;Yt.renderCallByParent=Ore;function Cre(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var kre=Cre;const Rre=ze(kre);function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}var Nre=["valueAccessor"],Mre=["data","dataKey","clockWise","id","textBreakAll"];function Dre(t){return Vre(t)||Lre(t)||$re(t)||jre()}function jre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $re(t,e){if(t){if(typeof t=="string")return qy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qy(t,e)}}function Lre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vre(t){if(Array.isArray(t))return qy(t)}function qy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wd(){return wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wd.apply(this,arguments)}function iA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iA(Object(n),!0).forEach(function(r){Fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fre(t,e,n){return e=Ure(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ure(t){var e=Bre(t,"string");return qu(e)=="symbol"?e:e+""}function Bre(t,e){if(qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aA(t,e){if(t==null)return{};var n=zre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Wre=function(e){return Array.isArray(e.value)?Rre(e.value):e.value};function Po(t){var e=t.valueAccessor,n=e===void 0?Wre:e,r=aA(t,Nre),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=aA(r,Mre);return!i||!i.length?null:V.createElement(Tt,{className:"recharts-label-list"},i.map(function(f,h){var d=Ce(o)?n(f,h):Er(f&&f.payload,o),p=Ce(s)?{}:{id:"".concat(s,"-").concat(h)};return V.createElement(Yt,wd({},Ne(f,!0),u,p,{parentViewBox:f.parentViewBox,value:d,textBreakAll:l,viewBox:Yt.parseViewBox(Ce(a)?f:oA(oA({},f),{},{clockWise:a})),key:"label-".concat(h),index:h}))}))}Po.displayName="LabelList";function Hre(t,e){return t?t===!0?V.createElement(Po,{key:"labelList-implicit",data:e}):V.isValidElement(t)||xe(t)?V.createElement(Po,{key:"labelList-implicit",data:e,content:t}):js(t)?V.createElement(Po,wd({data:e},t,{key:"labelList-implicit"})):null:null}function qre(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Zn(r,Po).map(function(a,s){return U.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=Hre(t.label,e);return[o].concat(Dre(i))}Po.renderCallByParent=qre;function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function Ky(){return Ky=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ky.apply(this,arguments)}function sA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sA(Object(n),!0).forEach(function(r){Kre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kre(t,e,n){return e=Gre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gre(t){var e=Xre(t,"string");return Ku(e)=="symbol"?e:e+""}function Xre(t,e){if(Ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yre=function(e,n){var r=Xn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Cf=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,f=l*(s?1:-1)+i,h=Math.asin(l/f)/_d,d=u?o:o+a*h,p=Mt(n,r,f,d),v=Mt(n,r,i,d),g=u?o-a*h:o,w=Mt(n,r,f*Math.cos(h*_d),g);return{center:p,circleTangency:v,lineTangency:w,theta:h}},_2=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=Yre(a,s),u=a+l,f=Mt(n,r,o,a),h=Mt(n,r,o,u),d="M ".concat(f.x,",").concat(f.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var p=Mt(n,r,i,a),v=Mt(n,r,i,u);d+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},Qre=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,h=Xn(f-u),d=Cf({cx:n,cy:r,radius:o,angle:u,sign:h,cornerRadius:a,cornerIsExternal:l}),p=d.circleTangency,v=d.lineTangency,g=d.theta,w=Cf({cx:n,cy:r,radius:o,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:l}),y=w.circleTangency,_=w.lineTangency,b=w.theta,I=l?Math.abs(u-f):Math.abs(u-f)-g-b;if(I<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):_2({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:f});var T="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(I>180),",").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var A=Cf({cx:n,cy:r,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),x=A.circleTangency,E=A.lineTangency,P=A.theta,C=Cf({cx:n,cy:r,radius:i,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=C.circleTangency,N=C.lineTangency,k=C.theta,B=l?Math.abs(u-f):Math.abs(u-f)-P-k;if(B<0&&a===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(h>0),",").concat(x.x,",").concat(x.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},Jre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},w2=function(e){var n=lA(lA({},Jre),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,f=n.startAngle,h=n.endAngle,d=n.className;if(a<o||f===h)return null;var p=Oe("recharts-sector",d),v=a-o,g=Fo(s,v,0,!0),w;return g>0&&Math.abs(f-h)<360?w=Qre({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h}):w=_2({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:f,endAngle:h}),V.createElement("path",Ky({},Ne(n,!0),{className:p,d:w,role:"img"}))};function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function Gy(){return Gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gy.apply(this,arguments)}function uA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uA(Object(n),!0).forEach(function(r){Zre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zre(t,e,n){return e=eie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eie(t){var e=tie(t,"string");return Gu(e)=="symbol"?e:e+""}function tie(t,e){if(Gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fA={curveBasisClosed:Q8,curveBasisOpen:J8,curveBasis:Y8,curveBumpX:j8,curveBumpY:$8,curveLinearClosed:Z8,curveLinear:Fp,curveMonotoneX:eW,curveMonotoneY:tW,curveNatural:nW,curveStep:rW,curveStepAfter:oW,curveStepBefore:iW},kf=function(e){return e.x===+e.x&&e.y===+e.y},xl=function(e){return e.x},El=function(e){return e.y},nie=function(e,n){if(xe(e))return e;var r="curve".concat(Lp(e));return(r==="curveMonotone"||r==="curveBump")&&n?fA["".concat(r).concat(n==="vertical"?"Y":"X")]:fA[r]||Fp},rie=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,f=nie(r,s),h=u?o.filter(function(g){return kf(g)}):o,d;if(Array.isArray(a)){var p=u?a.filter(function(g){return kf(g)}):a,v=h.map(function(g,w){return cA(cA({},g),{},{base:p[w]})});return s==="vertical"?d=bf().y(El).x1(xl).x0(function(g){return g.base.x}):d=bf().x(xl).y1(El).y0(function(g){return g.base.y}),d.defined(kf).curve(f),d(v)}return s==="vertical"&&re(a)?d=bf().y(El).x1(xl).x0(a):re(a)?d=bf().x(xl).y1(El).y0(a):d=ER().x(xl).y(El),d.defined(kf).curve(f),d(h)},hA=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?rie(e):i;return U.createElement("path",Gy({},Ne(e,!1),zh(e),{className:Oe("recharts-curve",n),d:a,ref:o}))},b2={exports:{}},iie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oie=iie,aie=oie;function x2(){}function E2(){}E2.resetWarningCache=x2;var sie=function(){function t(r,i,o,a,s,l){if(l!==aie){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:E2,resetWarningCache:x2};return n.PropTypes=n,n};b2.exports=sie();var lie=b2.exports;const Re=ze(lie);var uie=Object.getOwnPropertyNames,cie=Object.getOwnPropertySymbols,fie=Object.prototype.hasOwnProperty;function dA(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Rf(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function hie(t){return t!=null?t[Symbol.toStringTag]:void 0}function pA(t){return uie(t).concat(cie(t))}var die=Object.hasOwn||function(t,e){return fie.call(t,e)};function Qo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var pie="__v",mie="__o",gie="_owner",mA=Object.getOwnPropertyDescriptor,gA=Object.keys;function vie(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function yie(t,e){return Qo(t.getTime(),e.getTime())}function _ie(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function wie(t,e){return t===e}function vA(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var u=e.entries(),f=!1,h=0;(s=u.next())&&!s.done;){if(i[h]){h++;continue}var d=a.value,p=s.value;if(n.equals(d[0],p[0],l,h,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1;l++}return!0}var bie=Qo;function xie(t,e,n){var r=gA(t),i=r.length;if(gA(e).length!==i)return!1;for(;i-- >0;)if(!S2(t,e,n,r[i]))return!1;return!0}function Sl(t,e,n){var r=pA(t),i=r.length;if(pA(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!S2(t,e,n,o)||(a=mA(t,o),s=mA(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Eie(t,e){return Qo(t.valueOf(),e.valueOf())}function Sie(t,e){return t.source===e.source&&t.flags===e.flags}function yA(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),u=!1,f=0;(s=l.next())&&!s.done;){if(!i[f]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function Tie(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Aie(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function S2(t,e,n,r){return(r===gie||r===mie||r===pie)&&(t.$$typeof||e.$$typeof)?!0:die(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Pie="[object Arguments]",Iie="[object Boolean]",Oie="[object Date]",Cie="[object Error]",kie="[object Map]",Rie="[object Number]",Nie="[object Object]",Mie="[object RegExp]",Die="[object Set]",jie="[object String]",$ie="[object URL]",Lie=Array.isArray,_A=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,wA=Object.assign,Vie=Object.prototype.toString.call.bind(Object.prototype.toString);function Fie(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,h=t.areTypedArraysEqual,d=t.areUrlsEqual,p=t.unknownTagComparators;return function(g,w,y){if(g===w)return!0;if(g==null||w==null)return!1;var _=typeof g;if(_!==typeof w)return!1;if(_!=="object")return _==="number"?a(g,w,y):_==="function"?i(g,w,y):!1;var b=g.constructor;if(b!==w.constructor)return!1;if(b===Object)return s(g,w,y);if(Lie(g))return e(g,w,y);if(_A!=null&&_A(g))return h(g,w,y);if(b===Date)return n(g,w,y);if(b===RegExp)return u(g,w,y);if(b===Map)return o(g,w,y);if(b===Set)return f(g,w,y);var I=Vie(g);if(I===Oie)return n(g,w,y);if(I===Mie)return u(g,w,y);if(I===kie)return o(g,w,y);if(I===Die)return f(g,w,y);if(I===Nie)return typeof g.then!="function"&&typeof w.then!="function"&&s(g,w,y);if(I===$ie)return d(g,w,y);if(I===Cie)return r(g,w,y);if(I===Pie)return s(g,w,y);if(I===Iie||I===Rie||I===jie)return l(g,w,y);if(p){var T=p[I];if(!T){var A=hie(g);A&&(T=p[A])}if(T)return T(g,w,y)}return!1}}function Uie(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Sl:vie,areDatesEqual:yie,areErrorsEqual:_ie,areFunctionsEqual:wie,areMapsEqual:r?dA(vA,Sl):vA,areNumbersEqual:bie,areObjectsEqual:r?Sl:xie,arePrimitiveWrappersEqual:Eie,areRegExpsEqual:Sie,areSetsEqual:r?dA(yA,Sl):yA,areTypedArraysEqual:r?Sl:Tie,areUrlsEqual:Aie,unknownTagComparators:void 0};if(n&&(i=wA({},i,n(i))),e){var o=Rf(i.areArraysEqual),a=Rf(i.areMapsEqual),s=Rf(i.areObjectsEqual),l=Rf(i.areSetsEqual);i=wA({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function Bie(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function zie(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var f=r(),h=f.cache,d=h===void 0?e?new WeakMap:void 0:h,p=f.meta;return n(l,u,{cache:d,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var Wie=Zi();Zi({strict:!0});Zi({circular:!0});Zi({circular:!0,strict:!0});Zi({createInternalComparator:function(){return Qo}});Zi({strict:!0,createInternalComparator:function(){return Qo}});Zi({circular:!0,createInternalComparator:function(){return Qo}});Zi({circular:!0,createInternalComparator:function(){return Qo},strict:!0});function Zi(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=Uie(t),l=Fie(s),u=r?r(l):Bie(l);return zie({circular:n,comparator:l,createState:i,equals:u,strict:a})}function Hie(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function bA(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Hie(i)};requestAnimationFrame(r)}function Xy(t){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xy(t)}function qie(t){return Yie(t)||Xie(t)||Gie(t)||Kie()}function Kie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gie(t,e){if(t){if(typeof t=="string")return xA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xA(t,e)}}function xA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yie(t){if(Array.isArray(t))return t}function Qie(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=qie(a),l=s[0],u=s.slice(1);if(typeof l=="number"){bA(i.bind(null,u),l);return}i(l),bA(i.bind(null,u));return}Xy(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function EA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EA(Object(n),!0).forEach(function(r){T2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T2(t,e,n){return e=Jie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jie(t){var e=Zie(t,"string");return Xu(e)==="symbol"?e:String(e)}function Zie(t,e){if(Xu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eoe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},toe=function(e){return e},noe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},eu=function(e,n){return Object.keys(n).reduce(function(r,i){return SA(SA({},r),{},T2({},i,e(i,n[i])))},{})},TA=function(e,n,r){return e.map(function(i){return"".concat(noe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function roe(t,e){return aoe(t)||ooe(t,e)||A2(t,e)||ioe()}function ioe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ooe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function aoe(t){if(Array.isArray(t))return t}function soe(t){return coe(t)||uoe(t)||A2(t)||loe()}function loe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A2(t,e){if(t){if(typeof t=="string")return Yy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yy(t,e)}}function uoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function coe(t){if(Array.isArray(t))return Yy(t)}function Yy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bd=1e-4,P2=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},I2=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},AA=function(e,n){return function(r){var i=P2(e,n);return I2(i,r)}},foe=function(e,n){return function(r){var i=P2(e,n),o=[].concat(soe(i.map(function(a,s){return a*s}).slice(1)),[0]);return I2(o,r)}},PA=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),f=roe(u,4);i=f[0],o=f[1],a=f[2],s=f[3]}}}var h=AA(i,a),d=AA(o,s),p=foe(i,a),v=function(y){return y>1?1:y<0?0:y},g=function(y){for(var _=y>1?1:y,b=_,I=0;I<8;++I){var T=h(b)-_,A=p(b);if(Math.abs(T-_)<bd||A<bd)return d(b);b=v(b-T/A)}return d(b)};return g.isStepper=!1,g},hoe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(f,h,d){var p=-(f-h)*r,v=d*o,g=d+(p-v)*s/1e3,w=d*s/1e3+f;return Math.abs(w-h)<bd&&Math.abs(g)<bd?[h,0]:[w,g]};return l.isStepper=!0,l.dt=s,l},doe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return PA(i);case"spring":return hoe();default:if(i.split("(")[0]==="cubic-bezier")return PA(i)}return typeof i=="function"?i:null};function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function IA(t){return goe(t)||moe(t)||O2(t)||poe()}function poe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function moe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function goe(t){if(Array.isArray(t))return Jy(t)}function OA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OA(Object(n),!0).forEach(function(r){Qy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qy(t,e,n){return e=voe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function voe(t){var e=yoe(t,"string");return Yu(e)==="symbol"?e:String(e)}function yoe(t,e){if(Yu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _oe(t,e){return xoe(t)||boe(t,e)||O2(t,e)||woe()}function woe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O2(t,e){if(t){if(typeof t=="string")return Jy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jy(t,e)}}function Jy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function boe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function xoe(t){if(Array.isArray(t))return t}var xd=function(e,n,r){return e+(n-e)*r},Zy=function(e){var n=e.from,r=e.to;return n!==r},Eoe=function t(e,n,r){var i=eu(function(o,a){if(Zy(a)){var s=e(a.from,a.to,a.velocity),l=_oe(s,2),u=l[0],f=l[1];return Ct(Ct({},a),{},{from:u,velocity:f})}return a},n);return r<1?eu(function(o,a){return Zy(a)?Ct(Ct({},a),{},{velocity:xd(a.velocity,i[o].velocity,r),from:xd(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Soe=function(t,e,n,r,i){var o=eoe(t,e),a=o.reduce(function(w,y){return Ct(Ct({},w),{},Qy({},y,[t[y],e[y]]))},{}),s=o.reduce(function(w,y){return Ct(Ct({},w),{},Qy({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,u,f,h=function(){return null},d=function(){return eu(function(y,_){return _.from},s)},p=function(){return!Object.values(s).filter(Zy).length},v=function(y){u||(u=y);var _=y-u,b=_/n.dt;s=Eoe(n,s,b),i(Ct(Ct(Ct({},t),e),d())),u=y,p()||(l=requestAnimationFrame(h))},g=function(y){f||(f=y);var _=(y-f)/r,b=eu(function(T,A){return xd.apply(void 0,IA(A).concat([n(_)]))},a);if(i(Ct(Ct(Ct({},t),e),b)),_<1)l=requestAnimationFrame(h);else{var I=eu(function(T,A){return xd.apply(void 0,IA(A).concat([n(1)]))},a);i(Ct(Ct(Ct({},t),e),I))}};return h=n.isStepper?v:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}};function ps(t){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ps(t)}var Toe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Aoe(t,e){if(t==null)return{};var n=Poe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Poe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ng(t){return koe(t)||Coe(t)||Ooe(t)||Ioe()}function Ioe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ooe(t,e){if(t){if(typeof t=="string")return e0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e0(t,e)}}function Coe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function koe(t){if(Array.isArray(t))return e0(t)}function e0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CA(Object(n),!0).forEach(function(r){jl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jl(t,e,n){return e=C2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Roe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Noe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C2(r.key),r)}}function Moe(t,e,n){return e&&Noe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function C2(t){var e=Doe(t,"string");return ps(e)==="symbol"?e:String(e)}function Doe(t,e){if(ps(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ps(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function joe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t0(t,e)}function t0(t,e){return t0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t0(t,e)}function $oe(t){var e=Loe();return function(){var r=Ed(t),i;if(e){var o=Ed(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return n0(this,i)}}function n0(t,e){if(e&&(ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r0(t)}function r0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Loe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ed(t){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ed(t)}var Wi=function(t){joe(n,t);var e=$oe(n);function n(r,i){var o;Roe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,f=a.to,h=a.steps,d=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(r0(o)),o.changeStyle=o.changeStyle.bind(r0(o)),!s||p<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:f}),n0(o);if(h&&h.length)o.state={style:h[0].style};else if(u){if(typeof d=="function")return o.state={style:u},n0(o);o.state={style:l?jl({},l,u):u}}else o.state={style:{}};return o}return Moe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,f=o.to,h=o.from,d=this.state.style;if(s){if(!a){var p={style:l?jl({},l,f):f};this.state&&d&&(l&&d[l]!==f||!l&&d!==f)&&this.setState(p);return}if(!(Wie(i.to,f)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||u?h:i.to;if(this.state&&d){var w={style:l?jl({},l,g):g};(l&&d[l]!==g||!l&&d!==g)&&this.setState(w)}this.runAnimation(zn(zn({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,f=i.begin,h=i.onAnimationEnd,d=i.onAnimationStart,p=Soe(a,s,doe(u),l,this.changeStyle),v=function(){o.stopJSAnimation=p()};this.manager.start([d,f,v,l,h])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],f=u.style,h=u.duration,d=h===void 0?0:h,p=function(g,w,y){if(y===0)return g;var _=w.duration,b=w.easing,I=b===void 0?"ease":b,T=w.style,A=w.properties,x=w.onAnimationEnd,E=y>0?a[y-1]:w,P=A||Object.keys(T);if(typeof I=="function"||I==="spring")return[].concat(Ng(g),[o.runJSAnimation.bind(o,{from:E.style,to:T,duration:_,easing:I}),_]);var C=TA(P,_,I),O=zn(zn(zn({},E.style),T),{},{transition:C});return[].concat(Ng(g),[O,_,x]).filter(toe)};return this.manager.start([l].concat(Ng(a.reduce(p,[f,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Qie());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,f=i.onAnimationStart,h=i.onAnimationEnd,d=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=s?jl({},s,l):l,w=TA(Object.keys(g),a,u);v.start([f,o,zn(zn({},g),{},{transition:w}),a,h])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Aoe(i,Toe),u=U.Children.count(o),f=this.state.style;if(typeof o=="function")return o(f);if(!s||u===0||a<=0)return o;var h=function(p){var v=p.props,g=v.style,w=g===void 0?{}:g,y=v.className,_=U.cloneElement(p,zn(zn({},l),{},{style:zn(zn({},w),f),className:y}));return _};return u===1?h(U.Children.only(o)):V.createElement("div",null,U.Children.map(o,function(d){return h(d)}))}}]),n}(U.PureComponent);Wi.displayName="Animate";Wi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Wi.propTypes={from:Re.oneOfType([Re.object,Re.string]),to:Re.oneOfType([Re.object,Re.string]),attributeName:Re.string,duration:Re.number,begin:Re.number,easing:Re.oneOfType([Re.string,Re.func]),steps:Re.arrayOf(Re.shape({duration:Re.number.isRequired,style:Re.object.isRequired,easing:Re.oneOfType([Re.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Re.func]),properties:Re.arrayOf("string"),onAnimationEnd:Re.func})),children:Re.oneOfType([Re.node,Re.func]),isActive:Re.bool,canBegin:Re.bool,onAnimationEnd:Re.func,shouldReAnimate:Re.bool,onAnimationStart:Re.func,onAnimationReStart:Re.func};function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function Sd(){return Sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sd.apply(this,arguments)}function Voe(t,e){return zoe(t)||Boe(t,e)||Uoe(t,e)||Foe()}function Foe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uoe(t,e){if(t){if(typeof t=="string")return kA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kA(t,e)}}function kA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Boe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function zoe(t){if(Array.isArray(t))return t}function RA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RA(Object(n),!0).forEach(function(r){Woe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Woe(t,e,n){return e=Hoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hoe(t){var e=qoe(t,"string");return Qu(e)=="symbol"?e:e+""}function qoe(t,e){if(Qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MA=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,f;if(a>0&&o instanceof Array){for(var h=[0,0,0,0],d=0,p=4;d<p;d++)h[d]=o[d]>a?a:o[d];f="M".concat(e,",").concat(n+s*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(n)),f+="L ".concat(e+r-l*h[1],",").concat(n),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*h[1])),f+="L ".concat(e+r,",").concat(n+i-s*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+r-l*h[2],",").concat(n+i)),f+="L ".concat(e+l*h[3],",").concat(n+i),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*h[3])),f+="Z"}else if(a>0&&o===+o&&o>0){var v=Math.min(a,o);f="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*v," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},Koe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),f=Math.max(o,o+s),h=Math.min(a,a+l),d=Math.max(a,a+l);return r>=u&&r<=f&&i>=h&&i<=d}return!1},Goe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hb=function(e){var n=NA(NA({},Goe),e),r=U.useRef(),i=U.useState(-1),o=Voe(i,2),a=o[0],s=o[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&s(I)}catch{}},[]);var l=n.x,u=n.y,f=n.width,h=n.height,d=n.radius,p=n.className,v=n.animationEasing,g=n.animationDuration,w=n.animationBegin,y=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||h!==+h||f===0||h===0)return null;var b=Oe("recharts-rectangle",p);return _?V.createElement(Wi,{canBegin:a>0,from:{width:f,height:h,x:l,y:u},to:{width:f,height:h,x:l,y:u},duration:g,animationEasing:v,isActive:_},function(I){var T=I.width,A=I.height,x=I.x,E=I.y;return V.createElement(Wi,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:g,isActive:y,easing:v},V.createElement("path",Sd({},Ne(n,!0),{className:b,d:MA(x,E,T,A,d),ref:r})))}):V.createElement("path",Sd({},Ne(n,!0),{className:b,d:MA(l,u,f,h,d)}))};function i0(){return i0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i0.apply(this,arguments)}var k2=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Oe("recharts-dot",o);return n===+n&&r===+r&&i===+i?U.createElement("circle",i0({},Ne(e,!1),zh(e),{className:a,cx:n,cy:r,r:i})):null};function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}var Xoe=["x","y","top","left","width","height","className"];function o0(){return o0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o0.apply(this,arguments)}function DA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yoe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DA(Object(n),!0).forEach(function(r){Qoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qoe(t,e,n){return e=Joe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Joe(t){var e=Zoe(t,"string");return Ju(e)=="symbol"?e:e+""}function Zoe(t,e){if(Ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eae(t,e){if(t==null)return{};var n=tae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nae=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},rae=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,f=e.width,h=f===void 0?0:f,d=e.height,p=d===void 0?0:d,v=e.className,g=eae(e,Xoe),w=Yoe({x:r,y:o,top:s,left:u,width:h,height:p},g);return!re(r)||!re(o)||!re(h)||!re(p)||!re(s)||!re(u)?null:V.createElement("path",o0({},Ne(w,!0),{className:Oe("recharts-cross",v),d:nae(r,o,h,p,s,u)}))},iae=KR,oae=iae(Object.getPrototypeOf,Object),aae=oae,sae=ii,lae=aae,uae=oi,cae="[object Object]",fae=Function.prototype,hae=Object.prototype,R2=fae.toString,dae=hae.hasOwnProperty,pae=R2.call(Object);function mae(t){if(!uae(t)||sae(t)!=cae)return!1;var e=lae(t);if(e===null)return!0;var n=dae.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&R2.call(n)==pae}var gae=mae;const vae=ze(gae);var yae=ii,_ae=oi,wae="[object Boolean]";function bae(t){return t===!0||t===!1||_ae(t)&&yae(t)==wae}var xae=bae;const Eae=ze(xae);function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function Td(){return Td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Td.apply(this,arguments)}function Sae(t,e){return Iae(t)||Pae(t,e)||Aae(t,e)||Tae()}function Tae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aae(t,e){if(t){if(typeof t=="string")return jA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jA(t,e)}}function jA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Iae(t){if(Array.isArray(t))return t}function $A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$A(Object(n),!0).forEach(function(r){Oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oae(t,e,n){return e=Cae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cae(t){var e=kae(t,"string");return Zu(e)=="symbol"?e:e+""}function kae(t,e){if(Zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VA=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},Rae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Nae=function(e){var n=LA(LA({},Rae),e),r=U.useRef(),i=U.useState(-1),o=Sae(i,2),a=o[0],s=o[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&s(b)}catch{}},[]);var l=n.x,u=n.y,f=n.upperWidth,h=n.lowerWidth,d=n.height,p=n.className,v=n.animationEasing,g=n.animationDuration,w=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||h!==+h||d!==+d||f===0&&h===0||d===0)return null;var _=Oe("recharts-trapezoid",p);return y?V.createElement(Wi,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:f,lowerWidth:h,height:d,x:l,y:u},duration:g,animationEasing:v,isActive:y},function(b){var I=b.upperWidth,T=b.lowerWidth,A=b.height,x=b.x,E=b.y;return V.createElement(Wi,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:g,easing:v},V.createElement("path",Td({},Ne(n,!0),{className:_,d:VA(x,E,I,T,A),ref:r})))}):V.createElement("g",null,V.createElement("path",Td({},Ne(n,!0),{className:_,d:VA(l,u,f,h,d)})))},Mae=["option","shapeType","propTransformer","activeClassName","isActive"];function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function Dae(t,e){if(t==null)return{};var n=jae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function FA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ad(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FA(Object(n),!0).forEach(function(r){$ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ae(t,e,n){return e=Lae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lae(t){var e=Vae(t,"string");return ec(e)=="symbol"?e:e+""}function Vae(t,e){if(ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fae(t,e){return Ad(Ad({},e),t)}function Uae(t,e){return t==="symbols"}function UA(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return V.createElement(hb,n);case"trapezoid":return V.createElement(Nae,n);case"sector":return V.createElement(w2,n);case"symbols":if(Uae(e))return V.createElement(Iw,n);break;default:return null}}function Bae(t){return U.isValidElement(t)?t.props:t}function zae(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Fae:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Dae(t,Mae),u;if(U.isValidElement(e))u=U.cloneElement(e,Ad(Ad({},l),Bae(e)));else if(xe(e))u=e(l);else if(vae(e)&&!Eae(e)){var f=i(e,l);u=V.createElement(UA,{shapeType:n,elementProps:f})}else{var h=l;u=V.createElement(UA,{shapeType:n,elementProps:h})}return s?V.createElement(Tt,{className:a},u):u}function nm(t,e){return e!=null&&"trapezoids"in t.props}function rm(t,e){return e!=null&&"sectors"in t.props}function tc(t,e){return e!=null&&"points"in t.props}function Wae(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Hae(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function qae(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Kae(t,e){var n;return nm(t,e)?n=Wae:rm(t,e)?n=Hae:tc(t,e)&&(n=qae),n}function Gae(t,e){var n;return nm(t,e)?n="trapezoids":rm(t,e)?n="sectors":tc(t,e)&&(n="points"),n}function Xae(t,e){if(nm(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(rm(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return tc(t,e)?e.payload:{}}function Yae(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Gae(n,e),o=Xae(n,e),a=r.filter(function(l,u){var f=lb(o,l),h=n.props[i].filter(function(v){var g=Kae(n,e);return g(v,e)}),d=n.props[i].indexOf(h[h.length-1]),p=u===d;return f&&p}),s=r.indexOf(a[a.length-1]);return s}var Qae=Math.ceil,Jae=Math.max;function Zae(t,e,n,r){for(var i=-1,o=Jae(Qae((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var ese=Zae,tse=fN,BA=1/0,nse=17976931348623157e292;function rse(t){if(!t)return t===0?t:0;if(t=tse(t),t===BA||t===-BA){var e=t<0?-1:1;return e*nse}return t===t?t:0}var ise=rse,ose=ese,ase=Wp,Mg=ise;function sse(t){return function(e,n,r){return r&&typeof r!="number"&&ase(e,n,r)&&(n=r=void 0),e=Mg(e),n===void 0?(n=e,e=0):n=Mg(n),r=r===void 0?e<n?1:-1:Mg(r),ose(e,n,r,t)}}var lse=sse,use=lse,cse=use(),fse=cse;const Pd=ze(fse);function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function zA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zA(Object(n),!0).forEach(function(r){N2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N2(t,e,n){return e=hse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hse(t){var e=dse(t,"string");return nc(e)=="symbol"?e:e+""}function dse(t,e){if(nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pse=["Webkit","Moz","O","ms"],mse=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=pse.reduce(function(o,a){return WA(WA({},o),{},N2({},a+r,n))},{});return i[e]=n,i};function ms(t){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(t)}function Id(){return Id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Id.apply(this,arguments)}function HA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HA(Object(n),!0).forEach(function(r){vn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D2(r.key),r)}}function vse(t,e,n){return e&&qA(t.prototype,e),n&&qA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yse(t,e,n){return e=Od(e),_se(t,M2()?Reflect.construct(e,n||[],Od(t).constructor):e.apply(t,n))}function _se(t,e){if(e&&(ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wse(t)}function wse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M2=function(){return!!t})()}function Od(t){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Od(t)}function bse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a0(t,e)}function a0(t,e){return a0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},a0(t,e)}function vn(t,e,n){return e=D2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D2(t){var e=xse(t,"string");return ms(e)=="symbol"?e:e+""}function xse(t,e){if(ms(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ese=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Jl().domain(Pd(0,l)).range([o,o+a-s]),f=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:f}},KA=function(e){return e.changedTouches&&!!e.changedTouches.length},gs=function(t){function e(n){var r;return gse(this,e),r=yse(this,e,[n]),vn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),vn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),vn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),vn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),vn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),vn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),vn(r,"handleSlideDragStart",function(i){var o=KA(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return bse(e,t),vse(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,f=u.length-1,h=Math.min(i,o),d=Math.max(i,o),p=e.getIndexInRange(a,h),v=e.getIndexInRange(a,d);return{startIndex:p-p%l,endIndex:v===f?f:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Er(o[r],s,r);return xe(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,f=l.width,h=l.travellerWidth,d=l.startIndex,p=l.endIndex,v=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,u+f-h-s,u+f-h-a):g<0&&(g=Math.max(g,u-a,u-s));var w=this.getIndex({startX:a+g,endX:s+g});(w.startIndex!==d||w.endIndex!==p)&&v&&v(w),this.setState({startX:a+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=KA(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],f=this.props,h=f.x,d=f.width,p=f.travellerWidth,v=f.onChange,g=f.gap,w=f.data,y={startX:this.state.startX,endX:this.state.endX},_=r.pageX-o;_>0?_=Math.min(_,h+d-p-u):_<0&&(_=Math.max(_,h-u)),y[a]=u+_;var b=this.getIndex(y),I=b.startIndex,T=b.endIndex,A=function(){var E=w.length-1;return a==="startX"&&(s>l?I%g===0:T%g===0)||s<l&&T===E||a==="endX"&&(s>l?T%g===0:I%g===0)||s>l&&T===E};this.setState(vn(vn({},a,u+_),"brushMoveStartX",r.pageX),function(){v&&A()&&v(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,f=this.state[i],h=s.indexOf(f);if(h!==-1){var d=h+r;if(!(d===-1||d>=s.length)){var p=s[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(vn({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return V.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,f=r.padding,h=U.Children.only(u);return h?V.cloneElement(h,{x:i,y:o,width:a,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,f=l.travellerWidth,h=l.height,d=l.traveller,p=l.ariaLabel,v=l.data,g=l.startIndex,w=l.endIndex,y=Math.max(r,this.props.x),_=Dg(Dg({},Ne(this.props,!1)),{},{x:y,y:u,width:f,height:h}),b=p||"Min value: ".concat((o=v[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=v[w])===null||a===void 0?void 0:a.name);return V.createElement(Tt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,_))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,f=Math.min(r,i)+u,h=Math.max(Math.abs(i-r)-u,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:a,width:h,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,f=this.state,h=f.startX,d=f.endX,p=5,v={pointerEvents:"none",fill:u};return V.createElement(Tt,{className:"recharts-brush-texts"},V.createElement(id,Id({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,d)-p,y:a+s/2},v),this.getTextOfTick(i)),V.createElement(id,Id({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,d)+l+p,y:a+s/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,f=r.height,h=r.alwaysShowText,d=this.state,p=d.startX,v=d.endX,g=d.isTextActive,w=d.isSlideMoving,y=d.isTravellerMoving,_=d.isTravellerFocused;if(!i||!i.length||!re(s)||!re(l)||!re(u)||!re(f)||u<=0||f<=0)return null;var b=Oe("recharts-brush",o),I=V.Children.count(a)===1,T=mse("userSelect","none");return V.createElement(Tt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(g||w||y||_||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),V.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return V.isValidElement(r)?o=V.cloneElement(r,i):xe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,f=r.startIndex,h=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Dg({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?Ese({data:o,width:a,x:s,travellerWidth:l,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(U.PureComponent);vn(gs,"displayName","Brush");vn(gs,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Sse=jw;function Tse(t,e){var n;return Sse(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Ase=Tse,Pse=VR,Ise=zs,Ose=Ase,Cse=mn,kse=Wp;function Rse(t,e,n){var r=Cse(t)?Pse:Ose;return n&&kse(t,e,n)&&(e=void 0),r(t,Ise(e))}var Nse=Rse;const Mse=ze(Nse);var yr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},GA=aN;function Dse(t,e,n){e=="__proto__"&&GA?GA(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var jse=Dse,$se=jse,Lse=iN,Vse=zs;function Fse(t,e){var n={};return e=Vse(e),Lse(t,function(r,i,o){$se(n,i,e(r,i,o))}),n}var Use=Fse;const Bse=ze(Use);function zse(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Wse=zse,Hse=jw;function qse(t,e){var n=!0;return Hse(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Kse=qse,Gse=Wse,Xse=Kse,Yse=zs,Qse=mn,Jse=Wp;function Zse(t,e,n){var r=Qse(t)?Gse:Xse;return n&&Jse(t,e,n)&&(e=void 0),r(t,Yse(e))}var ele=Zse;const tle=ze(ele);var nle=["x","y"];function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function s0(){return s0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s0.apply(this,arguments)}function XA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XA(Object(n),!0).forEach(function(r){rle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rle(t,e,n){return e=ile(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ile(t){var e=ole(t,"string");return rc(e)=="symbol"?e:e+""}function ole(t,e){if(rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ale(t,e){if(t==null)return{};var n=sle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lle(t,e){var n=t.x,r=t.y,i=ale(t,nle),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),f=parseInt(u,10),h="".concat(e.width||i.width),d=parseInt(h,10);return Tl(Tl(Tl(Tl(Tl({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:f,width:d,name:e.name,radius:e.radius})}function YA(t){return V.createElement(zae,s0({shapeType:"rectangle",propTransformer:lle,activeClassName:"recharts-active-bar"},t))}var ule=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=re(r)||xz(r);return o?e(r,i):(o||Bo(),n)}},cle=["value","background"],j2;function vs(t){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vs(t)}function fle(t,e){if(t==null)return{};var n=hle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cd(){return Cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cd.apply(this,arguments)}function QA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QA(Object(n),!0).forEach(function(r){Ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L2(r.key),r)}}function ple(t,e,n){return e&&JA(t.prototype,e),n&&JA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mle(t,e,n){return e=kd(e),gle(t,$2()?Reflect.construct(e,n||[],kd(t).constructor):e.apply(t,n))}function gle(t,e){if(e&&(vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vle(t)}function vle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($2=function(){return!!t})()}function kd(t){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kd(t)}function yle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l0(t,e)}function l0(t,e){return l0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},l0(t,e)}function Ti(t,e,n){return e=L2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L2(t){var e=_le(t,"string");return vs(e)=="symbol"?e:e+""}function _le(t,e){if(vs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jo=function(t){function e(){var n;dle(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=mle(this,e,[].concat(i)),Ti(n,"state",{isAnimationFinished:!1}),Ti(n,"id",$p("recharts-bar-")),Ti(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Ti(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return yle(e,t),ple(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,f=Ne(this.props,!1);return r&&r.map(function(h,d){var p=d===l,v=p?u:a,g=ft(ft(ft({},f),h),{},{isActive:p,option:v,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return V.createElement(Tt,Cd({className:"recharts-bar-rectangle"},Wh(i.props,h,d),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(d)}),V.createElement(YA,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,f=i.animationEasing,h=i.animationId,d=this.state.prevData;return V.createElement(Wi,{begin:l,duration:u,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,g=o.map(function(w,y){var _=d&&d[y];if(_){var b=aa(_.x,w.x),I=aa(_.y,w.y),T=aa(_.width,w.width),A=aa(_.height,w.height);return ft(ft({},w),{},{x:b(v),y:I(v),width:T(v),height:A(v)})}if(a==="horizontal"){var x=aa(0,w.height),E=x(v);return ft(ft({},w),{},{y:w.y+w.height-E,height:E})}var P=aa(0,w.width),C=P(v);return ft(ft({},w),{},{width:C})});return V.createElement(Tt,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!lb(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Ne(this.props.background,!1);return o.map(function(u,f){u.value;var h=u.background,d=fle(u,cle);if(!h)return null;var p=ft(ft(ft(ft(ft({},d),{},{fill:"#eee"},h),l),Wh(r.props,u,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:f,className:"recharts-bar-background-rectangle"});return V.createElement(YA,Cd({key:"background-bar-".concat(f),option:r.props.background,isActive:f===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,f=o.children,h=Zn(f,tm);if(!h)return null;var d=u==="vertical"?a[0].height/2:a[0].width/2,p=function(w,y){var _=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:_,errorVal:Er(w,y)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return V.createElement(Tt,v,h.map(function(g){return V.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,f=r.top,h=r.width,d=r.height,p=r.isAnimationActive,v=r.background,g=r.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,y=Oe("recharts-bar",a),_=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,I=_||b,T=Ce(g)?this.id:g;return V.createElement(Tt,{className:y},_||b?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(T)},V.createElement("rect",{x:_?u:u-h/2,y:b?f:f-d/2,width:_?h:h*2,height:b?d:d*2}))):null,V.createElement(Tt,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(T,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,T),(!p||w)&&Po.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(U.PureComponent);j2=Jo;Ti(Jo,"displayName","Bar");Ti(Jo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Cc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ti(Jo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,h=t.displayedData,d=t.offset,p=qne(r,n);if(!p)return null;var v=e.layout,g=n.type.defaultProps,w=g!==void 0?ft(ft({},g),n.props):n.props,y=w.dataKey,_=w.children,b=w.minPointSize,I=v==="horizontal"?a:o,T=u?I.scale.domain():null,A=ere({numericAxis:I}),x=Zn(_,Vw),E=h.map(function(P,C){var O,N,k,B,$,H;u?O=Kne(u[f+C],T):(O=Er(P,y),Array.isArray(O)||(O=[A,O]));var q=ule(b,j2.defaultProps.minPointSize)(O[1],C);if(v==="horizontal"){var D,z=[a.scale(O[0]),a.scale(O[1])],G=z[0],te=z[1];N=Y1({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:P,index:C}),k=(D=te??G)!==null&&D!==void 0?D:void 0,B=p.size;var X=G-te;if($=Number.isNaN(X)?0:X,H={x:N,y:a.y,width:B,height:a.height},Math.abs(q)>0&&Math.abs($)<Math.abs(q)){var ne=Xn($||q)*(Math.abs(q)-Math.abs($));k-=ne,$+=ne}}else{var ye=[o.scale(O[0]),o.scale(O[1])],Ee=ye[0],$e=ye[1];if(N=Ee,k=Y1({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:P,index:C}),B=$e-Ee,$=p.size,H={x:o.x,y:k,width:o.width,height:$},Math.abs(q)>0&&Math.abs(B)<Math.abs(q)){var L=Xn(B||q)*(Math.abs(q)-Math.abs(B));B+=L}}return ft(ft(ft({},P),{},{x:N,y:k,width:B,height:$,value:u?O:O[1],payload:P,background:H},x&&x[C]&&x[C].props),{},{tooltipPayload:[v2(n,P)],tooltipPosition:{x:N+B/2,y:k+$/2}})});return ft({data:E,layout:v},d)});function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function wle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V2(r.key),r)}}function ble(t,e,n){return e&&ZA(t.prototype,e),n&&ZA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){im(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function im(t,e,n){return e=V2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V2(t){var e=xle(t,"string");return ic(e)=="symbol"?e:e+""}function xle(t,e){if(ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ele=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,f=Object.keys(n),h={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!_n(u,Jo);return f.reduce(function(p,v){var g=n[v],w=g.orientation,y=g.domain,_=g.padding,b=_===void 0?{}:_,I=g.mirror,T=g.reversed,A="".concat(w).concat(I?"Mirror":""),x,E,P,C,O;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var N=y[1]-y[0],k=1/0,B=g.categoricalDomain.sort(Tz);if(B.forEach(function(ye,Ee){Ee>0&&(k=Math.min((ye||0)-(B[Ee-1]||0),k))}),Number.isFinite(k)){var $=k/N,H=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(x=$*H/2),g.padding==="no-gap"){var q=Fo(e.barCategoryGap,$*H),D=$*H/2;x=D-q-(D-q)/H*q}}}i==="xAxis"?E=[r.left+(b.left||0)+(x||0),r.left+r.width-(b.right||0)-(x||0)]:i==="yAxis"?E=l==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(x||0),r.top+r.height-(b.bottom||0)-(x||0)]:E=g.range,T&&(E=[E[1],E[0]]);var z=Wne(g,o,d),G=z.scale,te=z.realScaleType;G.domain(y).range(E),Hne(G);var X=Zne(G,qn(qn({},g),{},{realScaleType:te}));i==="xAxis"?(O=w==="top"&&!I||w==="bottom"&&I,P=r.left,C=h[A]-O*g.height):i==="yAxis"&&(O=w==="left"&&!I||w==="right"&&I,P=h[A]-O*g.width,C=r.top);var ne=qn(qn(qn({},g),X),{},{realScaleType:te,x:P,y:C,scale:G,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return ne.bandSize=yd(ne,X),!g.hide&&i==="xAxis"?h[A]+=(O?-1:1)*ne.height:g.hide||(h[A]+=(O?-1:1)*ne.width),qn(qn({},p),{},im({},v,ne))},{})},F2=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Sle=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return F2({x:n,y:r},{x:i,y:o})},U2=function(){function t(e){wle(this,t),this.scale=e}return ble(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();im(U2,"EPS",1e-4);var db=function(e){var n=Object.keys(e).reduce(function(r,i){return qn(qn({},r),{},im({},i,U2.create(e[i])))},{});return qn(qn({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Bse(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return tle(i,function(o,a){return n[a].isInRange(o)})}})};function Tle(t){return(t%180+180)%180}var Ale=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Tle(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Ple=I5(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),B2=U.createContext(void 0),z2=U.createContext(void 0),W2=U.createContext(void 0),Ile=U.createContext({}),H2=U.createContext(void 0),q2=U.createContext(0),K2=U.createContext(0),tP=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,f=Ple(o);return V.createElement(B2.Provider,{value:r},V.createElement(z2.Provider,{value:i},V.createElement(Ile.Provider,{value:o},V.createElement(W2.Provider,{value:f},V.createElement(H2.Provider,{value:a},V.createElement(q2.Provider,{value:u},V.createElement(K2.Provider,{value:l},s)))))))},Ole=function(){return U.useContext(H2)},G2=function(e){var n=U.useContext(B2);n==null&&Bo();var r=n[e];return r==null&&Bo(),r},X2=function(e){var n=U.useContext(z2);n==null&&Bo();var r=n[e];return r==null&&Bo(),r},Cle=function(){var e=U.useContext(W2);return e},Y2=function(){return U.useContext(K2)},Q2=function(){return U.useContext(q2)};function ys(t){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ys(t)}function kle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z2(r.key),r)}}function Nle(t,e,n){return e&&Rle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mle(t,e,n){return e=Rd(e),Dle(t,J2()?Reflect.construct(e,n||[],Rd(t).constructor):e.apply(t,n))}function Dle(t,e){if(e&&(ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jle(t)}function jle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J2=function(){return!!t})()}function Rd(t){return Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rd(t)}function $le(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u0(t,e)}function u0(t,e){return u0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},u0(t,e)}function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(r){pb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pb(t,e,n){return e=Z2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z2(t){var e=Lle(t,"string");return ys(e)=="symbol"?e:e+""}function Lle(t,e){if(ys(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Vle(t,e){return zle(t)||Ble(t,e)||Ule(t,e)||Fle()}function Fle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ule(t,e){if(t){if(typeof t=="string")return iP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iP(t,e)}}function iP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ble(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function zle(t){if(Array.isArray(t))return t}function c0(){return c0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c0.apply(this,arguments)}var Wle=function(e,n){var r;return V.isValidElement(e)?r=V.cloneElement(e,n):xe(e)?r=e(n):r=V.createElement("line",c0({},n,{className:"recharts-reference-line-line"})),r},Hle=function(e,n,r,i,o,a,s,l,u){var f=o.x,h=o.y,d=o.width,p=o.height;if(r){var v=u.y,g=e.y.apply(v,{position:a});if(yr(u,"discard")&&!e.y.isInRange(g))return null;var w=[{x:f+d,y:g},{x:f,y:g}];return l==="left"?w.reverse():w}if(n){var y=u.x,_=e.x.apply(y,{position:a});if(yr(u,"discard")&&!e.x.isInRange(_))return null;var b=[{x:_,y:h+p},{x:_,y:h}];return s==="top"?b.reverse():b}if(i){var I=u.segment,T=I.map(function(A){return e.apply(A,{position:a})});return yr(u,"discard")&&Mse(T,function(A){return!e.isInRange(A)})?null:T}return null};function qle(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=Ole(),f=G2(i),h=X2(o),d=Cle();if(!u||!d)return null;So(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=db({x:f.scale,y:h.scale}),v=_t(e),g=_t(n),w=r&&r.length===2,y=Hle(p,v,g,w,d,t.position,f.orientation,h.orientation,t);if(!y)return null;var _=Vle(y,2),b=_[0],I=b.x,T=b.y,A=_[1],x=A.x,E=A.y,P=yr(t,"hidden")?"url(#".concat(u,")"):void 0,C=rP(rP({clipPath:P},Ne(t,!0)),{},{x1:I,y1:T,x2:x,y2:E});return V.createElement(Tt,{className:Oe("recharts-reference-line",s)},Wle(a,C),Yt.renderCallByParent(t,Sle({x1:I,y1:T,x2:x,y2:E})))}var mb=function(t){function e(){return kle(this,e),Mle(this,e,arguments)}return $le(e,t),Nle(e,[{key:"render",value:function(){return V.createElement(qle,this.props)}}])}(V.Component);pb(mb,"displayName","ReferenceLine");pb(mb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function f0(){return f0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f0.apply(this,arguments)}function _s(t){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_s(t)}function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){om(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tM(r.key),r)}}function Xle(t,e,n){return e&&Gle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yle(t,e,n){return e=Nd(e),Qle(t,eM()?Reflect.construct(e,n||[],Nd(t).constructor):e.apply(t,n))}function Qle(t,e){if(e&&(_s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jle(t)}function Jle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eM=function(){return!!t})()}function Nd(t){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nd(t)}function Zle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h0(t,e)}function h0(t,e){return h0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},h0(t,e)}function om(t,e,n){return e=tM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tM(t){var e=eue(t,"string");return _s(e)=="symbol"?e:e+""}function eue(t,e){if(_s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tue=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=db({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return yr(e,"discard")&&!a.isInRange(s)?null:s},am=function(t){function e(){return Kle(this,e),Yle(this,e,arguments)}return Zle(e,t),Xle(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=_t(i),f=_t(o);if(So(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var h=tue(this.props);if(!h)return null;var d=h.x,p=h.y,v=this.props,g=v.shape,w=v.className,y=yr(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=aP(aP({clipPath:y},Ne(this.props,!0)),{},{cx:d,cy:p});return V.createElement(Tt,{className:Oe("recharts-reference-dot",w)},e.renderDot(g,_),Yt.renderCallByParent(this.props,{x:d-a,y:p-a,width:2*a,height:2*a}))}}])}(V.Component);om(am,"displayName","ReferenceDot");om(am,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});om(am,"renderDot",function(t,e){var n;return V.isValidElement(t)?n=V.cloneElement(t,e):xe(t)?n=t(e):n=V.createElement(k2,f0({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function d0(){return d0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d0.apply(this,arguments)}function ws(t){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ws(t)}function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){sm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rM(r.key),r)}}function iue(t,e,n){return e&&rue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oue(t,e,n){return e=Md(e),aue(t,nM()?Reflect.construct(e,n||[],Md(t).constructor):e.apply(t,n))}function aue(t,e){if(e&&(ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sue(t)}function sue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nM=function(){return!!t})()}function Md(t){return Md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Md(t)}function lue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p0(t,e)}function p0(t,e){return p0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},p0(t,e)}function sm(t,e,n){return e=rM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rM(t){var e=uue(t,"string");return ws(e)=="symbol"?e:e+""}function uue(t,e){if(ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cue=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,f=o.xAxis,h=o.yAxis;if(!f||!h)return null;var d=db({x:f.scale,y:h.scale}),p={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},v={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return yr(o,"discard")&&(!d.isInRange(p)||!d.isInRange(v))?null:F2(p,v)},lm=function(t){function e(){return nue(this,e),oue(this,e,arguments)}return lue(e,t),iue(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,f=r.clipPathId;So(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=_t(i),d=_t(o),p=_t(a),v=_t(s),g=this.props.shape;if(!h&&!d&&!p&&!v&&!g)return null;var w=cue(h,d,p,v,this.props);if(!w&&!g)return null;var y=yr(this.props,"hidden")?"url(#".concat(f,")"):void 0;return V.createElement(Tt,{className:Oe("recharts-reference-area",l)},e.renderRect(g,lP(lP({clipPath:y},Ne(this.props,!0)),w)),Yt.renderCallByParent(this.props,w))}}])}(V.Component);sm(lm,"displayName","ReferenceArea");sm(lm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});sm(lm,"renderRect",function(t,e){var n;return V.isValidElement(t)?n=V.cloneElement(t,e):xe(t)?n=t(e):n=V.createElement(hb,d0({},e,{className:"recharts-reference-area-rect"})),n});function iM(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function fue(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Ale(r,n)}function hue(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Dd(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function due(t,e){return iM(t,e+1)}function pue(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,f=a,h=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:iM(r,u)};var g=l,w,y=function(){return w===void 0&&(w=n(v,g)),w},_=v.coordinate,b=l===0||Dd(t,_,y,f,s);b||(l=0,f=a,u+=1),b&&(f=_+t*(y()/2+i),l+=u)},d;u<=o.length;)if(d=h(),d)return d.v;return[]}function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}function uP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(n),!0).forEach(function(r){mue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mue(t,e,n){return e=gue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gue(t){var e=vue(t,"string");return oc(e)=="symbol"?e:e+""}function vue(t,e){if(oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yue(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(d){var p=o[d],v,g=function(){return v===void 0&&(v=n(p,d)),v};if(d===a-1){var w=t*(p.coordinate+t*g()/2-l);o[d]=p=qt(qt({},p),{},{tickCoord:w>0?p.coordinate-w*t:p.coordinate})}else o[d]=p=qt(qt({},p),{},{tickCoord:p.coordinate});var y=Dd(t,p.tickCoord,g,s,l);y&&(l=p.tickCoord-t*(g()/2+i),o[d]=qt(qt({},p),{},{isShow:!0}))},f=a-1;f>=0;f--)u(f);return o}function _ue(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var f=r[s-1],h=n(f,s-1),d=t*(f.coordinate+t*h/2-u);a[s-1]=f=qt(qt({},f),{},{tickCoord:d>0?f.coordinate-d*t:f.coordinate});var p=Dd(t,f.tickCoord,function(){return h},l,u);p&&(u=f.tickCoord-t*(h/2+i),a[s-1]=qt(qt({},f),{},{isShow:!0}))}for(var v=o?s-1:s,g=function(_){var b=a[_],I,T=function(){return I===void 0&&(I=n(b,_)),I};if(_===0){var A=t*(b.coordinate-t*T()/2-l);a[_]=b=qt(qt({},b),{},{tickCoord:A<0?b.coordinate-A*t:b.coordinate})}else a[_]=b=qt(qt({},b),{},{tickCoord:b.coordinate});var x=Dd(t,b.tickCoord,T,l,u);x&&(l=b.tickCoord+t*(T()/2+i),a[_]=qt(qt({},b),{},{isShow:!0}))},w=0;w<v;w++)g(w);return a}function wue(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,f=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(re(l)||Cc.isSsr)return due(i,typeof l=="number"&&re(l)?l:0);var d=[],p=s==="top"||s==="bottom"?"width":"height",v=f&&p==="width"?Ql(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(b,I){var T=xe(u)?u(b.value,I):b.value;return p==="width"?fue(Ql(T,{fontSize:e,letterSpacing:n}),v,h):Ql(T,{fontSize:e,letterSpacing:n})[p]},w=i.length>=2?Xn(i[1].coordinate-i[0].coordinate):1,y=hue(o,w,p);return l==="equidistantPreserveStart"?pue(w,y,g,i,a):(l==="preserveStart"||l==="preserveStartEnd"?d=_ue(w,y,g,i,a,l==="preserveStartEnd"):d=yue(w,y,g,i,a),d.filter(function(_){return _.isShow}))}var bue=["viewBox"],xue=["viewBox"],Eue=["ticks"];function bs(t){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bs(t)}function Pa(){return Pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pa.apply(this,arguments)}function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){gb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jg(t,e){if(t==null)return{};var n=Sue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aM(r.key),r)}}function Aue(t,e,n){return e&&fP(t.prototype,e),n&&fP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pue(t,e,n){return e=jd(e),Iue(t,oM()?Reflect.construct(e,n||[],jd(t).constructor):e.apply(t,n))}function Iue(t,e){if(e&&(bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oue(t)}function Oue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oM=function(){return!!t})()}function jd(t){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jd(t)}function Cue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m0(t,e)}function m0(t,e){return m0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},m0(t,e)}function gb(t,e,n){return e=aM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aM(t){var e=kue(t,"string");return bs(e)=="symbol"?e:e+""}function kue(t,e){if(bs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var um=function(t){function e(n){var r;return Tue(this,e),r=Pue(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Cue(e,t),Aue(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=jg(r,bue),s=this.props,l=s.viewBox,u=jg(s,xue);return!Va(o,l)||!Va(a,u)||!Va(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,f=i.tickSize,h=i.mirror,d=i.tickMargin,p,v,g,w,y,_,b=h?-1:1,I=r.tickSize||f,T=re(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=v=r.coordinate,w=a+ +!h*l,g=w-b*I,_=g-b*d,y=T;break;case"left":g=w=r.coordinate,v=o+ +!h*s,p=v-b*I,y=p-b*d,_=T;break;case"right":g=w=r.coordinate,v=o+ +h*s,p=v+b*I,y=p+b*d,_=T;break;default:p=v=r.coordinate,w=a+ +h*l,g=w+b*I,_=g+b*d,y=T;break}return{line:{x1:p,y1:g,x2:v,y2:w},tick:{x:y,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,f=r.axisLine,h=pt(pt(pt({},Ne(this.props,!1)),Ne(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);h=pt(pt({},h),{},{x1:i,y1:o+d*s,x2:i+a,y2:o+d*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);h=pt(pt({},h),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return V.createElement("line",Pa({},h,{className:Oe("recharts-cartesian-axis-line",Dn(f,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,f=s.tick,h=s.tickFormatter,d=s.unit,p=wue(pt(pt({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),w=Ne(this.props,!1),y=Ne(f,!1),_=pt(pt({},w),{},{fill:"none"},Ne(l,!1)),b=p.map(function(I,T){var A=a.getTickLineCoord(I),x=A.line,E=A.tick,P=pt(pt(pt(pt({textAnchor:v,verticalAnchor:g},w),{},{stroke:"none",fill:u},y),E),{},{index:T,payload:I,visibleTicksCount:p.length,tickFormatter:h});return V.createElement(Tt,Pa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},Wh(a.props,I,T)),l&&V.createElement("line",Pa({},_,x,{className:Oe("recharts-cartesian-axis-tick-line",Dn(l,"className"))})),f&&e.renderTickItem(f,P,"".concat(xe(h)?h(I.value,T):I.value).concat(d||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var h=this.props,d=h.ticks,p=jg(h,Eue),v=d;return xe(l)&&(v=d&&d.length>0?l(this.props):l(p)),a<=0||s<=0||!v||!v.length?null:V.createElement(Tt,{className:Oe("recharts-cartesian-axis",u),ref:function(w){r.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Yt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Oe(i.className,"recharts-cartesian-axis-tick-value");return V.isValidElement(r)?a=V.cloneElement(r,pt(pt({},i),{},{className:s})):xe(r)?a=r(pt(pt({},i),{},{className:s})):a=V.createElement(id,Pa({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(U.Component);gb(um,"displayName","CartesianAxis");gb(um,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function xs(t){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xs(t)}function Rue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uM(r.key),r)}}function Mue(t,e,n){return e&&Nue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Due(t,e,n){return e=$d(e),jue(t,sM()?Reflect.construct(e,n||[],$d(t).constructor):e.apply(t,n))}function jue(t,e){if(e&&(xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ue(t)}function $ue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sM=function(){return!!t})()}function $d(t){return $d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$d(t)}function Lue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g0(t,e)}function g0(t,e){return g0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},g0(t,e)}function lM(t,e,n){return e=uM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uM(t){var e=Vue(t,"string");return xs(e)=="symbol"?e:e+""}function Vue(t,e){if(xs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function v0(){return v0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v0.apply(this,arguments)}function Fue(t){var e=t.xAxisId,n=Y2(),r=Q2(),i=G2(e);return i==null?null:U.createElement(um,v0({},i,{className:Oe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return wo(a,!0)}}))}var cm=function(t){function e(){return Rue(this,e),Due(this,e,arguments)}return Lue(e,t),Mue(e,[{key:"render",value:function(){return U.createElement(Fue,this.props)}}])}(U.Component);lM(cm,"displayName","XAxis");lM(cm,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Es(t){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Es(t)}function Uue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hM(r.key),r)}}function zue(t,e,n){return e&&Bue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wue(t,e,n){return e=Ld(e),Hue(t,cM()?Reflect.construct(e,n||[],Ld(t).constructor):e.apply(t,n))}function Hue(t,e){if(e&&(Es(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return que(t)}function que(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cM=function(){return!!t})()}function Ld(t){return Ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ld(t)}function Kue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y0(t,e)}function y0(t,e){return y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},y0(t,e)}function fM(t,e,n){return e=hM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hM(t){var e=Gue(t,"string");return Es(e)=="symbol"?e:e+""}function Gue(t,e){if(Es(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Es(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _0(){return _0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_0.apply(this,arguments)}var Xue=function(e){var n=e.yAxisId,r=Y2(),i=Q2(),o=X2(n);return o==null?null:U.createElement(um,_0({},o,{className:Oe("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return wo(s,!0)}}))},fm=function(t){function e(){return Uue(this,e),Wue(this,e,arguments)}return Kue(e,t),zue(e,[{key:"render",value:function(){return U.createElement(Xue,this.props)}}])}(U.Component);fM(fm,"displayName","YAxis");fM(fm,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function hP(t){return Zue(t)||Jue(t)||Que(t)||Yue()}function Yue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Que(t,e){if(t){if(typeof t=="string")return w0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w0(t,e)}}function Jue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zue(t){if(Array.isArray(t))return w0(t)}function w0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var b0=function(e,n,r,i,o){var a=Zn(e,mb),s=Zn(e,am),l=[].concat(hP(a),hP(s)),u=Zn(e,lm),f="".concat(i,"Id"),h=i[0],d=n;if(l.length&&(d=l.reduce(function(g,w){if(w.props[f]===r&&yr(w.props,"extendDomain")&&re(w.props[h])){var y=w.props[h];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},d)),u.length){var p="".concat(h,"1"),v="".concat(h,"2");d=u.reduce(function(g,w){if(w.props[f]===r&&yr(w.props,"extendDomain")&&re(w.props[p])&&re(w.props[v])){var y=w.props[p],_=w.props[v];return[Math.min(g[0],y,_),Math.max(g[1],y,_)]}return g},d)}return o&&o.length&&(d=o.reduce(function(g,w){return re(w)?[Math.min(g[0],w),Math.max(g[1],w)]:g},d)),d},dM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function o(l,u,f,h,d){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new i(f,h||l,d),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)e.call(f,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},s.prototype.listeners=function(u){var f=n?n+u:u,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,p=h.length,v=new Array(p);d<p;d++)v[d]=h[d].fn;return v},s.prototype.listenerCount=function(u){var f=n?n+u:u,h=this._events[f];return h?h.fn?1:h.length:0},s.prototype.emit=function(u,f,h,d,p,v){var g=n?n+u:u;if(!this._events[g])return!1;var w=this._events[g],y=arguments.length,_,b;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,f),!0;case 3:return w.fn.call(w.context,f,h),!0;case 4:return w.fn.call(w.context,f,h,d),!0;case 5:return w.fn.call(w.context,f,h,d,p),!0;case 6:return w.fn.call(w.context,f,h,d,p,v),!0}for(b=1,_=new Array(y-1);b<y;b++)_[b-1]=arguments[b];w.fn.apply(w.context,_)}else{var I=w.length,T;for(b=0;b<I;b++)switch(w[b].once&&this.removeListener(u,w[b].fn,void 0,!0),y){case 1:w[b].fn.call(w[b].context);break;case 2:w[b].fn.call(w[b].context,f);break;case 3:w[b].fn.call(w[b].context,f,h);break;case 4:w[b].fn.call(w[b].context,f,h,d);break;default:if(!_)for(T=1,_=new Array(y-1);T<y;T++)_[T-1]=arguments[T];w[b].fn.apply(w[b].context,_)}}return!0},s.prototype.on=function(u,f,h){return o(this,u,f,h,!1)},s.prototype.once=function(u,f,h){return o(this,u,f,h,!0)},s.prototype.removeListener=function(u,f,h,d){var p=n?n+u:u;if(!this._events[p])return this;if(!f)return a(this,p),this;var v=this._events[p];if(v.fn)v.fn===f&&(!d||v.once)&&(!h||v.context===h)&&a(this,p);else{for(var g=0,w=[],y=v.length;g<y;g++)(v[g].fn!==f||d&&!v[g].once||h&&v[g].context!==h)&&w.push(v[g]);w.length?this._events[p]=w.length===1?w[0]:w:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(dM);var ece=dM.exports;const tce=ze(ece);var $g=new tce,Lg="recharts.syncMouseEvents";function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function nce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pM(r.key),r)}}function ice(t,e,n){return e&&rce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vg(t,e,n){return e=pM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pM(t){var e=oce(t,"string");return ac(e)=="symbol"?e:e+""}function oce(t,e){if(ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ace=function(){function t(){nce(this,t),Vg(this,"activeIndex",0),Vg(this,"coordinateList",[]),Vg(this,"layout","horizontal")}return ice(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,f=n.offset,h=f===void 0?null:f,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=o+l+u,d=a+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:h,pageY:d})}}}])}();function sce(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&re(r)&&re(i))return!0}return!1}function lce(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function mM(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Mt(e,n,r,i),s=Mt(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function uce(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,f=e.outerRadius,h=e.angle,d=Mt(s,l,u,h),p=Mt(s,l,f,h);r=d.x,i=d.y,o=p.x,a=p.y}else return mM(e);return[{x:r,y:i},{x:o,y:a}]}function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function dP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(n),!0).forEach(function(r){cce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cce(t,e,n){return e=fce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fce(t){var e=hce(t,"string");return sc(e)=="symbol"?e:e+""}function hce(t,e){if(sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dce(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,h=t.layout,d=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||d!=="ScatterChart"&&i!=="axis")return null;var v,g=hA;if(d==="ScatterChart")v=a,g=rae;else if(d==="BarChart")v=lce(h,a,l,f),g=hb;else if(h==="radial"){var w=mM(a),y=w.cx,_=w.cy,b=w.radius,I=w.startAngle,T=w.endAngle;v={cx:y,cy:_,startAngle:I,endAngle:T,innerRadius:b,outerRadius:b},g=w2}else v={points:uce(h,a,l)},g=hA;var A=Nf(Nf(Nf(Nf({stroke:"#ccc",pointerEvents:"none"},l),v),Ne(p,!1)),{},{payload:s,payloadIndex:u,className:Oe("recharts-tooltip-cursor",p.className)});return U.isValidElement(p)?U.cloneElement(p,A):U.createElement(g,A)}var pce=["item"],mce=["children","className","width","height","style","compact","title","desc"];function Ss(t){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ss(t)}function Ia(){return Ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ia.apply(this,arguments)}function pP(t,e){return yce(t)||vce(t,e)||vM(t,e)||gce()}function gce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function yce(t){if(Array.isArray(t))return t}function mP(t,e){if(t==null)return{};var n=_ce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _ce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yM(r.key),r)}}function xce(t,e,n){return e&&bce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ece(t,e,n){return e=Vd(e),Sce(t,gM()?Reflect.construct(e,n||[],Vd(t).constructor):e.apply(t,n))}function Sce(t,e){if(e&&(Ss(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tce(t)}function Tce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gM=function(){return!!t})()}function Vd(t){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vd(t)}function Ace(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x0(t,e)}function x0(t,e){return x0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x0(t,e)}function Ts(t){return Oce(t)||Ice(t)||vM(t)||Pce()}function Pce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vM(t,e){if(t){if(typeof t=="string")return E0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E0(t,e)}}function Ice(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oce(t){if(Array.isArray(t))return E0(t)}function E0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){he(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function he(t,e,n){return e=yM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yM(t){var e=Cce(t,"string");return Ss(e)=="symbol"?e:e+""}function Cce(t,e){if(Ss(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ss(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kce={xAxis:["bottom","top"],yAxis:["left","right"]},Rce={width:"100%",height:"100%"},_M={x:0,y:0};function Mf(t){return t}var Nce=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Mce=function(e,n,r,i){var o=n.find(function(f){return f&&f.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return W(W(W({},i),Mt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return W(W(W({},i),Mt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return _M},hm=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Ts(s),Ts(u)):s},[]);return a.length>0?a:e&&e.length&&re(i)&&re(o)?e.slice(i,o+1):[]};function wM(t){return t==="number"?[0,"auto"]:void 0}var S0=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=hm(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var f,h=(f=u.props.data)!==null&&f!==void 0?f:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var p=h===void 0?s:h;d=ry(p,a.dataKey,i)}else d=h&&h[r]||s[r];return d?[].concat(Ts(l),[v2(u,d)]):l},[])},vP=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Nce(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,f=Lne(a,s,u,l);if(f>=0&&u){var h=u[f]&&u[f].value,d=S0(e,n,f,h),p=Mce(r,s,f,o);return{activeTooltipIndex:f,activeLabel:h,activePayload:d,activeCoordinate:p}}return null},Dce=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,h=e.children,d=e.stackOffset,p=m2(f,o);return r.reduce(function(v,g){var w,y=g.type.defaultProps!==void 0?W(W({},g.type.defaultProps),g.props):g.props,_=y.type,b=y.dataKey,I=y.allowDataOverflow,T=y.allowDuplicatedCategory,A=y.scale,x=y.ticks,E=y.includeHidden,P=y[a];if(v[P])return v;var C=hm(e.data,{graphicalItems:i.filter(function(X){var ne,ye=a in X.props?X.props[a]:(ne=X.type.defaultProps)===null||ne===void 0?void 0:ne[a];return ye===P}),dataStartIndex:l,dataEndIndex:u}),O=C.length,N,k,B;sce(y.domain,I,_)&&(N=Wy(y.domain,null,I),p&&(_==="number"||A!=="auto")&&(B=Zl(C,b,"category")));var $=wM(_);if(!N||N.length===0){var H,q=(H=y.domain)!==null&&H!==void 0?H:$;if(b){if(N=Zl(C,b,_),_==="category"&&p){var D=Sz(N);T&&D?(k=N,N=Pd(0,O)):T||(N=Z1(q,N,g).reduce(function(X,ne){return X.indexOf(ne)>=0?X:[].concat(Ts(X),[ne])},[]))}else if(_==="category")T?N=N.filter(function(X){return X!==""&&!Ce(X)}):N=Z1(q,N,g).reduce(function(X,ne){return X.indexOf(ne)>=0||ne===""||Ce(ne)?X:[].concat(Ts(X),[ne])},[]);else if(_==="number"){var z=zne(C,i.filter(function(X){var ne,ye,Ee=a in X.props?X.props[a]:(ne=X.type.defaultProps)===null||ne===void 0?void 0:ne[a],$e="hide"in X.props?X.props.hide:(ye=X.type.defaultProps)===null||ye===void 0?void 0:ye.hide;return Ee===P&&(E||!$e)}),b,o,f);z&&(N=z)}p&&(_==="number"||A!=="auto")&&(B=Zl(C,b,"category"))}else p?N=Pd(0,O):s&&s[P]&&s[P].hasStack&&_==="number"?N=d==="expand"?[0,1]:g2(s[P].stackGroups,l,u):N=p2(C,i.filter(function(X){var ne=a in X.props?X.props[a]:X.type.defaultProps[a],ye="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return ne===P&&(E||!ye)}),_,f,!0);if(_==="number")N=b0(h,N,P,o,x),q&&(N=Wy(q,N,I));else if(_==="category"&&q){var G=q,te=N.every(function(X){return G.indexOf(X)>=0});te&&(N=G)}}return W(W({},v),{},he({},P,W(W({},y),{},{axisType:o,domain:N,categoricalDomain:B,duplicateDomain:k,originalDomain:(w=y.domain)!==null&&w!==void 0?w:$,isCategorical:p,layout:f})))},{})},jce=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,h=e.children,d=hm(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,v=m2(f,o),g=-1;return r.reduce(function(w,y){var _=y.type.defaultProps!==void 0?W(W({},y.type.defaultProps),y.props):y.props,b=_[a],I=wM("number");if(!w[b]){g++;var T;return v?T=Pd(0,p):s&&s[b]&&s[b].hasStack?(T=g2(s[b].stackGroups,l,u),T=b0(h,T,b,o)):(T=Wy(I,p2(d,r.filter(function(A){var x,E,P=a in A.props?A.props[a]:(x=A.type.defaultProps)===null||x===void 0?void 0:x[a],C="hide"in A.props?A.props.hide:(E=A.type.defaultProps)===null||E===void 0?void 0:E.hide;return P===b&&!C}),"number",f),i.defaultProps.allowDataOverflow),T=b0(h,T,b,o)),W(W({},w),{},he({},b,W(W({axisType:o},i.defaultProps),{},{hide:!0,orientation:Dn(kce,"".concat(o,".").concat(g%2),null),domain:T,originalDomain:I,isCategorical:v,layout:f})))}return w},{})},$ce=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.children,h="".concat(i,"Id"),d=Zn(f,o),p={};return d&&d.length?p=Dce(e,{axes:d,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=jce(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},Lce=function(e){var n=ha(e),r=wo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:$w(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:yd(n,r)}},yP=function(e){var n=e.children,r=e.defaultShowTooltip,i=_n(n,gs),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},Vce=function(e){return!e||!e.length?!1:e.some(function(n){var r=Br(n&&n.type);return r&&r.indexOf("Bar")>=0})},_P=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Fce=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,f=r.height,h=r.children,d=r.margin||{},p=_n(h,gs),v=_n(h,Fa),g=Object.keys(l).reduce(function(T,A){var x=l[A],E=x.orientation;return!x.mirror&&!x.hide?W(W({},T),{},he({},E,T[E]+x.width)):T},{left:d.left||0,right:d.right||0}),w=Object.keys(a).reduce(function(T,A){var x=a[A],E=x.orientation;return!x.mirror&&!x.hide?W(W({},T),{},he({},E,Dn(T,"".concat(E))+x.height)):T},{top:d.top||0,bottom:d.bottom||0}),y=W(W({},w),g),_=y.bottom;p&&(y.bottom+=p.props.height||gs.defaultProps.height),v&&n&&(y=Une(y,i,r,n));var b=u-y.left-y.right,I=f-y.top-y.bottom;return W(W({brushBottom:_},y),{},{width:Math.max(b,0),height:Math.max(I,0)})},Uce=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Bce=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,d=function(y,_){var b=_.graphicalItems,I=_.stackGroups,T=_.offset,A=_.updateId,x=_.dataStartIndex,E=_.dataEndIndex,P=y.barSize,C=y.layout,O=y.barGap,N=y.barCategoryGap,k=y.maxBarSize,B=_P(C),$=B.numericAxisName,H=B.cateAxisName,q=Vce(b),D=[];return b.forEach(function(z,G){var te=hm(y.data,{graphicalItems:[z],dataStartIndex:x,dataEndIndex:E}),X=z.type.defaultProps!==void 0?W(W({},z.type.defaultProps),z.props):z.props,ne=X.dataKey,ye=X.maxBarSize,Ee=X["".concat($,"Id")],$e=X["".concat(H,"Id")],L={},le=l.reduce(function(ir,Ar){var eo=_["".concat(Ar.axisType,"Map")],Zo=X["".concat(Ar.axisType,"Id")];eo&&eo[Zo]||Ar.axisType==="zAxis"||Bo();var Ks=eo[Zo];return W(W({},ir),{},he(he({},Ar.axisType,Ks),"".concat(Ar.axisType,"Ticks"),wo(Ks)))},L),Z=le[H],ae=le["".concat(H,"Ticks")],ce=I&&I[Ee]&&I[Ee].hasStack&&tre(z,I[Ee].stackGroups),K=Br(z.type).indexOf("Bar")>=0,ke=yd(Z,ae),me=[],Je=q&&Vne({barSize:P,stackGroups:I,totalSize:Uce(le,H)});if(K){var it,Vt,rr=Ce(ye)?k:ye,Tr=(it=(Vt=yd(Z,ae,!0))!==null&&Vt!==void 0?Vt:rr)!==null&&it!==void 0?it:0;me=Fne({barGap:O,barCategoryGap:N,bandSize:Tr!==ke?Tr:ke,sizeList:Je[$e],maxBarSize:rr}),Tr!==ke&&(me=me.map(function(ir){return W(W({},ir),{},{position:W(W({},ir.position),{},{offset:ir.position.offset-Tr/2})})}))}var si=z&&z.type&&z.type.getComposedData;si&&D.push({props:W(W({},si(W(W({},le),{},{displayedData:te,props:y,dataKey:ne,item:z,bandSize:ke,barPosition:me,offset:T,stackedData:ce,layout:C,dataStartIndex:x,dataEndIndex:E}))),{},he(he(he({key:z.key||"item-".concat(G)},$,le[$]),H,le[H]),"animationId",A)),childIndex:jz(z,y.children),item:z})}),D},p=function(y,_){var b=y.props,I=y.dataStartIndex,T=y.dataEndIndex,A=y.updateId;if(!KS({props:b}))return null;var x=b.children,E=b.layout,P=b.stackOffset,C=b.data,O=b.reverseStackOrder,N=_P(E),k=N.numericAxisName,B=N.cateAxisName,$=Zn(x,r),H=Jne(C,$,"".concat(k,"Id"),"".concat(B,"Id"),P,O),q=l.reduce(function(X,ne){var ye="".concat(ne.axisType,"Map");return W(W({},X),{},he({},ye,$ce(b,W(W({},ne),{},{graphicalItems:$,stackGroups:ne.axisType===k&&H,dataStartIndex:I,dataEndIndex:T}))))},{}),D=Fce(W(W({},q),{},{props:b,graphicalItems:$}),_==null?void 0:_.legendBBox);Object.keys(q).forEach(function(X){q[X]=f(b,q[X],D,X.replace("Map",""),n)});var z=q["".concat(B,"Map")],G=Lce(z),te=d(b,W(W({},q),{},{dataStartIndex:I,dataEndIndex:T,updateId:A,graphicalItems:$,stackGroups:H,offset:D}));return W(W({formattedGraphicalItems:te,graphicalItems:$,offset:D,stackGroups:H},G),q)},v=function(w){function y(_){var b,I,T;return wce(this,y),T=Ece(this,y,[_]),he(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),he(T,"accessibilityManager",new ace),he(T,"handleLegendBBoxUpdate",function(A){if(A){var x=T.state,E=x.dataStartIndex,P=x.dataEndIndex,C=x.updateId;T.setState(W({legendBBox:A},p({props:T.props,dataStartIndex:E,dataEndIndex:P,updateId:C},W(W({},T.state),{},{legendBBox:A}))))}}),he(T,"handleReceiveSyncEvent",function(A,x,E){if(T.props.syncId===A){if(E===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(x)}}),he(T,"handleBrushChange",function(A){var x=A.startIndex,E=A.endIndex;if(x!==T.state.dataStartIndex||E!==T.state.dataEndIndex){var P=T.state.updateId;T.setState(function(){return W({dataStartIndex:x,dataEndIndex:E},p({props:T.props,dataStartIndex:x,dataEndIndex:E,updateId:P},T.state))}),T.triggerSyncEvent({dataStartIndex:x,dataEndIndex:E})}}),he(T,"handleMouseEnter",function(A){var x=T.getMouseInfo(A);if(x){var E=W(W({},x),{},{isTooltipActive:!0});T.setState(E),T.triggerSyncEvent(E);var P=T.props.onMouseEnter;xe(P)&&P(E,A)}}),he(T,"triggeredAfterMouseMove",function(A){var x=T.getMouseInfo(A),E=x?W(W({},x),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(E),T.triggerSyncEvent(E);var P=T.props.onMouseMove;xe(P)&&P(E,A)}),he(T,"handleItemMouseEnter",function(A){T.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),he(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),he(T,"handleMouseMove",function(A){A.persist(),T.throttleTriggeredAfterMouseMove(A)}),he(T,"handleMouseLeave",function(A){T.throttleTriggeredAfterMouseMove.cancel();var x={isTooltipActive:!1};T.setState(x),T.triggerSyncEvent(x);var E=T.props.onMouseLeave;xe(E)&&E(x,A)}),he(T,"handleOuterEvent",function(A){var x=Dz(A),E=Dn(T.props,"".concat(x));if(x&&xe(E)){var P,C;/.*touch.*/i.test(x)?C=T.getMouseInfo(A.changedTouches[0]):C=T.getMouseInfo(A),E((P=C)!==null&&P!==void 0?P:{},A)}}),he(T,"handleClick",function(A){var x=T.getMouseInfo(A);if(x){var E=W(W({},x),{},{isTooltipActive:!0});T.setState(E),T.triggerSyncEvent(E);var P=T.props.onClick;xe(P)&&P(E,A)}}),he(T,"handleMouseDown",function(A){var x=T.props.onMouseDown;if(xe(x)){var E=T.getMouseInfo(A);x(E,A)}}),he(T,"handleMouseUp",function(A){var x=T.props.onMouseUp;if(xe(x)){var E=T.getMouseInfo(A);x(E,A)}}),he(T,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),he(T,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&T.handleMouseDown(A.changedTouches[0])}),he(T,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&T.handleMouseUp(A.changedTouches[0])}),he(T,"handleDoubleClick",function(A){var x=T.props.onDoubleClick;if(xe(x)){var E=T.getMouseInfo(A);x(E,A)}}),he(T,"handleContextMenu",function(A){var x=T.props.onContextMenu;if(xe(x)){var E=T.getMouseInfo(A);x(E,A)}}),he(T,"triggerSyncEvent",function(A){T.props.syncId!==void 0&&$g.emit(Lg,T.props.syncId,A,T.eventEmitterSymbol)}),he(T,"applySyncEvent",function(A){var x=T.props,E=x.layout,P=x.syncMethod,C=T.state.updateId,O=A.dataStartIndex,N=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)T.setState(W({dataStartIndex:O,dataEndIndex:N},p({props:T.props,dataStartIndex:O,dataEndIndex:N,updateId:C},T.state)));else if(A.activeTooltipIndex!==void 0){var k=A.chartX,B=A.chartY,$=A.activeTooltipIndex,H=T.state,q=H.offset,D=H.tooltipTicks;if(!q)return;if(typeof P=="function")$=P(D,A);else if(P==="value"){$=-1;for(var z=0;z<D.length;z++)if(D[z].value===A.activeLabel){$=z;break}}var G=W(W({},q),{},{x:q.left,y:q.top}),te=Math.min(k,G.x+G.width),X=Math.min(B,G.y+G.height),ne=D[$]&&D[$].value,ye=S0(T.state,T.props.data,$),Ee=D[$]?{x:E==="horizontal"?D[$].coordinate:te,y:E==="horizontal"?X:D[$].coordinate}:_M;T.setState(W(W({},A),{},{activeLabel:ne,activeCoordinate:Ee,activePayload:ye,activeTooltipIndex:$}))}else T.setState(A)}),he(T,"renderCursor",function(A){var x,E=T.state,P=E.isTooltipActive,C=E.activeCoordinate,O=E.activePayload,N=E.offset,k=E.activeTooltipIndex,B=E.tooltipAxisBandSize,$=T.getTooltipEventType(),H=(x=A.props.active)!==null&&x!==void 0?x:P,q=T.props.layout,D=A.key||"_recharts-cursor";return V.createElement(dce,{key:D,activeCoordinate:C,activePayload:O,activeTooltipIndex:k,chartName:n,element:A,isActive:H,layout:q,offset:N,tooltipAxisBandSize:B,tooltipEventType:$})}),he(T,"renderPolarAxis",function(A,x,E){var P=Dn(A,"type.axisType"),C=Dn(T.state,"".concat(P,"Map")),O=A.type.defaultProps,N=O!==void 0?W(W({},O),A.props):A.props,k=C&&C[N["".concat(P,"Id")]];return U.cloneElement(A,W(W({},k),{},{className:Oe(P,k.className),key:A.key||"".concat(x,"-").concat(E),ticks:wo(k,!0)}))}),he(T,"renderPolarGrid",function(A){var x=A.props,E=x.radialLines,P=x.polarAngles,C=x.polarRadius,O=T.state,N=O.radiusAxisMap,k=O.angleAxisMap,B=ha(N),$=ha(k),H=$.cx,q=$.cy,D=$.innerRadius,z=$.outerRadius;return U.cloneElement(A,{polarAngles:Array.isArray(P)?P:wo($,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(C)?C:wo(B,!0).map(function(G){return G.coordinate}),cx:H,cy:q,innerRadius:D,outerRadius:z,key:A.key||"polar-grid",radialLines:E})}),he(T,"renderLegend",function(){var A=T.state.formattedGraphicalItems,x=T.props,E=x.children,P=x.width,C=x.height,O=T.props.margin||{},N=P-(O.left||0)-(O.right||0),k=h2({children:E,formattedGraphicalItems:A,legendWidth:N,legendContent:u});if(!k)return null;var B=k.item,$=mP(k,pce);return U.cloneElement(B,W(W({},$),{},{chartWidth:P,chartHeight:C,margin:O,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),he(T,"renderTooltip",function(){var A,x=T.props,E=x.children,P=x.accessibilityLayer,C=_n(E,sr);if(!C)return null;var O=T.state,N=O.isTooltipActive,k=O.activeCoordinate,B=O.activePayload,$=O.activeLabel,H=O.offset,q=(A=C.props.active)!==null&&A!==void 0?A:N;return U.cloneElement(C,{viewBox:W(W({},H),{},{x:H.left,y:H.top}),active:q,label:$,payload:q?B:[],coordinate:k,accessibilityLayer:P})}),he(T,"renderBrush",function(A){var x=T.props,E=x.margin,P=x.data,C=T.state,O=C.offset,N=C.dataStartIndex,k=C.dataEndIndex,B=C.updateId;return U.cloneElement(A,{key:A.key||"_recharts-brush",onChange:Of(T.handleBrushChange,A.props.onChange),data:P,x:re(A.props.x)?A.props.x:O.left,y:re(A.props.y)?A.props.y:O.top+O.height+O.brushBottom-(E.bottom||0),width:re(A.props.width)?A.props.width:O.width,startIndex:N,endIndex:k,updateId:"brush-".concat(B)})}),he(T,"renderReferenceElement",function(A,x,E){if(!A)return null;var P=T,C=P.clipPathId,O=T.state,N=O.xAxisMap,k=O.yAxisMap,B=O.offset,$=A.type.defaultProps||{},H=A.props,q=H.xAxisId,D=q===void 0?$.xAxisId:q,z=H.yAxisId,G=z===void 0?$.yAxisId:z;return U.cloneElement(A,{key:A.key||"".concat(x,"-").concat(E),xAxis:N[D],yAxis:k[G],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:C})}),he(T,"renderActivePoints",function(A){var x=A.item,E=A.activePoint,P=A.basePoint,C=A.childIndex,O=A.isRange,N=[],k=x.props.key,B=x.item.type.defaultProps!==void 0?W(W({},x.item.type.defaultProps),x.item.props):x.item.props,$=B.activeDot,H=B.dataKey,q=W(W({index:C,dataKey:H,cx:E.x,cy:E.y,r:4,fill:fb(x.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Ne($,!1)),zh($));return N.push(y.renderActiveDot($,q,"".concat(k,"-activePoint-").concat(C))),P?N.push(y.renderActiveDot($,W(W({},q),{},{cx:P.x,cy:P.y}),"".concat(k,"-basePoint-").concat(C))):O&&N.push(null),N}),he(T,"renderGraphicChild",function(A,x,E){var P=T.filterFormatItem(A,x,E);if(!P)return null;var C=T.getTooltipEventType(),O=T.state,N=O.isTooltipActive,k=O.tooltipAxis,B=O.activeTooltipIndex,$=O.activeLabel,H=T.props.children,q=_n(H,sr),D=P.props,z=D.points,G=D.isRange,te=D.baseLine,X=P.item.type.defaultProps!==void 0?W(W({},P.item.type.defaultProps),P.item.props):P.item.props,ne=X.activeDot,ye=X.hide,Ee=X.activeBar,$e=X.activeShape,L=!!(!ye&&N&&q&&(ne||Ee||$e)),le={};C!=="axis"&&q&&q.props.trigger==="click"?le={onClick:Of(T.handleItemMouseEnter,A.props.onClick)}:C!=="axis"&&(le={onMouseLeave:Of(T.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:Of(T.handleItemMouseEnter,A.props.onMouseEnter)});var Z=U.cloneElement(A,W(W({},P.props),le));function ae(Ar){return typeof k.dataKey=="function"?k.dataKey(Ar.payload):null}if(L)if(B>=0){var ce,K;if(k.dataKey&&!k.allowDuplicatedCategory){var ke=typeof k.dataKey=="function"?ae:"payload.".concat(k.dataKey.toString());ce=ry(z,ke,$),K=G&&te&&ry(te,ke,$)}else ce=z==null?void 0:z[B],K=G&&te&&te[B];if($e||Ee){var me=A.props.activeIndex!==void 0?A.props.activeIndex:B;return[U.cloneElement(A,W(W(W({},P.props),le),{},{activeIndex:me})),null,null]}if(!Ce(ce))return[Z].concat(Ts(T.renderActivePoints({item:P,activePoint:ce,basePoint:K,childIndex:B,isRange:G})))}else{var Je,it=(Je=T.getItemByXY(T.state.activeCoordinate))!==null&&Je!==void 0?Je:{graphicalItem:Z},Vt=it.graphicalItem,rr=Vt.item,Tr=rr===void 0?A:rr,si=Vt.childIndex,ir=W(W(W({},P.props),le),{},{activeIndex:si});return[U.cloneElement(Tr,ir),null,null]}return G?[Z,null,null]:[Z,null]}),he(T,"renderCustomized",function(A,x,E){return U.cloneElement(A,W(W({key:"recharts-customized-".concat(E)},T.props),T.state))}),he(T,"renderMap",{CartesianGrid:{handler:Mf,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:Mf},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:Mf},YAxis:{handler:Mf},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((b=_.id)!==null&&b!==void 0?b:$p("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=hN(T.triggeredAfterMouseMove,(I=_.throttleDelay)!==null&&I!==void 0?I:1e3/60),T.state={},T}return Ace(y,w),xce(y,[{key:"componentDidMount",value:function(){var b,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,I=b.children,T=b.data,A=b.height,x=b.layout,E=_n(I,sr);if(E){var P=E.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,O=S0(this.state,T,P,C),N=this.state.tooltipTicks[P].coordinate,k=(this.state.offset.top+A)/2,B=x==="horizontal",$=B?{x:N,y:k}:{y:N,x:k},H=this.state.formattedGraphicalItems.find(function(D){var z=D.item;return z.type.name==="Scatter"});H&&($=W(W({},$),H.props.points[P].tooltipPosition),O=H.props.points[P].tooltipPayload);var q={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:C,activePayload:O,activeCoordinate:$};this.setState(q),this.renderCursor(E),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var T,A;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(b){oy([_n(b.children,sr)],[_n(this.props.children,sr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=_n(this.props.children,sr);if(b&&typeof b.props.shared=="boolean"){var I=b.props.shared?"axis":"item";return s.indexOf(I)>=0?I:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var I=this.container,T=I.getBoundingClientRect(),A=cJ(T),x={chartX:Math.round(b.pageX-A.left),chartY:Math.round(b.pageY-A.top)},E=T.width/I.offsetWidth||1,P=this.inRange(x.chartX,x.chartY,E);if(!P)return null;var C=this.state,O=C.xAxisMap,N=C.yAxisMap,k=this.getTooltipEventType(),B=vP(this.state,this.props.data,this.props.layout,P);if(k!=="axis"&&O&&N){var $=ha(O).scale,H=ha(N).scale,q=$&&$.invert?$.invert(x.chartX):null,D=H&&H.invert?H.invert(x.chartY):null;return W(W({},x),{},{xValue:q,yValue:D},B)}return B?W(W({},x),B):null}},{key:"inRange",value:function(b,I){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,x=b/T,E=I/T;if(A==="horizontal"||A==="vertical"){var P=this.state.offset,C=x>=P.left&&x<=P.left+P.width&&E>=P.top&&E<=P.top+P.height;return C?{x,y:E}:null}var O=this.state,N=O.angleAxisMap,k=O.radiusAxisMap;if(N&&k){var B=ha(N);return nA({x,y:E},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,I=this.getTooltipEventType(),T=_n(b,sr),A={};T&&I==="axis"&&(T.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var x=zh(this.props,this.handleOuterEvent);return W(W({},x),A)}},{key:"addListener",value:function(){$g.on(Lg,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$g.removeListener(Lg,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,I,T){for(var A=this.state.formattedGraphicalItems,x=0,E=A.length;x<E;x++){var P=A[x];if(P.item===b||P.props.key===b.key||I===Br(P.item.type)&&T===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,I=this.state.offset,T=I.left,A=I.top,x=I.height,E=I.width;return V.createElement("defs",null,V.createElement("clipPath",{id:b},V.createElement("rect",{x:T,y:A,height:x,width:E})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(I,T){var A=pP(T,2),x=A[0],E=A[1];return W(W({},I),{},he({},x,E.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(I,T){var A=pP(T,2),x=A[0],E=A[1];return W(W({},I),{},he({},x,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[b])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(b){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[b])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(b){var I=this.state,T=I.formattedGraphicalItems,A=I.activeItem;if(T&&T.length)for(var x=0,E=T.length;x<E;x++){var P=T[x],C=P.props,O=P.item,N=O.type.defaultProps!==void 0?W(W({},O.type.defaultProps),O.props):O.props,k=Br(O.type);if(k==="Bar"){var B=(C.data||[]).find(function(D){return Koe(b,D)});if(B)return{graphicalItem:P,payload:B}}else if(k==="RadialBar"){var $=(C.data||[]).find(function(D){return nA(b,D)});if($)return{graphicalItem:P,payload:$}}else if(nm(P,A)||rm(P,A)||tc(P,A)){var H=Yae({graphicalItem:P,activeTooltipItem:A,itemData:N.data}),q=N.activeIndex===void 0?H:N.activeIndex;return{graphicalItem:W(W({},P),{},{childIndex:q}),payload:tc(P,A)?N.data[H]:P.props.data[H]}}}return null}},{key:"render",value:function(){var b=this;if(!KS(this))return null;var I=this.props,T=I.children,A=I.className,x=I.width,E=I.height,P=I.style,C=I.compact,O=I.title,N=I.desc,k=mP(I,mce),B=Ne(k,!1);if(C)return V.createElement(tP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(sy,Ia({},B,{width:x,height:E,title:O,desc:N}),this.renderClipPath(),XS(T,this.renderMap)));if(this.props.accessibilityLayer){var $,H;B.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,B.role=(H=this.props.role)!==null&&H!==void 0?H:"application",B.onKeyDown=function(D){b.accessibilityManager.keyboardEvent(D)},B.onFocus=function(){b.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return V.createElement(tP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",Ia({className:Oe("recharts-wrapper",A),style:W({position:"relative",cursor:"default",width:x,height:E},P)},q,{ref:function(z){b.container=z}}),V.createElement(sy,Ia({},B,{width:x,height:E,title:O,desc:N,style:Rce}),this.renderClipPath(),XS(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(U.Component);he(v,"displayName",n),he(v,"defaultProps",W({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),he(v,"getDerivedStateFromProps",function(w,y){var _=w.dataKey,b=w.data,I=w.children,T=w.width,A=w.height,x=w.layout,E=w.stackOffset,P=w.margin,C=y.dataStartIndex,O=y.dataEndIndex;if(y.updateId===void 0){var N=yP(w);return W(W(W({},N),{},{updateId:0},p(W(W({props:w},N),{},{updateId:0}),y)),{},{prevDataKey:_,prevData:b,prevWidth:T,prevHeight:A,prevLayout:x,prevStackOffset:E,prevMargin:P,prevChildren:I})}if(_!==y.prevDataKey||b!==y.prevData||T!==y.prevWidth||A!==y.prevHeight||x!==y.prevLayout||E!==y.prevStackOffset||!Va(P,y.prevMargin)){var k=yP(w),B={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},$=W(W({},vP(y,b,x)),{},{updateId:y.updateId+1}),H=W(W(W({},k),B),$);return W(W(W({},H),p(W({props:w},H),y)),{},{prevDataKey:_,prevData:b,prevWidth:T,prevHeight:A,prevLayout:x,prevStackOffset:E,prevMargin:P,prevChildren:I})}if(!oy(I,y.prevChildren)){var q,D,z,G,te=_n(I,gs),X=te&&(q=(D=te.props)===null||D===void 0?void 0:D.startIndex)!==null&&q!==void 0?q:C,ne=te&&(z=(G=te.props)===null||G===void 0?void 0:G.endIndex)!==null&&z!==void 0?z:O,ye=X!==C||ne!==O,Ee=!Ce(b),$e=Ee&&!ye?y.updateId:y.updateId+1;return W(W({updateId:$e},p(W(W({props:w},y),{},{updateId:$e,dataStartIndex:X,dataEndIndex:ne}),y)),{},{prevChildren:I,dataStartIndex:X,dataEndIndex:ne})}return null}),he(v,"renderActiveDot",function(w,y,_){var b;return U.isValidElement(w)?b=U.cloneElement(w,y):xe(w)?b=w(y):b=V.createElement(k2,y),V.createElement(Tt,{className:"recharts-active-dot",key:_},b)});var g=U.forwardRef(function(y,_){return V.createElement(v,Ia({},y,{ref:_}))});return g.displayName=v.displayName,g},zce=Bce({chartName:"BarChart",GraphicalChild:Jo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:cm},{axisType:"yAxis",AxisComp:fm}],formatAxisMap:Ele});const Wce=()=>{const[t,e]=U.useState([]),[n,r]=U.useState(0);U.useEffect(()=>{const o=dc();r(o.length);const a={};o.forEach(l=>{const u=l.gameSystem.trim();a[u]=(a[u]||0)+1});const s=Object.entries(a).map(([l,u])=>({name:l,count:u})).sort((l,u)=>u.count-l.count).slice(0,10);e(s)},[]);const i=["#d97706","#b45309","#92400e","#78350f","#451a03","#57534e"];return M.jsx("div",{className:"space-y-6 animate-fade-in",children:M.jsxs("div",{className:"bg-neutral-800 rounded-xl p-6 border border-neutral-700 shadow-xl",children:[M.jsx("h2",{className:"text-2xl font-bold text-amber-500 mb-1",children:"Club Intelligence"}),M.jsx("p",{className:"text-neutral-400 text-sm mb-6",children:"Historical data analysis of game systems played."}),M.jsxs("div",{className:"space-y-6",children:[M.jsx("div",{className:"h-96",children:M.jsx(rJ,{width:"100%",height:"100%",children:M.jsxs(zce,{data:t,layout:"vertical",margin:{left:20},children:[M.jsx(cm,{type:"number",hide:!0}),M.jsx(fm,{dataKey:"name",type:"category",width:120,tick:{fill:"#a3a3a3",fontSize:12}}),M.jsx(sr,{contentStyle:{backgroundColor:"#262626",border:"1px solid #404040",color:"#fff"},itemStyle:{color:"#fbbf24"},cursor:{fill:"rgba(255,255,255,0.05)"}}),M.jsx(Jo,{dataKey:"count",radius:[0,4,4,0],children:t.map((o,a)=>M.jsx(Vw,{fill:i[a%i.length]},`cell-${a}`))})]})})}),M.jsxs("div",{className:"bg-neutral-900/50 p-4 rounded-lg border border-neutral-700 flex items-center justify-center",children:[M.jsx("span",{className:"text-4xl font-bold text-white",children:n}),M.jsx("span",{className:"text-neutral-500 ml-3",children:"Total Games Logged"})]})]})]})})},Hce={name:"",size:yu.LARGE},qce={name:"",category:Ze.SCIFI,imageUrl:""},Kce={email:"",name:"",isMember:!0,isAdmin:!1},wP=()=>M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),Gce=({tables:t,terrainBoxes:e,users:n,cancelledDates:r,specialEventDates:i,onTablesChange:o,onTerrainChange:a,onUsersChange:s,onCancelledDatesChange:l,onSpecialEventDatesChange:u,currentUser:f})=>{const[h,d]=U.useState(null),[p,v]=U.useState(null),[g,w]=U.useState(null),[y,_]=U.useState(""),[b,I]=U.useState(new Date().toISOString().split("T")[0]),[T,A]=U.useState(new Date().toISOString().split("T")[0]),[x,E]=U.useState(null),P=(L,le,Z)=>{L.dataTransfer.setData(Z,le),L.dataTransfer.effectAllowed="move",E(le)},C=()=>E(null),O=L=>L.preventDefault(),N=(L,le)=>{L.preventDefault();const Z=L.dataTransfer.getData("table");if(!Z||Z===le)return;const ae=[...t],ce=ae.findIndex(me=>me.id===Z),K=ae.findIndex(me=>me.id===le);if(ce===-1||K===-1)return;const[ke]=ae.splice(ce,1);ae.splice(K,0,ke),o(ae)},k=(L,le)=>{L.preventDefault();const Z=L.dataTransfer.getData("terrain");if(!Z||Z===le)return;const ae=[...e],ce=ae.findIndex(me=>me.id===Z),K=ae.findIndex(me=>me.id===le);if(ce===-1||K===-1)return;const[ke]=ae.splice(ce,1);ae.splice(K,0,ke),a(ae)},B=()=>{if(!(!h||!h.name)){if("id"in h)o(t.map(L=>L.id===h.id?h:L));else{const L={...h,id:`custom-${crypto.randomUUID()}`};o([...t,L])}d(null)}},$=L=>{confirm("Delete this table?")&&o(t.filter(le=>le.id!==L))},H=()=>{if(!(!p||!p.name||!p.category)){if("id"in p)a(e.map(L=>L.id===p.id?p:L));else{const L={...p,id:`custom-${crypto.randomUUID()}`};a([...e,L])}v(null)}},q=L=>{confirm("Delete this terrain box?")&&a(e.filter(le=>le.id!==L))},D=async()=>{if(!(!g||!g.name||!g.email))try{if("id"in g)await z3(g.id,{name:g.name,isMember:g.isMember,isAdmin:g.isAdmin});else{if(!y){alert("Password required");return}await B3(g.email,y,g.name,g.isMember,g.isAdmin)}s(),w(null),_("")}catch(L){alert("Error saving user. Check console."),console.error(L)}},z=async L=>{if(L===f.id)return alert("Cannot delete self.");confirm("Delete this user?")&&(await W3(L),s())},G=()=>{b&&!r.includes(b)&&l([...r,b].sort())},te=L=>{l(r.filter(le=>le!==L))},X=()=>{T&&!i.includes(T)&&u([...i,T].sort())},ne=L=>{u(i.filter(le=>le!==L))},ye=()=>M.jsxs("div",{className:"bg-neutral-800 p-4 rounded-lg mt-4 border border-amber-700/50 space-y-3",children:[M.jsx("h3",{className:"font-bold text-amber-500",children:"id"in(h||{})?"Edit Table":"Add New Table"}),M.jsx("input",{type:"text",placeholder:"Name",value:h==null?void 0:h.name,onChange:L=>d({...h,name:L.target.value}),className:"w-full bg-neutral-900 border border-neutral-600 rounded px-3 py-2 text-white"}),M.jsx("select",{value:h==null?void 0:h.size,onChange:L=>d({...h,size:L.target.value}),className:"w-full bg-neutral-900 border border-neutral-600 rounded px-3 py-2 text-white",children:Object.values(yu).map(L=>M.jsx("option",{value:L,children:L},L))}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{onClick:B,className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-1.5 rounded text-sm",children:"Save"}),M.jsx("button",{onClick:()=>d(null),className:"bg-neutral-700 text-white px-4 py-1.5 rounded text-sm",children:"Cancel"})]})]}),Ee=()=>M.jsxs("div",{className:"bg-neutral-800 p-4 rounded-lg mt-4 border border-amber-700/50 space-y-3",children:[M.jsx("h3",{className:"font-bold text-amber-500",children:"id"in(p||{})?"Edit Terrain":"Add New Terrain"}),M.jsx("input",{type:"text",placeholder:"Name",value:p==null?void 0:p.name,onChange:L=>v({...p,name:L.target.value}),className:"w-full bg-neutral-900 border border-neutral-600 rounded px-3 py-2 text-white"}),M.jsx("select",{value:p==null?void 0:p.category,onChange:L=>v({...p,category:L.target.value}),className:"w-full bg-neutral-900 border border-neutral-600 rounded px-3 py-2 text-white",children:Object.values(Ze).map(L=>M.jsx("option",{value:L,children:L},L))}),M.jsx("input",{type:"text",placeholder:"Image URL",value:p==null?void 0:p.imageUrl,onChange:L=>v({...p,imageUrl:L.target.value}),className:"w-full bg-neutral-900 border border-neutral-600 rounded px-3 py-2 text-white"}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{onClick:H,className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-1.5 rounded text-sm",children:"Save"}),M.jsx("button",{onClick:()=>v(null),className:"bg-neutral-700 text-white px-4 py-1.5 rounded text-sm",children:"Cancel"})]})]}),$e=()=>M.jsxs("div",{className:"bg-neutral-800 p-4 rounded-lg mt-4 border border-amber-700/50 space-y-3",children:[M.jsx("h3",{className:"font-bold text-amber-500",children:g&&"id"in g?`Edit ${g.name}`:"Add New Member"}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[M.jsx("input",{type:"text",placeholder:"Name",value:(g==null?void 0:g.name)||"",onChange:L=>w({...g,name:L.target.value}),className:"w-full bg-neutral-900 border border-neutral-600 rounded px-3 py-2 text-white"}),M.jsx("input",{type:"email",placeholder:"Email",value:(g==null?void 0:g.email)||"",onChange:L=>w({...g,email:L.target.value}),className:"w-full bg-neutral-900 border border-neutral-600 rounded px-3 py-2 text-white",disabled:!!(g&&"id"in g)})]}),!(g&&"id"in g)&&M.jsx("input",{type:"password",placeholder:"Initial Password",value:y,onChange:L=>_(L.target.value),className:"w-full bg-neutral-900 border border-neutral-600 rounded px-3 py-2 text-white"}),M.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[M.jsxs("label",{className:"flex items-center gap-2 text-sm text-neutral-300",children:[M.jsx("input",{type:"checkbox",checked:(g==null?void 0:g.isMember)||!1,onChange:L=>w({...g,isMember:L.target.checked}),className:"bg-neutral-900"})," Paid Member"]}),M.jsxs("label",{className:"flex items-center gap-2 text-sm text-neutral-300",children:[M.jsx("input",{type:"checkbox",checked:(g==null?void 0:g.isAdmin)||!1,onChange:L=>w({...g,isAdmin:L.target.checked}),className:"bg-neutral-900"})," Admin"]})]}),M.jsxs("div",{className:"flex gap-2 pt-2",children:[M.jsx("button",{onClick:D,className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-1.5 rounded text-sm",children:"Save"}),M.jsx("button",{onClick:()=>w(null),className:"bg-neutral-700 text-white px-4 py-1.5 rounded text-sm",children:"Cancel"})]})]});return M.jsxs("div",{className:"space-y-8 animate-fade-in",children:[M.jsx("h1",{className:"text-3xl font-bold text-amber-500",children:"Admin Panel"}),M.jsxs("div",{className:"bg-neutral-800/50 rounded-xl p-6 border border-neutral-700",children:[M.jsx("h2",{className:"text-xl font-bold mb-4",children:"Manage Schedule"}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[M.jsxs("div",{children:[M.jsx("h3",{className:"text-lg font-bold text-amber-500 mb-2",children:"Add Special Date"}),M.jsxs("div",{className:"flex gap-2 items-center bg-neutral-800 p-3 rounded-lg",children:[M.jsx("input",{type:"date",value:T,onChange:L=>A(L.target.value),className:"w-full bg-neutral-900 border border-neutral-600 rounded px-3 py-2 text-white"}),M.jsx("button",{onClick:X,className:"bg-sky-700 hover:bg-sky-600 text-white px-4 py-2 rounded text-sm",children:"Add"})]}),M.jsx("div",{className:"space-y-2 mt-2 max-h-40 overflow-y-auto pr-2 bg-neutral-800 p-3 rounded-lg",children:i.map(L=>M.jsxs("div",{className:"flex justify-between items-center bg-neutral-900 p-2 rounded",children:[M.jsx("span",{className:"text-neutral-300",children:L}),M.jsx("button",{onClick:()=>ne(L),className:"text-xs text-red-400 font-bold",children:"X"})]},L))})]}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-lg font-bold text-amber-500 mb-2",children:"Cancel Date"}),M.jsxs("div",{className:"flex gap-2 items-center bg-neutral-800 p-3 rounded-lg",children:[M.jsx("input",{type:"date",value:b,onChange:L=>I(L.target.value),className:"w-full bg-neutral-900 border border-neutral-600 rounded px-3 py-2 text-white"}),M.jsx("button",{onClick:G,className:"bg-red-800 hover:bg-red-700 text-white px-4 py-2 rounded text-sm",children:"Cancel"})]})]}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-lg font-bold text-amber-500 mb-2",children:"Cancelled Dates"}),M.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2 bg-neutral-800 p-3 rounded-lg",children:r.map(L=>M.jsxs("div",{className:"flex justify-between items-center bg-neutral-900 p-2 rounded",children:[M.jsx("span",{className:"text-neutral-300",children:L}),M.jsx("button",{onClick:()=>te(L),className:"text-xs text-green-400 font-bold",children:"OPEN"})]},L))})]})]})]}),M.jsxs("div",{className:"bg-neutral-800/50 rounded-xl p-6 border border-neutral-700",children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsxs("h2",{className:"text-xl font-bold",children:["Manage Members (",n.length,")"]}),M.jsx("button",{onClick:()=>w(Kce),className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded text-sm",children:"+ Add Member"})]}),g&&$e(),M.jsx("div",{className:"mt-4 space-y-2 max-h-96 overflow-y-auto pr-2",children:n.map(L=>M.jsxs("div",{className:"flex items-center justify-between bg-neutral-800 p-2 rounded",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("span",{className:"font-medium",children:L.name}),M.jsx("span",{className:"text-xs text-neutral-400",children:L.email}),L.isMember?M.jsx("span",{className:"text-xs text-green-400 bg-green-900/50 px-2 py-0.5 rounded-full",children:"Paid"}):M.jsx("span",{className:"text-xs text-yellow-400 bg-yellow-900/50 px-2 py-0.5 rounded-full",children:"Lapsed"}),L.isAdmin&&M.jsx("span",{className:"text-xs text-amber-400 bg-amber-900/50 px-2 py-0.5 rounded-full",children:"Admin"})]}),M.jsxs("div",{className:"flex gap-3",children:[M.jsx("button",{onClick:()=>w(L),className:"text-xs text-neutral-400 hover:text-white",children:"Edit"}),M.jsx("button",{onClick:()=>z(L.id),className:"text-xs text-red-500 hover:text-red-400",children:"Delete"})]})]},L.id))})]}),M.jsxs("div",{className:"bg-neutral-800/50 rounded-xl p-6 border border-neutral-700",children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsxs("h2",{className:"text-xl font-bold",children:["Manage Tables (",t.length,")"]}),M.jsx("button",{onClick:()=>d(Hce),className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded text-sm",children:"+ Add Table"})]}),h&&ye(),M.jsx("div",{className:"mt-4 space-y-2 max-h-96 overflow-y-auto pr-2",children:t.map(L=>M.jsxs("div",{draggable:!0,onDragStart:le=>P(le,L.id,"table"),onDragEnd:C,onDragOver:O,onDrop:le=>N(le,L.id),className:`flex items-center justify-between bg-neutral-800 p-2 rounded ${x===L.id?"opacity-40":""}`,children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("div",{className:"cursor-grab text-neutral-500 p-1",children:M.jsx(wP,{})}),M.jsx("span",{className:"font-medium",children:L.name}),M.jsx("span",{className:"text-xs text-neutral-400 ml-2 bg-neutral-700 px-2 py-0.5 rounded-full",children:L.size})]}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{onClick:()=>d(L),className:"text-xs text-neutral-400",children:"Edit"}),M.jsx("button",{onClick:()=>$(L.id),className:"text-xs text-red-500",children:"Delete"})]})]},L.id))})]}),M.jsxs("div",{className:"bg-neutral-800/50 rounded-xl p-6 border border-neutral-700",children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsxs("h2",{className:"text-xl font-bold",children:["Manage Terrain (",e.length,")"]}),M.jsx("button",{onClick:()=>v(qce),className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded text-sm",children:"+ Add Terrain"})]}),p&&Ee(),M.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mt-4 max-h-[40rem] overflow-y-auto pr-2",children:e.map(L=>M.jsxs("div",{draggable:!0,onDragStart:le=>P(le,L.id,"terrain"),onDragEnd:C,onDragOver:O,onDrop:le=>k(le,L.id),className:`bg-neutral-800 rounded-lg overflow-hidden border border-neutral-700 relative ${x===L.id?"opacity-40":""}`,children:[M.jsx("div",{className:"absolute top-2 left-2 cursor-grab text-neutral-300 bg-black/30 rounded-full p-1 z-10",children:M.jsx(wP,{})}),M.jsx("img",{src:L.imageUrl,alt:L.name,className:"w-full h-32 object-cover"}),M.jsxs("div",{className:"p-3",children:[M.jsx("p",{className:"font-bold text-sm truncate",children:L.name}),M.jsx("p",{className:"text-xs text-neutral-400",children:L.category}),M.jsxs("div",{className:"flex gap-3 mt-3",children:[M.jsx("button",{onClick:()=>v(L),className:"text-xs text-neutral-400",children:"Edit"}),M.jsx("button",{onClick:()=>q(L.id),className:"text-xs text-red-500",children:"Delete"})]})]})]},L.id))})]})]})},Xce=({user:t})=>{const[e,n]=U.useState(""),[r,i]=U.useState(""),[o,a]=U.useState(""),[s,l]=U.useState(""),u=async f=>{if(f.preventDefault(),e!==r)return a("Passwords do not match.");if(e.length<6)return a("Password must be at least 6 characters long.");try{await U3(e),l("Password updated successfully!"),n(""),i(""),a("")}catch(h){a("Failed to update password. You may need to logout and login again."),console.error(h)}};return M.jsx("div",{className:"space-y-6 animate-fade-in max-w-2xl mx-auto",children:M.jsxs("div",{className:"bg-neutral-800 rounded-xl p-6 border border-neutral-700 shadow-xl",children:[M.jsx("h2",{className:"text-2xl font-bold text-amber-500 mb-4",children:"My Profile"}),M.jsxs("div",{className:"space-y-3 bg-neutral-900/50 p-4 rounded-lg border border-neutral-700",children:[M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("span",{className:"text-neutral-400",children:"Display Name:"}),M.jsx("span",{className:"font-medium text-white",children:t.name})]}),M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("span",{className:"text-neutral-400",children:"Email:"}),M.jsx("span",{className:"font-medium text-white",children:t.email})]}),M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("span",{className:"text-neutral-400",children:"Membership Status:"}),t.isMember?M.jsx("span",{className:"text-xs text-green-400 bg-green-900/50 px-2 py-0.5 rounded-full border border-green-800",children:"Active"}):M.jsx("span",{className:"text-xs text-yellow-400 bg-yellow-900/50 px-2 py-0.5 rounded-full border border-yellow-800",children:"Lapsed"})]})]}),M.jsxs("div",{className:"mt-6",children:[M.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Change Password"}),M.jsxs("form",{onSubmit:u,className:"space-y-4 bg-neutral-900/50 p-4 rounded-lg border border-neutral-700",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-neutral-400 mb-1",children:"New Password"}),M.jsx("input",{type:"password",value:e,onChange:f=>n(f.target.value),className:"w-full bg-neutral-800 border border-neutral-600 rounded px-3 py-2 text-white"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm text-neutral-400 mb-1",children:"Confirm New Password"}),M.jsx("input",{type:"password",value:r,onChange:f=>i(f.target.value),className:"w-full bg-neutral-800 border border-neutral-600 rounded px-3 py-2 text-white"})]}),o&&M.jsx("p",{className:"text-sm text-red-400",children:o}),s&&M.jsx("p",{className:"text-sm text-green-400",children:s}),M.jsx("button",{type:"submit",className:"w-full md:w-auto mt-2 px-6 py-2 bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-500 hover:to-amber-600 text-white rounded-lg font-bold shadow-lg shadow-amber-900/20 text-sm",children:"Update Password"})]})]})]})})};k$();const Yce=()=>{var $e;const[t,e]=U.useState("home"),[n,r]=U.useState(null),[i,o]=U.useState(!0),[a,s]=U.useState([]),[l,u]=U.useState([]),[f,h]=U.useState([]),[d,p]=U.useState([]),[v,g]=U.useState([]),[w,y]=U.useState([]),_=x$(w,a,v),[b,I]=U.useState((($e=_[0])==null?void 0:$e.value)||new Date().toISOString().split("T")[0]),[T,A]=U.useState(!1),[x,E]=U.useState(!1),[P,C]=U.useState(null),O=()=>{s(dc()),u(T$()),h(A$()),g(P$()),y(O$())};U.useEffect(()=>{O();const L=p4(Ac,async le=>{if(le){const Z=await L3(le.uid);if(Z){if(r(Z),Z.isAdmin){const ae=await NS();p(ae)}}else r(null)}else r(null);o(!1)});return()=>L()},[]),U.useEffect(()=>{!_.find(L=>L.value===b)&&_.length>0&&I(_[0].value)},[_,b]);const N=L=>{E$(L),O()},k=async()=>{await F3(),r(null),e("home")},B=L=>{C(L),A(!0)},$=L=>{confirm("Are you sure you want to cancel this booking?")&&(S$(L),O())},H=()=>{C(null),A(!0)},q=L=>{jO(L),u(L)},D=L=>{$O(L),h(L)},z=L=>{I$(L),g(L)},G=L=>{C$(L),y(L)},te=async()=>{n!=null&&n.isAdmin&&p(await NS())},X=a.filter(L=>L.date===b),ne=v.includes(b),ye=[...new Set([...NO(),...w])].filter(L=>!v.includes(L)&&L>=new Date().toISOString().split("T")[0]).sort();if(i)return M.jsx("div",{className:"min-h-screen bg-neutral-900 flex items-center justify-center text-white",children:"Loading..."});const Ee=()=>M.jsxs("div",{className:"space-y-8 animate-fade-in",children:[M.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-neutral-800 p-4 rounded-xl border border-neutral-700 shadow-lg",children:[M.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[M.jsx("label",{className:"text-neutral-400 font-medium whitespace-nowrap",children:"Viewing Date:"}),M.jsx("select",{value:b,onChange:L=>I(L.target.value),className:"bg-neutral-900 border border-neutral-600 rounded-lg px-4 py-2 text-white focus:ring-2 focus:ring-amber-500 outline-none w-full md:w-auto",children:_.map(L=>M.jsxs("option",{value:L.value,disabled:L.isCancelled,children:[new Date(L.value+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric"}),L.isCancelled?" (Closed)":""]},L.value))})]}),n&&n.isMember&&M.jsx("button",{onClick:H,className:"w-full md:w-auto bg-gradient-to-r from-amber-600 to-amber-700 hover:from-amber-500 hover:to-amber-600 text-white font-bold py-2 px-6 rounded-lg shadow-lg shadow-amber-900/40 transform transition hover:-translate-y-0.5",children:"+ New Booking"})]}),M.jsxs("div",{children:[M.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[M.jsx("span",{className:"w-2 h-8 bg-amber-600 rounded-full inline-block"}),"Table Status"]}),ne?M.jsxs("div",{className:"bg-neutral-800 border-2 border-red-900/50 rounded-xl p-8 text-center",children:[M.jsx("h3",{className:"text-2xl font-bold text-red-400",children:"Club Closed"}),M.jsx("p",{className:"text-neutral-400 mt-2",children:"The club is closed on this date. Bookings are not available."})]}):M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:l.map(L=>{var ae;const le=X.find(ce=>ce.tableId===L.id),Z=n&&(le==null?void 0:le.memberId)===n.id;return M.jsxs("div",{className:`relative rounded-xl border-2 p-4 transition-all duration-300 ${le?Z?"bg-amber-900/20 border-amber-600/50":"bg-red-900/10 border-red-900/30":"bg-neutral-800 border-neutral-700 hover:border-neutral-500"}`,children:[M.jsxs("div",{className:"flex justify-between items-start mb-2",children:[M.jsx("span",{className:"font-bold text-neutral-200",children:L.name}),M.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-neutral-900 text-neutral-500 border border-neutral-700",children:L.size})]}),le?M.jsxs("div",{className:"space-y-2",children:[M.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-300",children:[M.jsxs("svg",{className:"w-4 h-4 text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),M.jsx("span",{className:"font-medium text-amber-100",children:le.gameSystem})]}),M.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-400",children:[M.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),M.jsxs("span",{children:[le.memberName," (",le.playerCount,"p)"]})]}),le.terrainBoxId&&M.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500",children:[M.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:M.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),M.jsx("span",{children:((ae=f.find(ce=>ce.id===le.terrainBoxId))==null?void 0:ae.name)||"Terrain"})]}),(Z||(n==null?void 0:n.isAdmin))&&n.isMember&&M.jsxs("div",{className:"pt-3 mt-3 border-t border-amber-900/30 flex gap-2",children:[M.jsx("button",{onClick:()=>B(le),className:"flex-1 text-xs bg-neutral-800 hover:bg-neutral-700 py-1.5 rounded text-neutral-300 transition-colors",children:"Edit"}),M.jsx("button",{onClick:()=>$(le.id),className:"flex-1 text-xs bg-red-900/30 hover:bg-red-900/50 py-1.5 rounded text-red-300 transition-colors",children:"Cancel"})]})]}):M.jsx("div",{className:"h-20 flex items-center justify-center text-neutral-600 text-sm",children:"Available"})]},L.id)})})]})]});return M.jsxs(M.Fragment,{children:[M.jsxs(_$,{user:n,onLogin:()=>E(!0),onLogout:k,currentPage:t,onNavigate:e,children:[t==="home"&&Ee(),t==="stats"&&M.jsx(Wce,{}),t==="profile"&&n&&!n.isAdmin&&M.jsx(Xce,{user:n}),t==="admin"&&(n==null?void 0:n.isAdmin)&&M.jsx(Gce,{tables:l,terrainBoxes:f,users:d,cancelledDates:v,specialEventDates:w,onTablesChange:q,onTerrainChange:D,onUsersChange:te,onCancelledDatesChange:z,onSpecialEventDatesChange:G,currentUser:n})]}),n&&M.jsx(R$,{isOpen:T,onClose:()=>A(!1),onSave:N,user:n,editingBooking:P,tables:l,terrainBoxes:f,cancelledDates:v,bookableDates:ye,initialDate:b}),M.jsx(H3,{isOpen:x,onClose:()=>E(!1)})]})};Fg.createRoot(document.getElementById("root")).render(M.jsx(V.StrictMode,{children:M.jsx(Yce,{})}));
